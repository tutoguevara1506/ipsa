<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">

    <h:head>
        <title>IPSA</title>
        <h:outputStylesheet library="css" name="estilo.css"/>
        <script type="text/javascript" src="anfora.js"/>
        <script type="text/javascript" src="es.js"/>

    </h:head>
    <h:body id="mBody" onload="PF('bar').show()" >
        
          <!--********************************************************************
        ************************** Manejo de sesiones *******************************
        *********************************************************************-->
        <h:form>
            <p:idleMonitor  onidle="PF('sessionTerminada').show();" timeout="#{session.maxInactiveInterval}" >
                <p:ajax event="idle" listener="#{conexion.logout}" process="@form" />
            </p:idleMonitor>
        </h:form>  
          
        <p:dialog header="Sesión caducada" widgetVar="sessionTerminada"
                  modal="true" closable="false" width="400" visible="false" resizable="false">
            <h:form>
                <h:panelGrid columns="1" style="vertical-align: middle; text-align: center; border-style: none">
                    <h:panelGrid columns="2" style="vertical-align: middle; text-align: center; border-style: none">
                        <h:outputText value="La sesión a caducado por inactividad, por favor, pulse sobre el siguiente botón para volver a acceder a la aplicación" />
                        <p:graphicImage url="/resources/images/desconectado.png"  /> 
                    </h:panelGrid>

                    <p:commandButton id="confirmBackToLogin" type="button" value="Iniciar sesión"
                                     onclick="window.location = '#{request.contextPath}';" />
                </h:panelGrid>
            </h:form>
        </p:dialog>
        

        
        <!--********************************************************************
        ************************** Barra de Menú *******************************
        *********************************************************************-->

        <h:form id="frmMadre">

            <p:menubar id="menumadre">
                <p:submenu label="Mantenimiento" icon="ui-icon-wrench" >
                    <p:submenu label="Configuración" icon="ui-icon-folder-open">
                        <p:menuitem value="Procesos" icon="ui-icon-transferthick-e-w" 
                                    onclick="PF('wPaises').show()"
                                    update=":frmPaises"
                                    style="width: 125px;"
                                    action="#{manPaises.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuProcesos')}"
                                    />
                        <p:menuitem value="Fabricantes" icon="ui-icon-person" 
                                    onclick="PF('wPro').show()"
                                    style="width: 125px;"
                                    action="#{manProveedores.iniciarventana()}" 
                                    disabled="#{manSeguridad.disableOpt('menuProveedores')}"
                                    update=":frmPro"
                                    />
                        <p:menuitem value="Marcas" icon="ui-icon-tag" 
                                    onclick="PF('wMarca').show()"
                                    style="width: 125px;"
                                    action="#{manMarcas.iniciarventana()}" 
                                    update=":frmMarca"
                                    disabled="#{manSeguridad.disableOpt('menuMarcas')}"
                                    />
                        <p:menuitem value="Tipología Mant." icon="ui-icon-wrench" 
                                    onclick="PF('wTipMan').show()"
                                    style="width: 125px;"
                                    action="#{manTipos.iniciarventana()}" 
                                    update=":frmTipMan"
                                    disabled="#{manSeguridad.disableOpt('menuTipoMtto')}"
                                    />
                        <p:menuitem value="Categorías Piezas" icon="ui-icon-note" 
                                    onclick="PF('wCatPie').show()"
                                    style="width: 125px;"
                                    action="#{manCategorias.iniciarventana()}" 
                                    update=":frmCatPie"
                                    disabled="#{manSeguridad.disableOpt('menuCategoriaPiezas')}"
                                    />
                        <p:menuitem value="Acciones" icon="ui-icon-wrench" 
                                    onclick="PF('wOpe').show()"
                                    style="width: 125px;"
                                    action="#{manOperaciones.iniciarventana()}" 
                                    update=":frmOpe"
                                    disabled="#{manSeguridad.disableOpt('menuOperaciones')}"
                                    />
                        <p:menuitem value="Equipos" icon="ui-icon-gear" 
                                    onclick="PF('wEquipos').show()"
                                    style="width: 125px;"
                                    action="#{manEquipos.iniciarventana()}" 
                                    update=":frmEquipos"
                                    disabled="#{manSeguridad.disableOpt('menuEquipos')}"
                                    />
                        <p:menuitem value="Piezas" icon="ui-icon-pin-s" 
                                    onclick="PF('wPiezas').show()"
                                    style="width: 125px;"
                                    action="#{manPiezas.iniciarventana()}" 
                                    update=":frmPiezas"
                                    disabled="#{manSeguridad.disableOpt('menuPiezas')}"
                                    />
                        <p:menuitem value="Grupo Fallas" icon="ui-icon-tag" 
                                    onclick="PF('wGruFal').show()"
                                    style="width: 125px;"
                                    action="#{manGruposFallas.iniciarventana()}" 
                                    update=":frmGruFal"
                                    disabled="#{manSeguridad.disableOpt('menuGrupoFallas')}"
                                    />
                        <p:menuitem value="Fallas" icon="ui-icon-wrench" 
                                    onclick="PF('wFallas').show()"
                                    style="width: 125px;"
                                    action="#{manFallas.iniciarventana()}" 
                                    update=":frmFallas"
                                    disabled="#{manSeguridad.disableOpt('menuFallas')}"
                                    />

                    </p:submenu>

                    <p:menuitem value="Registro Equipo" icon="ui-icon-gear" 
                                onclick="PF('wListaEquipos').show()"
                                style="width: 125px;"
                                update=":frmListaEquipos"
                                action="#{manListaEquipos.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuDetalleEquipo')}"
                                />
                    <p:menuitem value="Mantenimientos" icon="ui-icon-wrench" 
                                id="menuMattoMaestro"
                                onclick="PF('wMaestra').show()"
                                style="width: 125px;"
                                update=":frmMaestra"
                                action="#{manMaestroMan.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}"
                                />
                    <p:menuitem value="Integral" icon="ui-icon-wrench"
                                id="menuMttoIntegral"
                                onclick="PF('wIntegralIni').show()"
                                style="width: 125px;"
                                update=":frmIntegralIni"
                                action="#{manMaestroMan.iniciarventanaintegral()}"
                                disabled="#{manSeguridad.disableOpt('menuMttoIntegral')}"
                                />
                    <p:menuitem value="Control de Mantenimientos" icon="ui-icon-calendar" 
                                id="menuControlMtto"
                                onclick="PF('wCalend').show()"
                                update=":frmCalend"
                                action="#{manMaestroMan.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuControlMtto')}"
                                />
                    <p:menuitem value="Pronóstico de Mantenimientos" icon="ui-icon-calendar" 
                                id="menuPronosticoMtto"
                                onclick="PF('wPronosticoMtto').show()"
                                update=":frmPronosticoMtto"
                                action="#{manPronosticoMtto.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuPronosticoMtto')}"
                                />
                </p:submenu>
                <p:submenu label="Compras" icon="ui-icon-cart">

                    <p:menuitem value="Nueva Solicitud" icon="ui-icon-document" 
                                id="menuNuevaSolicitud"
                                onclick="PF('wSol').show()"
                                update=":frmSol"
                                style="width: 125px;"
                                action="#{manSolicitudes.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuNuevaSolicitud')}"
                                />

                    <p:menuitem value="Estado Solicitud" icon="ui-icon-help" 
                                id="menuEstadoSolicitud"
                                onclick="PF('wEstado').show()"
                                update=":frmEstado"
                                style="width: 125px;"
                                action="#{manEstado.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuEstadoSolicitud')}"
                                />

                    <p:menuitem value="Seguimiento" icon="ui-icon-search" 
                                id="menuSeguimiento"
                                onclick="PF('wSeguimiento').show()"
                                update=":frmSeguimiento"
                                style="width: 125px;"
                                action="#{manSeguimiento.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuSeguimiento')}"
                                />
                </p:submenu>

                <p:submenu label="Almacén" icon="ui-icon-home">
                    <p:submenu label="Configuración" icon="ui-icon-pencil">
                        <p:menuitem value="Bodegas" icon="ui-icon-home" 
                                    onclick="PF('wAlmacenes').show()"
                                    update=":frmAlmacenes"
                                    style="width: 125px;"
                                    action="#{manAlmacenes.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuBodegas')}"
                                    />
                        <p:menuitem value="Estantes" icon="ui-icon-flag" 
                                    onclick="PF('wBod').show()"
                                    update=":frmBod"
                                    action="#{manBodegas.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuEstantes')}"
                                    />
                        <p:menuitem value="Repisas" icon="ui-icon-notice" 
                                    onclick="PF('wUbi').show()"
                                    update=":frmUbi"
                                    style="width: 125px;"
                                    action="#{manUbicaciones.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuRepisas')}"
                                    />
                        <p:menuitem value="Movimientos" icon="ui-icon-arrowthick-2-n-s" 
                                    onclick="PF('wMov').show()"
                                    update=":frmMov"
                                    style="width: 125px;"
                                    action="#{manMovimientos.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuMovimientos')}"
                                    />   
                        <p:menuitem value="Piezas" icon="ui-icon-pin-s" 
                                    onclick="PF('wPiezas').show()"
                                    style="width: 125px;"
                                    action="#{manPiezas.iniciarventana()}" 
                                    update=":frmPiezas"
                                    disabled="#{manSeguridad.disableOpt('menuPiezasAlmacen')}"
                                    />

                    </p:submenu>
                    <p:menuitem value="Inventario Piezas" icon="ui-icon-suitcase" 
                                onclick="PF('wListaPiezas').show()"
                                update=":frmListaPiezas"
                                style="width: 125px;"
                                action="#{manTblPiezas.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuInventarioPiezas')}"
                                />
                    <p:submenu label="Requisiciones" icon="ui-icon-pencil">
                        <p:menuitem value="Nueva Requisicion" icon="ui-icon-document" 
                                    onclick="PF('wReq').show()"
                                    update=":frmReq"
                                    style="width: 125px;"
                                    action="#{manRequisicionNueva.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuNuevaRequisicion')}"
                                    />

                        <p:menuitem value="Estado Requisición" icon="ui-icon-help" 
                                    onclick="PF('wEstadoReq').show()"
                                    update=":frmEstadoReq"
                                    style="width: 125px;"
                                    action="#{manRequisicionEstado.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuEstadoRequisicion')}"
                                    />
                        <p:menuitem value="Seguimiento" icon="ui-icon-search" 
                                    onclick="PF('wSeguimientoReq').show()"
                                    update=":frmSeguimientoReq"
                                    style="width: 125px;"
                                    action="#{manRequisicionSeguimiento.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuSeguimientoRequisicion')}"
                                    />
                    </p:submenu>  

                </p:submenu>
                <p:submenu label="Personal" icon="ui-icon-person">
                    <p:submenu label="Configuración" icon="ui-icon-folder-open">
                        <p:menuitem value="Cargos Personal" icon="ui-icon-contact" 
                                    onclick="PF('wCargo').show()"
                                    style="width: 170px;"
                                    action="#{manCargos.iniciarventana()}" 
                                    update=":frmCargo"
                                    disabled="#{manSeguridad.disableOpt('menuCargos')}"
                                    />
                        <p:menuitem value="Evaluaciones" icon="ui-icon-arrowreturnthick-1-s" 
                                    onclick="PF('wEval').show()"
                                    update=":frmEval"
                                    style="width: 170px;"
                                    action="#{manEvaluaciones.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuEvaluaciones')}"
                                    />
                        <p:menuitem value="Factores" icon="ui-icon-pin-s" 
                                    onclick="PF('wFacEval').show()"
                                    update=":frmFacEval"
                                    style="width: 170px;"
                                    action="#{manFactores.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuFactores')}"
                                    />
                        <p:menuitem value="Criterios" icon="ui-icon-pin-s" 
                                    onclick="PF('wCriEval').show()"
                                    update=":frmCriEval"
                                    style="width: 170px;"
                                    action="#{manCriterios.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuCriterios')}"
                                    />
                        <p:menuitem value="Configuración Evaluación" icon="ui-icon-pin-s" 
                                    onclick="PF('wDetEva').show()"
                                    update=":frmDetEva"
                                    style="width: 170px;"
                                    action="#{manEvaluacionDetalle.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuConfiguraEvaluacion')}"
                                    />

                    </p:submenu>
                    <p:menuitem value="Personal" icon="ui-icon-person" 
                                onclick="PF('wPersonal').show()"
                                style="width: 125px;"
                                action="#{manPersonas.iniciarventana()}" 
                                update=":frmPersonal"
                                disabled="#{manSeguridad.disableOpt('menuPersonal')}"
                                />
                    <p:menuitem value="Evaluaciones" icon="ui-icon-person" 
                                onclick="PF('wEvaPer').show()"
                                style="width: 125px;"
                                action="#{manEvaluacionPersonas.iniciarventana()}" 
                                update=":frmEvaPer"
                                disabled="#{manSeguridad.disableOpt('menuEvaluacionPersonal')}"
                                />
                </p:submenu>
                
                <p:submenu label="Activo fijo" icon="ui-icon-wrench">
                    <p:menuitem value="Registro" icon="ui-icon-person"
                                id="menuActivoFijo"
                                onclick="PF('wActivoFijo').show()"
                                update=":frmActivoFijo"
                                action="#{manActivoFijo.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuActivoFijo')}"
                                />
                    <p:menuitem value="Consultas" icon="ui-icon-person"
                                id="menuConsultasActivoFijo"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuConsultasActivoFijo')}"
                                />
                    <p:menuitem value="Reportes" icon="ui-icon-person"
                                id="menuReportesActivoFijo"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuReportesActivoFijo')}"
                                />
                </p:submenu>
                <p:submenu label="Reportes" icon="ui-icon-print">

                </p:submenu>

                <p:submenu label="Seguridad" icon="ui-icon-wrench">
                    <p:menuitem value="Usuarios" icon="ui-icon-person"
                                id="menuUsuarios"
                                onclick="PF('wUsuarios').show()"
                                update=":frmUsuarios"
                                action="#{manUsuarios.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuUsuarios')}"
                                />
                    <p:menuitem value="Departamentos" icon="ui-icon-home" 
                                onclick="PF('wDepartamentos').show()"
                                update=":frmDepartamentos"
                                style="width: 125px;"
                                action="#{manDepartamentos.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuDeptos')}"
                                />
                    <p:menuitem value="Listados" icon="ui-icon-person"
                                id="menuListaEspecifica"
                                onclick="PF('wLisEsp').show()"
                                update=":frmLisEsp"
                                action="#{manListaEspecifica.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuListaEspecifica')}"
                                />
                    <p:menuitem value="Grupos de seguridad" icon="ui-icon-suitcase" 
                                id="menuGruposSeg"
                                onclick="PF('wGrupo').show()"
                                update=":frmGrupo"
                                action="#{manGrupos.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuGruposSeg')}"
                                />
                    <p:menuitem value="Catalogo Controles" icon="ui-icon-flag" 
                                id="menuCatCtrl"
                                onclick="PF('wControl').show()"
                                update=":frmControl"
                                action="#{manControles.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuCatCtrl')}"
                                />
                    <p:menuitem value="Asignación Usuarios-Grupos" icon="ui-icon-pin-s" 
                                id="menuAsigUsrGrp"
                                onclick="PF('wUsrGrp').show()"
                                update=":frmUsrGrp"
                                action="#{manUserGroup.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuAsigUsrGrp')}"
                                />
                    <p:menuitem value="Asignación de derechos" icon="ui-icon-locked" 
                                id="menuAsigDerechos"
                                onclick="PF('wSecurity').show()"
                                update=":frmSecurity"
                                action="#{manSeguridad.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuAsigDerechos')}"
                                />
                    <p:menuitem value="Control de  alertas" icon="ui-icon-alert" 
                                id="menuControlAlertas"
                                onclick="PF('wAlertas').show()"
                                update=":frmAlertas"
                                action="#{manAlertas.iniciarventana()}"
                                style="width: 190px;"
                                disabled="#{manSeguridad.disableOpt('menuControlAlertas')}"
                                />
                </p:submenu>
                <f:facet name="options">
                    <p:commandButton value="Logout" icon="ui-icon-extlink"
                                     actionListener="#{login.endConversation()}"
                                     update=":frmMadre"
                                     action="index?faces-redirect=true"
                                     />
                </f:facet>
            </p:menubar>



            <!--****************** ConfirmDialog Global *********************-->
            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                <p:commandButton value="Sí" type="button" 
                                 styleClass="ui-confirmdialog-yes" 
                                 icon="ui-icon-check" />
                <p:commandButton value="No" type="button" 
                                 styleClass="ui-confirmdialog-no" 
                                 icon="ui-icon-close" />
            </p:confirmDialog>


        </h:form>

        <!--******************************************************************** 
        *************************     DASHBOARD    ****************************
        *********************************************************************-->

        <div style="height:500px">
            <h:form>
                <p:growl id="msgs" showDetail="true" />

                <p:panel id="graficaMantenimientos" header="Gráfico de Mantenimientos Preventivos" closable="true" visible="#{!manSeguridad.disableOpt('dashboardMtto')}">
                    <h:form id="frmTimeLine"> 
                        <p:growl id="msgTimeLine" showDetail="true" life="4500"/>
                        <pe:timeline id="timeline" value="#{manMaestroMan.modelTimeLine}" height="330px" 
                                     zoomable="true"  
                                     selectable="true"
                                     editable="false"                                               
                                     moveable="false"  
                                     stackEvents="true"  
                                     axisOnTop="false"
                                     eventStyle="dot"
                                     showCurrentTime="true"  
                                     showNavigation="true"
                                     timeChangeable="true"
                                     locale="es">
                            <p:ajax  event="edit" listener="#{manMaestroMan.onEdit}" process="@form" update="frmMaestra" oncomplete="PF('wMaestra').show();" /> 
                            <p:ajax  event="changed" listener="#{manMaestroMan.onChange}" process="@form"/> 
                        </pe:timeline>  
                    </h:form>
                </p:panel>

                <p:dashboard id="board" model="#{dashboardView.model}">
                    <p:ajax event="reorder" listener="#{dashboardView.handleReorder}" update="msgs" />
                    <p:panel id="solicitudesPendientes" header="Solicitudes" closable="true">
                        <h:outputText value="Solicitudes pendientes"  />
                    </p:panel>

                    <p:panel id="dashAlertas" header="Alertas" closable="true">
                        <h:form>
                            <p:dataTable id="dshAlert" var="vDaler" 
                                         value="#{manAlertas.logale}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manAlertas.logalertas}" 
                                         rowKey="#{vDaler.id_log_ale}"
                                         editable="false" 
                                         scrollable="true"
                                         scrollHeight="80"
                                         style="width:550px"
                                         widgetVar="alerLogDT"
                                         rowIndexVar="logIndex"                                    
                                         >
                                <p:column style="width:30px" headerText="Id">
                                    <h:outputText value="#{vDaler.id_log_ale}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Tipo Alerta">
                                    <h:outputText value="#{vDaler.nom_tip_ale}" />
                                </p:column>
                                <p:column style="width:60px" headerText="Fecha">
                                    <h:outputText value="#{vDaler.fec_ale}" />
                                </p:column>
                                <p:column style="width:180px" headerText="Descripción">
                                    <h:outputText value="#{vDaler.ale_des}" />
                                </p:column>
                                <p:column style="text-align: center">                                
                                    <p:commandButton update=":dlgDetalleProMtto"
                                                     icon="ui-icon-trash"
                                                     title="Borrar registro de alerta"
                                                     onclick="PF('alerLogDT').selectRow(#{logIndex})" 
                                                     action="#{manAlertas.remove}"
                                                     process="@form">
                                        <f:setPropertyActionListener value="#{vDaler}" target="#{manAlertas.logalertas}" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </h:form>
                    </p:panel>

                </p:dashboard>

                <div style="clear:both" />
            </h:form>
        </div>      

        <!--******************************************************************** 
        *************************Barra Notificación ****************************
        *********************************************************************-->

        <h:form id="frmNB"> 
            <p:notificationBar id="nbMadre" position="bottom" effect="slide"
                               widgetVar="bar" style="height: 50px;">

                <h:panelGrid  columns="1" cellpadding="1">
                    <h:outputText value="Usuario: &lt;font color='red'&gt; #{login.det_nom} &lt;/font&gt;&lt;br /&gt;Departamento: &lt;font color='red'&gt; #{login.nomdep} &lt;/font&gt;"
                                  escape="false"
                                  style="font-size:14px; position: absolute; top:5%;right:45%;bottom:0;margin: auto; "
                                  />

                    <h:graphicImage  id="cclogo" value="/nube.gif" width="60" height="55" 
                                     style=" position: absolute; top:0;right:10%;bottom:0;margin: auto; "/>

                    <h:graphicImage  id="ipsalogo" value="/logo2.png" width="110" height="55" 
                                     style=" position: absolute; top:0;right:80%;bottom:0;margin: auto; "/>
                </h:panelGrid>
            </p:notificationBar>
        </h:form>

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de usuarios ********************
        *********************************************************************-->

        <p:dialog  id="dlgUsuarios" widgetVar="wUsuarios" modal="true" 
                   width="500" height="470" closable="false" resizable="false" 
                   header="Mantenimiento Usuarios" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmUsuarios"> 
                <p:growl id="msgUsuarios" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manUsuarios.nuevo()}"
                                         update=":frmUsuarios"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manUsuarios.guardar()}"
                                         update=":frmUsuarios"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manUsuarios.eliminar()}"
                                         update=":frmUsuarios"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wUsuarios').hide()"
                                         action="#{manUsuarios.cerrarventana()}" 
                                         update=":frmUsuarios"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Usuario" style="font-weight:bold;" />
                        <p:inputText maxlength="15" size="17" value="#{manUsuarios.nom_usu}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="Contraseña" style="font-weight:bold;" />
                        <p:password maxlength="15" size="17" value="#{manUsuarios.des_pas}" 
                                    onfocus="this.select()"/>
                        <h:outputText value="Tipo Usuario" style="font-weight:bold;" />
                        <p:selectOneMenu value="#{manUsuarios.tip_usu}" style=" width: 150px;">
                            <f:selectItem itemLabel="Usuario" itemValue="0"/>
                            <f:selectItem itemLabel="Usuario Avanzado" itemValue="6"/>
                            <f:selectItem itemLabel="Administrador" itemValue="7"/>
                        </p:selectOneMenu>
                        <h:outputText value="Nombre" style="font-weight:bold;" />
                        <p:inputText maxlength="125" size="45" value="#{manUsuarios.det_nom}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="Correo" style="font-weight:bold;" />
                        <p:inputText maxlength="50" size="45" value="#{manUsuarios.det_mai}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="Departamento" style="font-weight:bold;" />
                        <p:selectOneMenu value="#{manUsuarios.cod_dep}" style=" width: 150px;">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manUsuarios.departamentos}" var="mdepusu"
                                           itemLabel="#{mdepusu.nom_dep}" itemValue="#{mdepusu.cod_dep}"/> 
                        </p:selectOneMenu>
                    </h:panelGrid>
                    <p:dataTable id="dtUsuarios" var="vUsu" 
                                 value="#{manUsuarios.usuarios}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manUsuarios.catusuarios}" 
                                 rowKey="#{vUsu.cod_usu}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="115"
                                 >
                        <p:ajax event="rowSelect" listener="#{manUsuarios.onRowSelect}" 
                                update=":frmUsuarios" />

                        <p:column style="width:50px" headerText="Usuario">
                            <h:outputText value="#{vUsu.nom_usu}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Departamento">
                            <h:outputText value="#{vUsu.nomdep}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Nombre">
                            <h:outputText value="#{vUsu.det_nom}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Procesos ********************
        *********************************************************************-->

        <p:dialog  id="dlgPaises" widgetVar="wPaises" modal="true" 
                   width="500" height="300" closable="false" resizable="false" 
                   header="Mantenimiento Procesos" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmPaises"> 
                <p:growl id="msgPaises" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manPaises.nuevo()}"
                                         update=":frmPaises"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manPaises.guardar()}"
                                         update=":frmPaises"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manPaises.eliminar()}"
                                         update=":frmPaises"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPaises').hide()"
                                         action="#{manPaises.cerrarventana()}" 
                                         update=":frmPaises"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Nombre" style="font-weight:bold;" />
                        <p:inputText maxlength="20" size="60" value="#{manPaises.nom_pai}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtPaises" var="vPai" 
                                 value="#{manPaises.paises}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manPaises.catpaises}" 
                                 rowKey="#{vPai.cod_pai}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{manPaises.onRowSelect}" 
                                update=":frmPaises" />

                        <p:column style="width:50px" headerText="Nombre Bodega">
                            <h:outputText value="#{vPai.nom_pai}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        ************** Pantalla mantenimiento de Departamentos *****************
        *********************************************************************-->

        <p:dialog  id="dlgDepartamentos" widgetVar="wDepartamentos" modal="true" 
                   width="440" height="320" closable="false" resizable="false" 
                   header="Mantenimiento Departamentos" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmDepartamentos"> 
                <p:growl id="msgDepartamentos" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manDepartamentos.nuevo()}"
                                         update=":frmDepartamentos"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manDepartamentos.guardar()}"
                                         update=":frmDepartamentos"
                                         icon="ui-icon-disk"
                                         />

                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manDepartamentos.eliminar()}"
                                         update=":frmDepartamentos"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wDepartamentos').hide()"
                                         action="#{manDepartamentos.cerrarventana()}" 
                                         update=":frmDepartamentos"
                                         icon="ui-icon-close"
                                         />


                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Nombre" style="font-weight:bold;" />
                        <p:inputText maxlength="20" size="45" value="#{manDepartamentos.nom_dep}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtDepartamentos" var="vDep" 
                                 value="#{manDepartamentos.departamentos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manDepartamentos.catdepartamentos}" 
                                 rowKey="#{vDep.cod_dep}"
                                 editable="false" 
                                 style="width:415px"
                                 scrollable="true"
                                 scrollHeight="200"
                                 >
                        <p:ajax event="rowSelect" listener="#{manDepartamentos.onRowSelect}" 
                                update=":frmDepartamentos" />

                        <p:column style="width:50px" headerText="Departamento">
                            <h:outputText value="#{vDep.nom_dep}" />
                        </p:column>

                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!--******************************************************************** 
        **************** Pantalla mantenimiento de Marcas **********************
        *********************************************************************-->

        <p:dialog  id="dlgMarca" widgetVar="wMarca" modal="true" 
                   width="460" height="290" closable="false" resizable="false" 
                   header="Mantenimiento de Marca" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmMarca"> 
                <p:growl id="msgMarca" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manMarcas.nuevo()}"
                                         update=":frmMarca"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manMarcas.guardar()}"
                                         update=":frmMarca"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manMarcas.eliminar()}"
                                         update=":frmMarca"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wMarca').hide()"
                                         actionListener="#{manMarcas.cerrarventana()}"
                                         update=":frmMarca"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="txtnombremarca" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombremarca" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manMarcas.nom_mar}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtMarca" var="vMarca" 
                                 value="#{manMarcas.marcas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manMarcas.catmarcas}" 
                                 rowKey="#{vMarca.id_mar}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:400px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manMarcas.onRowSelect}" 
                                update=":frmMarca"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vMarca.id_mar}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vMarca.nom_mar}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ******************* Mantenimiento Unidades Medida **********************
        *********************************************************************-->

        <p:dialog  id="dlgUniMed" widgetVar="wUniMed" modal="true" 
                   width="500" height="380" closable="false" resizable="false" 
                   header="Mantenimiento de Unidades de Medida" rendered="true" 
                   dynamic="false" 
                   >

            <h:form id="frmUniMed"> 
                <p:growl id="msgUniMed" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manUniMed.nuevo()}"
                                         update=":frmUniMed"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manUniMed.guardar()}"
                                         update=":frmUniMed"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manUniMed.eliminar()}"
                                         update=":frmUniMed"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wUniMed').hide()"
                                         actionListener="#{manUniMed.cerrarventana()}"
                                         update=":frmUniMed"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtabreviaturaunimed" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Abreviatura" style="font-weight:bold;"/>
                            <p:inputText id="txtabreviaturaunimed" 
                                         size="30"
                                         maxlength="25"
                                         value="#{manUniMed.abr_uni}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombreunimed" 
                                         size="30"
                                         maxlength="25"
                                         value="#{manUniMed.nom_uni}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel>
                    <p:dataTable id="dtunimed" var="vUniMed" 
                                 value="#{manUniMed.unidades}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manUniMed.catunidades}" 
                                 rowKey="#{vUniMed.cod_uni}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="150"
                                 style="width:440px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manUniMed.onRowSelect}" 
                                update=":frmUniMed"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:60px" headerText="Nombre">
                            <h:outputText value="#{vUniMed.nom_uni}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Abreviatura">
                            <h:outputText value="#{vUniMed.abr_uni}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ****************** Mantenimiento Tipología Mantenimiento ***************
        *********************************************************************-->

        <p:dialog  id="dlgTipMan" widgetVar="wTipMan" modal="true" 
                   width="500" height="320" closable="false" resizable="false" 
                   header="Mantenimiento Tipología Mantenimiento" rendered="true" 
                   dynamic="false" 
                   >

            <h:form id="frmTipMan"> 
                <p:growl id="msgTipMan" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manTipos.nuevo()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manTipos.guardar()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manTipos.eliminar()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wTipMan').hide()"
                                         actionListener="#{manTipos.cerrarventana()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnomtipman" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Tipo Mantenimiento" style="font-weight:bold;"/>
                            <p:inputText id="txtnomtipman" 
                                         size="50"
                                         maxlength="30"
                                         value="#{manTipos.nom_tip}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Validación Inmediata" style="font-weight:bold;"/>
                            <p:selectBooleanCheckbox value="#{manTipos.flg_urg}" />
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel>
                    <p:dataTable id="dtTipMan" var="vTipMan" 
                                 value="#{manTipos.tipos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manTipos.cattipos}" 
                                 rowKey="#{vTipMan.cod_tip}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="130"
                                 style="width:440px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manTipos.onRowSelect}" 
                                update=":frmTipMan"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:60px" headerText="Tipo Mantenimiento">
                            <h:outputText value="#{vTipMan.nom_tip}" />
                        </p:column>
                        <p:column style="width:30px; text-align: center;" headerText="Validación Inmediata">
                            <p:selectBooleanCheckbox value="#{vTipMan.flg_urg}" disabled="true" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ****************** Mantenimiento Categorías Piezas *********************
        *********************************************************************-->

        <p:dialog  id="dlgCatPie" widgetVar="wCatPie" modal="true" 
                   width="500" height="320" closable="false" resizable="false" 
                   header="Mantenimiento Categorías de Piezas" rendered="true" 
                   dynamic="false" 
                   >

            <h:form id="frmCatPie"> 
                <p:growl id="msgCatPie" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manCategorias.nuevo()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manCategorias.guardar()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manCategorias.eliminar()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wCatPie').hide()"
                                         actionListener="#{manCategorias.cerrarventana()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnomcatpie" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Categoría" style="font-weight:bold;"/>
                            <p:inputText id="txtnomcatpie" 
                                         size="50"
                                         maxlength="30"
                                         value="#{manCategorias.nom_cat}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel>
                    <p:dataTable id="dtCatPie" var="vCatPie" 
                                 value="#{manCategorias.categorias}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manCategorias.catcategorias}" 
                                 rowKey="#{vCatPie.cod_cat}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="150"
                                 style="width:440px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manCategorias.onRowSelect}" 
                                update=":frmCatPie"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:60px" headerText="Categoría Piezas">
                            <h:outputText value="#{vCatPie.nom_cat}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla mantenimiento de Operaciones ***************
        *********************************************************************-->

        <p:dialog  id="dlgOperaciones" widgetVar="wOpe" modal="true" 
                   width="540" height="320" closable="false" resizable="false" 
                   header="Mantenimiento de Acciones" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmOpe"> 
                <p:growl id="msgOpe" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manOperaciones.nuevo()}"
                                         update=":frmOpe"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manOperaciones.guardar()}"
                                         update=":frmOpe"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manOperaciones.eliminar()}"
                                         update=":frmOpe"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wOpe').hide()"
                                         actionListener="#{manOperaciones.cerrarventana()}"
                                         update=":frmOpe"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombreope" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Acción" style="font-weight:bold;"/>
                            <p:inputTextarea id="txtnombreope" 
                                             cols="60"
                                             maxlength="300"
                                             value="#{manOperaciones.nom_ope}"
                                             onfocus="this.select()"
                                             rows="1"
                                             />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtOpe" var="vOpe" 
                                 value="#{manOperaciones.operaciones}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manOperaciones.catoperaciones}" 
                                 rowKey="#{vOpe.cod_ope}"
                                 editable="false"                        
                                 style="width:480px"
                                 paginator="true"
                                 rows ="6"
                                 paginatorPosition="top"
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 >
                        <p:ajax event="rowSelect" listener="#{manOperaciones.onRowSelect}" 
                                update=":frmOpe"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:300px" headerText="Acción" sortBy="#{vOpe.nom_ope}">
                            <h:outputText value="#{vOpe.nom_ope}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************** Pantalla mantenimiento de Movimientos *******************
        *********************************************************************-->

        <p:dialog  id="dlgMov" widgetVar="wMov" modal="true" 
                   width="440" height="320" closable="false" resizable="false" 
                   header="Mantenimiento de Tipo de Movimiento" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmMov"> 
                <p:growl id="msgMov" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manMovimientos.nuevo()}"
                                         update=":frmMov"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manMovimientos.guardar()}"
                                         update=":frmMov"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manMovimientos.eliminar()}"
                                         update=":frmMov"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wMov').hide()"
                                         actionListener="#{manMovimientos.cerrarventana()}"
                                         update=":frmMov"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombremov" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombremov" 
                                         size="50"
                                         maxlength="30"
                                         value="#{manMovimientos.nom_mov}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Tipo" style="font-weight:bold;"/>
                            <p:inputSwitch offLabel="Entrada" onLabel="Salida" value="#{manMovimientos.flg_tip}"/>
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtMov" var="vMov" 
                                 value="#{manMovimientos.movimientos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manMovimientos.catmovimientos}" 
                                 rowKey="#{vMov.id_mov}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="110"
                                 style="width:380px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manMovimientos.onRowSelect}" 
                                update=":frmMov"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vMov.id_mov}" />
                        </p:column>
                        <p:column style="width:160px" headerText="Nombre">
                            <h:outputText value="#{vMov.nom_mov}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Tipo">
                            <h:outputText value="#{vMov.flg_tip}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla mantenimiento de Estantes ********************
        *********************************************************************-->

        <p:dialog  id="dlgBodegas" widgetVar="wBod" modal="true" 
                   width="440" height="330" closable="false" resizable="false" 
                   header="Mantenimiento de Estantes" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmBod"> 
                <p:growl id="msgBod" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manBodegas.nuevo()}"
                                         update=":frmBod"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manBodegas.guardar()}"
                                         update=":frmBod"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manBodegas.eliminar()}"
                                         update=":frmBod"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wBod').hide()"
                                         actionListener="#{manBodegas.cerrarventana()}"
                                         update=":frmBod"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrebod" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Bodega" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manBodegas.cod_alm}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             >  
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                <f:selectItems value="#{manBodegas.almacenes}" var="malmbod"
                                               itemLabel="#{malmbod.nom_alm}" itemValue="#{malmbod.cod_alm}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrebod" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manBodegas.nom_bod}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtBod" var="vBod" 
                                 value="#{manBodegas.bodegas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manBodegas.catbodegas}" 
                                 rowKey="#{vBod.id_bod}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="140"
                                 style="width:400px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manBodegas.onRowSelect}" 
                                update=":frmBod"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:100px" headerText="Bodega">
                            <h:outputText value="#{vBod.nomalm}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Estante">
                            <h:outputText value="#{vBod.nom_bod}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************** Pantalla mantenimiento de Repisas *******************
        *********************************************************************-->

        <p:dialog  id="dlgUbi" widgetVar="wUbi" modal="true" 
                   width="500" height="350" closable="false" resizable="false" 
                   header="Mantenimiento de Repisas" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmUbi"> 
                <p:growl id="msgUbi" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manUbicaciones.nuevo()}"
                                         update=":frmUbi"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manUbicaciones.guardar()}"
                                         update=":frmUbi"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manUbicaciones.eliminar()}"
                                         update=":frmUbi"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wUbi').hide()"
                                         actionListener="#{manUbicaciones.cerrarventana()}"
                                         update=":frmUbi"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombreubi" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Bodega" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manUbicaciones.cod_pai}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             >  
                                <p:ajax event="change" listener="#{manUbicaciones.llenarBodegas()}" update="sombodubi" />
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                <f:selectItems value="#{manUbicaciones.paises}" var="mpaiubi"
                                               itemLabel="#{mpaiubi.nom_pai}" itemValue="#{mpaiubi.cod_pai}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Estante" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manUbicaciones.cod_bod}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             id="sombodubi"
                                             >  
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0" />  
                                <f:selectItems value="#{manUbicaciones.bodegas}" var="mbodcv"
                                               itemLabel="#{mbodcv.nom_bod}" itemValue="#{mbodcv.id_bod}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombreubi" 
                                         size="50"
                                         maxlength="30"
                                         value="#{manUbicaciones.nom_ubi}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtUbi" var="vUbi" 
                                 value="#{manUbicaciones.ubicaciones}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manUbicaciones.catubicaciones}" 
                                 rowKey="#{vUbi.id_ubi}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="110"
                                 style="width:440px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manUbicaciones.onRowSelect}" 
                                update=":frmUbi"/>
                        <p:ajax event="rowUnselect"/>
                        <p:column style="width:90px" headerText="Bodega">
                            <h:outputText value="#{vUbi.nompai}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Estante">
                            <h:outputText value="#{vUbi.nombod}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Repisa">
                            <h:outputText value="#{vUbi.nom_ubi}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **************** Pantalla mantenimiento de Clientes ********************
        *********************************************************************-->

        <p:dialog  id="dlgCli" widgetVar="wCli" modal="true" 
                   width="550" height="450" closable="false" resizable="false" 
                   header="Mantenimiento de Clientes" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCli"> 
                <p:growl id="msgCli" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manClientes.nuevo()}"
                                         update=":frmCli"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manClientes.guardar()}"
                                         update=":frmCli"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manClientes.eliminar()}"
                                         update=":frmCli"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wCli').hide()"
                                         actionListener="#{manClientes.cerrarventana()}"
                                         update=":frmCli"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrecli" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>

                            <p:inputText id="txtnombrecli" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manClientes.nom_cli}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Persona Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="150"
                                         value="#{manClientes.per_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Teléfono Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="20"
                                         value="#{manClientes.tel_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Correo Electrónico" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="100"
                                         value="#{manClientes.det_mai}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtcli" var="vCli" 
                                 value="#{manClientes.clientes}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manClientes.catclientes}" 
                                 rowKey="#{vCli.cod_cli}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:500px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manClientes.onRowSelect}" 
                                update=":frmCli"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:160px" headerText="Cliente">
                            <h:outputText value="#{vCli.nom_cli}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contacto">
                            <h:outputText value="#{vCli.per_con}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Teléfono">
                            <h:outputText value="#{vCli.tel_con}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************** Pantalla mantenimiento de Proveedores ******************
        *********************************************************************-->

        <p:dialog  id="dlgpro" widgetVar="wPro" modal="true" 
                   width="550" height="450" closable="false" resizable="false" 
                   header="Mantenimiento de Proveedores" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmPro"> 
                <p:growl id="msgPro" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manProveedores.nuevo()}"
                                         update=":frmPro"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manProveedores.guardar()}"
                                         update=":frmPro"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manProveedores.eliminar()}"
                                         update=":frmPro"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPro').hide()"
                                         actionListener="#{manProveedores.cerrarventana()}"
                                         update=":frmPro"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrepro" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrepro" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manProveedores.nom_pro}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Persona Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="150"
                                         value="#{manProveedores.per_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Teléfono Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="20"
                                         value="#{manProveedores.tel_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Correo Electrónico" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="100"
                                         value="#{manProveedores.det_mai}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtpro" var="vPro" 
                                 value="#{manProveedores.proveedores}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manProveedores.catproveedores}" 
                                 rowKey="#{vPro.cod_pro}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:500px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manProveedores.onRowSelect}" 
                                update=":frmPro"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:160px" headerText="Proveedor">
                            <h:outputText value="#{vPro.nom_pro}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contacto">
                            <h:outputText value="#{vPro.per_con}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Teléfono">
                            <h:outputText value="#{vPro.tel_con}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************** Pantalla mantenimiento de Equipos **********************
        *********************************************************************-->

        <p:dialog  id="dlgequipos" widgetVar="wEquipos" modal="true" 
                   width="650" height="500" closable="false" resizable="false" 
                   header="Mantenimiento de Equipos" rendered="true" 
                   dynamic="false" visible="false" responsive="true" 
                   >
            <h:form id="frmEquipos"> 
                <p:growl id="msgEquipos" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manEquipos.nuevo()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manEquipos.guardar()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manEquipos.eliminar()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wEquipos').hide()"
                                         actionListener="#{manEquipos.cerrarventana()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:panelGroup>
                                <p:focus for="cmbequ" />
                                <h:panelGrid columns="2" cellpadding="5">
                                    <h:outputText value="Marca" style="font-weight:bold;" />
                                    <p:selectOneMenu id="cmbequ" value="#{manEquipos.cod_mar}" style=" width: 150px;">
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manEquipos.marcas}" var="vmarcaequ"
                                                       itemLabel="#{vmarcaequ.nom_mar}" itemValue="#{vmarcaequ.id_mar}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Refer" style="font-weight:bold;"/>
                                    <p:inputText  
                                        size="50"
                                        maxlength="30"
                                        value="#{manEquipos.cod_ref}"
                                        onfocus="this.select()"
                                        />
                                    <h:outputText value="Nombre" style="font-weight:bold;"/>
                                    <p:inputText  
                                        size="50"
                                        maxlength="50"
                                        value="#{manEquipos.nom_equ}"
                                        onfocus="this.select()"
                                        />
                                    <h:outputText value="Descripción Equipo" style="font-weight:bold;"/>
                                    <p:inputText size="50"
                                                 maxlength="150"
                                                 value="#{manEquipos.des_equ}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                            </h:panelGroup>
                            <p:graphicImage id="imgequ" 
                                            value="#{manEquipos.det_ima}" 
                                            cache="false" width="135" height="135" />
                        </h:panelGrid>
                        <p:fileUpload id="fupequ" 
                                      fileUploadListener="#{manEquipos.upload}" 
                                      mode="advanced" dragDropSupport="true"
                                      fileLimit="1" 
                                      allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF)$/" 
                                      update=":frmEquipos:msgEquipos,:frmEquipos:imgequ"
                                      label="Seleccionar" 
                                      cancelLabel="Cancelar" 
                                      uploadLabel="Subir" 
                                      value="#{manEquipos.file}"
                                      />
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtequ" var="vEqu" 
                                 value="#{manEquipos.equipos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manEquipos.catequipos}" 
                                 rowKey="#{vEqu.cod_equ}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:590px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manEquipos.onRowSelect}" 
                                update=":frmEquipos"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:60px" headerText="Ref">
                            <h:outputText value="#{vEqu.cod_ref}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Marca">
                            <h:outputText value="#{vEqu.marca}" />
                        </p:column>
                        <p:column style="width:160px" headerText="Nombre">
                            <h:outputText value="#{vEqu.nom_equ}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla mantenimiento de Piezas *********************
        *********************************************************************-->

        <p:dialog  id="dlgPiezas" widgetVar="wPiezas" modal="true" 
                   width="650" height="500" closable="false" resizable="false" 
                   header="Mantenimiento de Piezas" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmPiezas"> 
                <p:growl id="msgPiezas" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manPiezas.nuevo()}"
                                         update=":frmPiezas"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manPiezas.guardar()}"
                                         update=":frmPiezas"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manPiezas.eliminar()}"
                                         update=":frmPiezas"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPiezas').hide()"
                                         actionListener="#{manPiezas.cerrarventana()}"
                                         update=":frmPiezas"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:panelGroup>
                                <p:focus for="cmbequipopie" />
                                <h:panelGrid columns="2" cellpadding="5">
                                    <h:outputText value="Equipo" style="font-weight:bold;" />
                                    <p:selectOneMenu id="cmbequipopie" value="#{manPiezas.cod_equ}" 
                                                     style=" width: 180px;">
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manPiezas.equipos}" var="vequpie"
                                                       itemLabel="#{vequpie.nom_equ}" itemValue="#{vequpie.cod_equ}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Categoría" style="font-weight:bold;" />
                                    <p:selectOneMenu value="#{manPiezas.cod_cat}" 
                                                     style=" width: 180px;">
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manPiezas.categorias}" var="catpie"
                                                       itemLabel="#{catpie.nom_cat}" itemValue="#{catpie.cod_cat}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Grupo" style="font-weight:bold;" />
                                    <p:selectOneMenu value="#{manPiezas.cod_gru}" 
                                                     style=" width: 180px;">
                                        <p:ajax event="change" listener="#{manPiezas.llenarLineas()}" update="somlin" />
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manPiezas.grupos}" var="catgru"
                                                       itemLabel="#{catgru.nom_gru}" itemValue="#{catgru.cod_gru}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Línea" style="font-weight:bold;" />
                                    <p:selectOneMenu value="#{manPiezas.cod_lin}" 
                                                     style=" width: 180px;"
                                                     id="somlin"
                                                     >
                                        <f:selectItem itemLabel="Ninguna" itemValue="0"/>
                                        <f:selectItems value="#{manPiezas.lineas}" var="catlin"
                                                       itemLabel="#{catlin.nom_lin}" itemValue="#{catlin.cod_lin}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Ref" style="font-weight:bold;"/>
                                    <p:inputText size="45"
                                                 maxlength="30"
                                                 value="#{manPiezas.cod_ref}"
                                                 onfocus="this.select()"
                                                 />
                                    <h:outputText value="Nombre" style="font-weight:bold;"/>
                                    <p:inputText size="45"
                                                 maxlength="50"
                                                 value="#{manPiezas.nom_pie}"
                                                 onfocus="this.select()"
                                                 />
                                    <h:outputText value="Descripción" style="font-weight:bold;"/>
                                    <p:inputText size="45"
                                                 maxlength="150"
                                                 value="#{manPiezas.des_pie}"
                                                 onfocus="this.select()"
                                                 />
                                    <h:outputText value="Vida Ãtil (Horas)" style="font-weight:bold;"/>
                                    <p:inputText size="45"
                                                 maxlength="11"
                                                 value="#{manPiezas.vid_uti}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                            </h:panelGroup>
                            <p:graphicImage id="imgpie" 
                                            value="#{manPiezas.det_ima}" 
                                            cache="false" width="170" height="170" />
                        </h:panelGrid>
                        <p:fileUpload id="fuppie" 
                                      fileUploadListener="#{manPiezas.upload}" 
                                      mode="advanced" dragDropSupport="true"
                                      fileLimit="1" 
                                      allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF)$/" 
                                      update=":frmPiezas:msgPiezas,:frmPiezas:imgpie"
                                      label="Seleccionar" cancelLabel="Cancelar" uploadLabel="Subir" 
                                      value="#{manPiezas.file}"
                                      />
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtPie" var="vPie" 
                                 value="#{manPiezas.piezas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manPiezas.catpiezas}" 
                                 rowKey="#{vPie.cod_pie}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="50"
                                 style="width:590px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manPiezas.onRowSelect}" 
                                update=":frmPiezas"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Ref">
                            <h:outputText value="#{vPie.cod_ref}" />
                        </p:column>
                        <p:column style="width:50px" headerText="Equipo">
                            <h:outputText value="#{vPie.nomequ}" />
                        </p:column>
                        <p:column style="width:160px" headerText="Nombre">
                            <h:outputText value="#{vPie.nom_pie}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************************ Pantalla Solicitudes **************************
        *********************************************************************-->

        <p:dialog  id="dlgSol" widgetVar="wSol" modal="true" 
                   width="800" height="480" closable="false" resizable="false" 
                   header="Crear Solicitud" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSol"> 
                <p:growl id="msgSol" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manSolicitudes.nuevo()}"
                                         update=":frmSol"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manSolicitudes.guardar()}"
                                         update=":frmSol"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Modificar" style=" width: 100px;"
                                         onclick="PF('wSearch').show()"
                                         actionListener="#{manSolicitudes.iniciarventanasearch()}"
                                         update=":frmSearch"
                                         icon="ui-icon-search"
                                         />


                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wSol').hide()"
                                         actionListener="#{manSolicitudes.cerrarventana()}"
                                         update=":frmSol"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:tabView activeIndex="#{manSolicitudes.tabindex}">
                    <p:ajax event="tabChange" listener="#{manSolicitudes.onTabChange}" />
                    <p:tab id="tabgensol" title="General">
                        <div style=" background-color: #ebf8fe;">
                            <p:focus for="fecing" />
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Fecha" style="font-weight:bold;"/>
                                <h:outputText value="Solicitante" style="font-weight:bold;"/>
                                <h:outputText value="Departamento" style="font-weight:bold;"/>
                                <h:outputText value="Clase de Compra" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" id="fecing"
                                             readonlyInput="true" 
                                             showOn="button" size="16"
                                             value="#{manSolicitudes.mfecha}"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manSolicitudes.dateSelected}" />
                                </p:calendar> 
                                <p:selectOneMenu value="#{manSolicitudes.cod_usu_sol}" 
                                                 style="width:160px;text-align:right;"
                                                 immediate="false"
                                                 disabled="#{manSeguridad.disableOpt('comboSolicitante')}" 
                                                 >  
                                    <f:selectItem itemLabel="Ninguno" itemValue="0" />  
                                    <f:selectItems value="#{manSolicitudes.usuarios}" var="solususol"
                                                   itemLabel="#{solususol.det_nom}" itemValue="#{solususol.cod_usu}"/>
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manSolicitudes.cod_dep}" 
                                                 style="width:140px;text-align:right;"
                                                 immediate="false"
                                                 disabled="#{manSeguridad.disableOpt('comboDepartamento')}"
                                                 id="somdepsol"
                                                 >  
                                    <f:selectItem itemLabel="Ninguno" itemValue="0" />  
                                    <f:selectItems value="#{manSolicitudes.departamentos}" var="movDep"
                                                   itemLabel="#{movDep.nom_dep}" itemValue="#{movDep.cod_dep}"/>
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manSolicitudes.flg_loc}" 
                                                 style="width:140px;text-align:right;"
                                                 immediate="false"
                                                 >  
                                    <f:selectItem itemLabel="Local" itemValue="0" />
                                    <f:selectItem itemLabel="Internacional" itemValue="1" /> 
                                </p:selectOneMenu>
                            </h:panelGrid>
                            <h:panelGrid columns="2" cellpadding="5" >
                                <h:outputText value="Equipo" style="font-weight:bold;"/>
                                <h:outputText value="Uso" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manSolicitudes.cod_maq}" 
                                                 style="width:310px;text-align:right;"
                                                 immediate="false"
                                                 id="somequsol"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >  
                                    <f:selectItem itemLabel="No Aplica" itemValue="0" />  
                                    <f:selectItems value="#{manSolicitudes.equipos}" var="solmaq"
                                                   itemLabel="#{solmaq.des_equ}" itemValue="#{solmaq.cod_lis_equ}"/>
                                </p:selectOneMenu>

                                <p:inputText size="50"
                                             maxlength="75"
                                             value="#{manSolicitudes.det_uso}"
                                             onfocus="this.select()"
                                             />
                            </h:panelGrid>
                            <h:panelGrid columns="1" cellpadding="5">
                                <h:outputText value="Observaciones " style="font-weight:bold;"/>
                                <p:inputTextarea rows="2"
                                                 cols="105"
                                                 maxlength="150"
                                                 value="#{manSolicitudes.det_obs}"
                                                 onfocus="this.select()"
                                                 />
                            </h:panelGrid>
                        </div>
                    </p:tab>

                    <p:tab  id="tabdetsol" title="Detalle">
                        <div style=" background-color: #ebf8fe;">
                            <h:panelGrid columns="1" cellpadding="5">
                                <h:outputText value="Item Codificado" style="font-weight:bold;"/>

                                <p:selectOneMenu value="#{manSolicitudes.det_non_sto}" 
                                                 style="width:60px;text-align:right;"
                                                 immediate="false"
                                                 >
                                    <p:ajax event="change" listener="#{manSolicitudes.onChangeNonStock()}" update="somitesol,desitem"/>
                                    <f:selectItem  itemLabel="No" itemValue="0" />
                                    <f:selectItem  itemLabel="Si" itemValue="1" />
                                </p:selectOneMenu>

                            </h:panelGrid>
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                <h:outputText value="Código Pieza" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="11"
                                             maxlength="11"
                                             value="#{manSolicitudes.det_det_can_sol}"
                                             onfocus="this.select()"
                                             id="canitem"
                                             />
                                <p:selectOneMenu value="#{manSolicitudes.det_cod_ite}" 
                                                 style="width:500px;text-align:right;"
                                                 immediate="false"
                                                 id="somitesol"
                                                 disabled="#{manSolicitudes.boolNS}"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem  itemLabel="Ninguno" itemValue="0" />
                                    <f:selectItems value="#{manSolicitudes.piezas}" var="solpie"
                                                   itemLabel="#{solpie.cod_ref} - #{solpie.nom_pie}" itemValue="#{solpie.cod_pie}"/>
                                </p:selectOneMenu>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>

                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Descripción Item no codificado" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="80"
                                             maxlength="150"
                                             value="#{manSolicitudes.det_des_ite}"
                                             onfocus="this.select()"
                                             id="desitem"
                                             disabled="#{!manSolicitudes.boolNS}"
                                             />
                                <p:commandButton icon="ui-icon-plus" 
                                                 title="Agregar Detalle" 
                                                 style=" width: 30px; height: 20px;" 
                                                 actionListener="#{manSolicitudes.agregardetalle()}"
                                                 update=":frmSol:dtSol,:frmSol:msgSol,canitem,desitem"
                                                 />
                                <p:commandButton icon="ui-icon-minus" 
                                                 title="Remover Detalle" 
                                                 style=" width: 30px; height: 20px;" 
                                                 actionListener="#{manSolicitudes.eliminardetalle()}" 
                                                 update=":frmSol:dtSol,:frmSol:msgSol,canitem,desitem"/>
                            </h:panelGrid>  
                        </div>
                    </p:tab>
                </p:tabView>
                <p:panel>
                    <p:dataTable id="dtSol" var="vSol" 
                                 value="#{manSolicitudes.detalles}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manSolicitudes.catdetalles}" 
                                 rowKey="#{vSol.cod_det}"
                                 editable="false" 
                                 style="width:740px"
                                 scrollable="true"
                                 scrollHeight="120"
                                 >
                        <p:ajax event="rowSelect" listener="#{manSolicitudes.onRowSelect}" 
                                update=":frmSol"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:40px;" headerText="Item">
                            <h:outputText value="#{vSol.cod_det}" />
                        </p:column>
                        <p:column style="width:80px;" headerText="Cantidad">
                            <h:outputText value="#{vSol.det_can_sol}" />
                        </p:column>
                        <p:column style="width:450px" headerText="Descripción Item">
                            <h:outputText value="#{vSol.des_ite}" />
                        </p:column>


                    </p:dataTable>
                </p:panel>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgSearch" widgetVar="wSearch" modal="true" 
                   width="770" height="300" closable="false" resizable="false" 
                   header="Buscar Solicitud" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSearch"> 
                <p:growl id="msgSearch" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wSearch').hide()"
                                         actionListener="#{manSolicitudes.cerrarventanasearch()}"
                                         update=":frmSearch"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:dataTable id="dtSearch" var="vSearch" 
                                 value="#{manSolicitudes.maestro}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manSolicitudes.catmaestro}" 
                                 rowKey="#{vSearch.cod_mae}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="200" 
                                 style="width:720px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manSolicitudes.onRowSelectsearch}" 
                                update=":frmSearch"/>


                        <p:column style="width:60px;" headerText="Fecha">
                            <h:outputText value="#{vSearch.fec_sol}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Código">
                            <h:outputText value="#{vSearch.cod_mae}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Departamento">
                            <h:outputText value="#{vSearch.nomdep}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Equipo">
                            <h:outputText value="#{vSearch.nommaq}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Uso">
                            <h:outputText value="#{vSearch.det_uso}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ******************* Pantalla Estado Solicitudes ************************
        *********************************************************************-->

        <p:dialog  id="dlgEstado" widgetVar="wEstado" modal="true" 
                   width="840" height="460" closable="false" resizable="false" 
                   header="Estado Solicitud" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmEstado"> 
                <p:growl id="msgEstado" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Actualizar" style=" width: 100px;"
                                         actionListener="#{manEstado.iniciarventana()}"
                                         update=":frmEstado"
                                         icon="ui-icon-refresh"
                                         /> 
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manEstado.eliminar()}"
                                         update=":frmEstado"
                                         icon="ui-icon-trash"
                                         > 
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea Eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>

                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wEstado').hide()"
                                         actionListener="#{manEstado.cerrarventana()}"
                                         update=":frmEstado"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>

                <p:panel>
                    <p:dataTable id="dtEstado" var="vEstado" 
                                 value="#{manEstado.maestro}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manEstado.catmaestro}" 
                                 rowKey="#{vEstado.cod_mae}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="120"
                                 >

                        <p:ajax event="rowSelect" listener="#{manEstado.onRowSelect}" 
                                update=":frmEstado"/>
                        <p:ajax event="rowUnselect" listener="#{manEstado.onRowUnselect}" 
                                update=":frmEstado"/>

                        <p:column style="width:40px;" headerText="Código">
                            <h:outputText value="#{vEstado.cod_alt}" />
                        </p:column>
                        <p:column style="width:60px;" headerText="Fecha">
                            <h:outputText value="#{vEstado.fec_sol}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Departamento">
                            <h:outputText value="#{vEstado.nomdep}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Equipo">
                            <h:outputText value="#{vEstado.nommaq}" />
                        </p:column>
                        <p:column style="width:160px;" headerText="Uso">
                            <h:outputText value="#{vEstado.det_uso}" />
                        </p:column>
                        <p:column style="width:130px" headerText="Estado">
                            <h:outputText value="#{vEstado.det_sta}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>


                <p:panel>
                    <p:dataTable id="dtEstadoDet" var="vEsDet" 
                                 value="#{manEstado.detalles}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manEstado.catdetalles}" 
                                 rowKey="#{vEsDet.cod_det}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="200"
                                 >
                        <p:ajax event="rowSelect" listener="#{manEstado.onRowSelect}" 
                                update=":frmEstado"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px;" headerText="Can.Solic.">
                            <h:outputText value="#{vEsDet.det_can_sol}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Can.Entreg.">
                            <h:outputText value="#{vEsDet.det_can_ent}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Can.Pend.">
                            <h:outputText value="#{vEsDet.det_can_pen}" />
                        </p:column>
                        <p:column style="width:250px" headerText="Descripción Item">
                            <h:outputText value="#{vEsDet.des_ite}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Estado">
                            <h:outputText value="#{vEsDet.det_sta}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>

            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla Seguimiento Solicitudes *********************
        *********************************************************************-->

        <p:dialog  id="dlgSeguimiento" widgetVar="wSeguimiento" modal="true" 
                   width="900" height="480" closable="false" resizable="false" 
                   header="Seguimiento de Solicitudes" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSeguimiento"> 
                <p:growl id="msgSeguimiento" showDetail="true" life="4500"/>
                <p:tabView id="tabseguimientosol" activeIndex="#{manSeguimiento.tabindex}">
                    <p:ajax event="tabChange" listener="#{manSeguimiento.onTabChange}" />
                    <p:tab id="tabSegSol" title="Seguimiento" disabled="#{manSeguridad.disableOpt('tabSeguimientoSol')}" >

                        <p:panel>
                            <p:dataTable id="dtSegui" var="vSegui" 
                                         value="#{manSeguimiento.maestro}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manSeguimiento.catmaestro}" 
                                         rowKey="#{vSegui.cod_mae}"
                                         editable="false" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="55"
                                         widgetVar="wvSegui"
                                         >

                                <f:facet name="header">
                                    <p:outputPanel style=" text-align: right;">
                                        <h:panelGroup>
                                            <p:commandButton value="Actualizar" style=" width: 100px;"
                                                             actionListener="#{manSeguimiento.refrescarventana()}"
                                                             update=":frmSeguimiento"
                                                             icon="ui-icon-refresh"
                                                             /> 

                                            <p:commandButton value="Cerrar" style=" width: 100px;"
                                                             onclick="PF('wSeguimiento').hide()"
                                                             actionListener="#{manSeguimiento.cerrarventana()}"
                                                             update=":frmSeguimiento"
                                                             icon="ui-icon-close"
                                                             />
                                            <h:outputText value="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filtrar:&nbsp;&nbsp;" />
                                            <p:inputText id="globalFilter" 
                                                         onkeyup="PF('wvSegui').filter()" 
                                                         style="width:200px;" 
                                                         placeholder="Código, Fecha, Solicitante"/>
                                        </h:panelGroup>

                                    </p:outputPanel>
                                </f:facet>


                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowSelect}" 
                                        update=":frmSeguimiento:tabseguimientosol" />
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowUnselect}" 
                                        update=":frmSeguimiento:tabseguimientosol" />

                                <p:column style="width:40px;" headerText="Código" filterBy="#{vSegui.cod_alt}" filterMatchMode="contains"  
                                          filterStyle="display:none; visibility:hidden;">
                                    <h:outputText value="#{vSegui.cod_alt}" />
                                </p:column>
                                <p:column style="width:60px;" headerText="Fecha" filterBy="#{vSegui.fec_sol}" filterMatchMode="contains"  
                                          filterStyle="display:none; visibility:hidden;">
                                    <h:outputText value="#{vSegui.fec_sol}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Solicitante" filterBy="#{vSegui.nomusu}" filterMatchMode="contains"  
                                          filterStyle="display:none; visibility:hidden;">
                                    <h:outputText value="#{vSegui.nomusu}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Departamento">
                                    <h:outputText value="#{vSegui.nomdep}" />
                                </p:column>
                                <p:column style="width:170px" headerText="Uso">
                                    <h:outputText value="#{vSegui.det_uso}" />
                                </p:column>
                                <p:column style="width:70px;" headerText="Equipo">
                                    <h:outputText value="#{vSegui.nommaq}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Estado">
                                    <h:outputText value="#{vSegui.det_sta}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <p:dataTable id="dtSeguiDet" var="vSeguiDet" 
                                         value="#{manSeguimiento.detalles}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manSeguimiento.catdetalles}" 
                                         rowKey="#{vSeguiDet.cod_det}"
                                         editable="false" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="65"
                                         >
                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowSelectDetalle}" 
                                        update=":frmSeguimiento:tabseguimientosol" />
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowUnselectDetalle}" 
                                        update=":frmSeguimiento:tabseguimientosol" />

                                <p:column style="width:30px;" headerText="C.Sol.">
                                    <h:outputText value="#{vSeguiDet.det_can_sol}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Ent.">
                                    <h:outputText value="#{vSeguiDet.det_can_ent}" />
                                </p:column>
                                <p:column style="width:30px; background-color: #ff9999;" headerText="C.Pen.">
                                    <h:outputText value="#{vSeguiDet.det_can_pen}" />
                                </p:column>
                                <p:column style="width:210px" headerText="Descripción Item">
                                    <h:outputText value="#{vSeguiDet.des_ite}" />
                                </p:column>
                                <p:column style="width:80px; background-color: #ff9999;" headerText="Estado">
                                    <h:outputText value="#{vSeguiDet.det_sta}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:tabView activeIndex="#{manSeguimiento.tabindex2}">
                            <p:ajax event="tabChange" listener="#{manSeguimiento.onTabChange2}" />
                            <p:tab title="Cotizar" id="tabSegCot">
                                <h:panelGrid columns="6" cellpadding="5">
                                    <h:outputText value="Proveedor" style="font-weight:bold;"/>
                                    <p:selectOneMenu value="#{manSeguimiento.cot_cod_pro}" 
                                                     style="width:400px;text-align:right;"
                                                     immediate="false"
                                                     >
                                        <f:selectItem  itemLabel="Ninguno" itemValue="0" />
                                        <f:selectItems value="#{manSeguimiento.proveedores}" var="somprovsegui"
                                                       itemLabel="#{somprovsegui.nom_pro}" itemValue="#{somprovsegui.cod_pro}"/>
                                    </p:selectOneMenu>
                                    <h:outputText value="Precio" style="font-weight:bold;"/>
                                    <p:inputText value="#{manSeguimiento.cot_det_cot}" size="15" onfocus="this.select()" />
                                    <p:commandButton icon="ui-icon-plus" 
                                                     title="Agregar Detalle" 
                                                     style=" width: 30px; height: 20px;" 
                                                     actionListener="#{manSeguimiento.agregarcotizacion()}"
                                                     update=":frmSeguimiento:tabseguimientosol, :frmSeguimiento:msgSeguimiento "
                                                     />
                                    <p:commandButton icon="ui-icon-minus" 
                                                     title="Remover Detalle" 
                                                     style=" width: 30px; height: 20px;" 
                                                     actionListener="#{manSeguimiento.eliminarcotizacion()}" 
                                                     update=":frmSeguimiento:tabseguimientosol, :frmSeguimiento:msgSeguimiento "
                                                     />

                                </h:panelGrid>
                                <p:dataTable id="dtCotizac" var="vCotizac" 
                                             value="#{manSeguimiento.cotizaciones}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selectionMode="single" selection="#{manSeguimiento.catcotizaciones}" 
                                             rowKey="#{vCotizac.cor_det}"
                                             editable="false" 
                                             style="width:800px;"
                                             scrollable="true"
                                             scrollHeight="65"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowSelectCotizacion}" 
                                            update=":frmSeguimiento:tabseguimientosol" />
                                    <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowUnselectCotizacion}" 
                                            update=":frmSeguimiento:tabseguimientosol" />

                                    <p:column style="width:300px;" headerText="Proveedor">
                                        <h:outputText value="#{vCotizac.nompro}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Precio">
                                        <h:outputText value="#{vCotizac.det_cot}" />
                                    </p:column>
                                </p:dataTable>

                            </p:tab>
                            <p:tab title="Comprar" id="tabSegCom">
                                <h:panelGrid columns="8" cellpadding="5">
                                    <h:outputText value="Proveedor" style="font-weight:bold;"/>
                                    <p:selectOneMenu value="#{manSeguimiento.com_cod_pro}" 
                                                     style="width:300px;text-align:right;"
                                                     immediate="false"
                                                     >
                                        <f:selectItem  itemLabel="Ninguno" itemValue="0" />
                                        <f:selectItems value="#{manSeguimiento.proveedores}" var="somprovseguicom"
                                                       itemLabel="#{somprovseguicom.nom_pro}" itemValue="#{somprovseguicom.cod_pro}"/>
                                    </p:selectOneMenu>
                                    <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                    <p:inputText value="#{manSeguimiento.com_can_com}" size="10" onfocus="this.select()" />
                                    <h:outputText value="Costo" style="font-weight:bold;"/>
                                    <p:inputText value="#{manSeguimiento.com_det_com}" size="15" onfocus="this.select()" />
                                    <p:commandButton icon="ui-icon-plus" 
                                                     title="Agregar Detalle" 
                                                     style=" width: 30px; height: 20px;" 
                                                     actionListener="#{manSeguimiento.agregarcompra()}"
                                                     update=":frmSeguimiento:tabseguimientosol, :frmSeguimiento:msgSeguimiento "
                                                     />
                                    <p:commandButton icon="ui-icon-minus" 
                                                     title="Remover Detalle" 
                                                     style=" width: 30px; height: 20px;" 
                                                     actionListener="#{manSeguimiento.eliminarcompra()}" 
                                                     update=":frmSeguimiento:tabseguimientosol, :frmSeguimiento:msgSeguimiento "
                                                     />

                                </h:panelGrid>
                                <p:dataTable id="dtComprag" var="vComprag" 
                                             value="#{manSeguimiento.compras}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selectionMode="single" selection="#{manSeguimiento.catcompras}" 
                                             rowKey="#{vComprag.cor_com}"
                                             editable="false" 
                                             style="width:800px;"
                                             scrollable="true"
                                             scrollHeight="65"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowSelectCompras}" 
                                            update=":frmSeguimiento:tabseguimientosol" />
                                    <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowUnselectCompras}" 
                                            update=":frmSeguimiento:tabseguimientosol" />

                                    <p:column style="width:300px;" headerText="Proveedor">
                                        <h:outputText value="#{vComprag.nompro}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Cantidad">
                                        <h:outputText value="#{vComprag.can_com}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Costo">
                                        <h:outputText value="#{vComprag.det_com}" />
                                    </p:column>
                                </p:dataTable>
                            </p:tab>    
                            <p:tab title="Entregar" id="panentregas">
                                <h:panelGrid columns="4" cellpadding="5">
                                    <h:outputText value="C.Entregada" style="font-weight:bold;"/>
                                    <h:outputText value="Fecha" style="font-weight:bold;"/>
                                    <h:outputText value="Destino" style="font-weight:bold;"/>
                                    <h:outputText value="Recibe" style="font-weight:bold;"/>
                                    <p:inputText value="#{manSeguimiento.det_can_ent}" size="10" onfocus="this.select()" />
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es" id="fecreci"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{manSeguimiento.mfecha}"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{manSeguimiento.dateCieSelected}" />
                                    </p:calendar>

                                    <p:selectOneMenu value="#{manSeguimiento.destino}" 
                                                     style="width:140px;text-align:right;"
                                                     immediate="false"
                                                     >
                                        <p:ajax event="change" listener="#{manSeguimiento.onSelectDestino()}" update="somreciporseg,sompaiseg,sombodseg,txtubisegui" />
                                        <f:selectItem  itemLabel="Usuario Final" itemValue="0" />
                                        <f:selectItem  itemLabel="Almacén" itemValue="1" />
                                    </p:selectOneMenu>

                                    <p:selectOneMenu value="#{manSeguimiento.recibidapor}" 
                                                     style="width:220px;text-align:right;"
                                                     immediate="false"
                                                     id="somreciporseg"
                                                     disabled="#{manSeguimiento.booledit}"
                                                     >
                                        <f:selectItem  itemLabel="Ninguno" itemValue="0" />
                                        <f:selectItems value="#{manSeguimiento.recibidores}" var="segrecibi"
                                                       itemLabel="#{segrecibi.det_nom}" itemValue="#{segrecibi.cod_usu}"/>
                                    </p:selectOneMenu>
                                </h:panelGrid>    
                                <h:panelGrid columns="5" cellpadding="5">
                                    <h:outputText value="Bodega" style="font-weight:bold;"/>
                                    <h:outputText value="Estante" style="font-weight:bold;"/>
                                    <h:outputText value="Repisa" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <p:selectOneMenu value="#{manSeguimiento.cod_pai}" 
                                                     style="width:200px;text-align:right;"
                                                     immediate="false" id="sompaiseg"
                                                     disabled="#{!manSeguimiento.booledit}"
                                                     >
                                        <p:ajax event="change" listener="#{manSeguimiento.llenarBodegas()}" update="sombodseg,txtubisegui" />
                                        <f:selectItem  itemLabel="Seleccione Una" itemValue="0" />
                                        <f:selectItems value="#{manSeguimiento.paises}" var="solmpaisegui"
                                                       itemLabel="#{solmpaisegui.nom_pai}" itemValue="#{solmpaisegui.cod_pai}" />
                                    </p:selectOneMenu>

                                    <p:selectOneMenu value="#{manSeguimiento.cod_bod}" 
                                                     style="width:180px;text-align:right;"
                                                     immediate="false" id="sombodseg"
                                                     disabled="#{!manSeguimiento.booledit}"
                                                     >
                                        <p:ajax event="change" listener="#{manSeguimiento.onSelectBodega()}" update="txtubisegui" />
                                        <f:selectItem  itemLabel="Seleccione Uno" itemValue="0" />
                                        <f:selectItems value="#{manSeguimiento.bodegas}" var="solmbodsegui"
                                                       itemLabel="#{solmbodsegui.nom_bod}" itemValue="#{solmbodsegui.id_bod}" />
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{manSeguimiento.des_ubi}" 
                                                     style="width:180px;text-align:right;"
                                                     immediate="false" id="txtubisegui"
                                                     disabled="#{!manSeguimiento.booledit}"
                                                     >
                                        <f:selectItem  itemLabel="Seleccione Una" itemValue="0" />
                                        <f:selectItems value="#{manSeguimiento.ubicaciones}" var="solmubisegui"
                                                       itemLabel="#{solmubisegui.nom_ubi}" itemValue="#{solmubisegui.id_ubi}" />
                                    </p:selectOneMenu>
                                    <p:commandButton title="Guardar" style=" width: 50px;"
                                                     actionListener="#{manSeguimiento.guardarItem()}"
                                                     update=":frmSeguimiento"
                                                     icon="ui-icon-check"
                                                     > 
                                        <p:confirm header="Guardar Entrega" 
                                                   message="¿Realmente desea Guardar los cambios realizados?" 
                                                   icon="ui-icon-alert"/>
                                    </p:commandButton>
                                    <p:commandButton title="Cancelar" style=" width: 50px;"
                                                     actionListener="#{manSeguimiento.cancelarItem()}"
                                                     update=":frmSeguimiento"
                                                     icon="ui-icon-cancel"
                                                     > 
                                        <p:confirm header="Cancelar Entrega" 
                                                   message="¿Realmente desea Cancelar el Item?" 
                                                   icon="ui-icon-alert"/>
                                    </p:commandButton>


                                </h:panelGrid>
                            </p:tab>
                        </p:tabView>

                    </p:tab>
                    <p:tab id="tabAproSol" title="Aprobaciones" disabled="#{manSeguridad.disableOpt('TabAprobacionesSol')}" >
                        <p:toolbar>
                            <f:facet name="left">
                                <p:commandButton value="Aprobar" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.aprobar()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-circle-check"
                                                 > 
                                    <p:confirm header="Aprobación de Solicitudes" 
                                               message="¿Realmente desea Aprobar esta Solicitud?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>
                                <p:commandButton value="Denegar" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.rechazar()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-circle-close"
                                                 > 
                                    <p:confirm header="Aprobación de Solicitudes" 
                                               message="¿Realmente desea Denegar esta Solicitud?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>

                                <p:commandButton value="Actualizar" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.refrescarventana()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-refresh"
                                                 />
                                <p:commandButton value="Recodificar" 
                                                 style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.limpiar()}"
                                                 update=":frmCodImp"
                                                 icon="ui-icon-transferthick-e-w"
                                                 />
                                <p:commandButton value="Cerrar" style=" width: 100px;"
                                                 onclick="PF('wSeguimiento').hide()"
                                                 actionListener="#{manSeguimiento.cerrarventana()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-close"
                                                 />


                            </f:facet>
                            <f:facet name="right">
                                <h:outputText value="Aprobada por:&nbsp;&nbsp;" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manSeguimiento.aprobador}" 
                                                 style="width:180px;text-align:right;"
                                                 immediate="false"
                                                 disabled="#{manSeguridad.disableOpt('comboAprobadaPorSol')}" 
                                                 >
                                    <f:selectItem  itemLabel="Ninguno" itemValue="0" />
                                    <f:selectItems value="#{manSeguimiento.aprobadores}" var="segapro"
                                                   itemLabel="#{segapro.det_nom}" itemValue="#{segapro.cod_usu}"/>
                                </p:selectOneMenu>
                            </f:facet>


                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtSeguiApr" var="vSeguiApr" 
                                         value="#{manSeguimiento.maestroaprobar}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manSeguimiento.catmaestroaprobar}" 
                                         rowKey="#{vSeguiApr.cod_mae}"
                                         editable="false" 
                                         style="width:810px;"
                                         scrollable="true"
                                         scrollHeight="120"
                                         >
                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowAprobarSelect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtSeguiDetApr"/>
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowAprobarUnselect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtSeguiDetApr"/>

                                <p:column style="width:20px;" headerText="Código">
                                    <h:outputText value="#{vSeguiApr.cod_mae}" />
                                </p:column>
                                <p:column style="width:40px;" headerText="Fecha">
                                    <h:outputText value="#{vSeguiApr.fec_sol}" />
                                </p:column>
                                <p:column style="width:90px" headerText="Solicitante">
                                    <h:outputText value="#{vSeguiApr.nomusu}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Departamento">
                                    <h:outputText value="#{vSeguiApr.nomdep}" />
                                </p:column>
                                <p:column style="width:90px;" headerText="Uso">
                                    <h:outputText value="#{vSeguiApr.det_uso}" />
                                </p:column>
                                <p:column style="width:150px" headerText="Observaciones">
                                    <h:outputText value="#{vSeguiApr.det_obs}" />
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <p:dataTable id="dtSeguiDetApr" var="vSeguiDetApr" 
                                         value="#{manSeguimiento.detallesaprobar}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" 
                                         selection="#{manSeguimiento.catdetallesaprobar}" 
                                         rowKey="#{vSeguiDetApr.cod_det}"
                                         editable="false" 
                                         style="width:810px;"
                                         scrollable="true"
                                         scrollHeight="180"
                                         >

                                <p:column style="width:30px;" headerText="C.Sol.">
                                    <h:outputText value="#{vSeguiDetApr.det_can_sol}" />
                                </p:column>
                                <p:column style="width:250px" headerText="Descripción Item">
                                    <h:outputText value="#{vSeguiDetApr.des_ite}" />
                                </p:column>
                                <p:column style="width:80px;" headerText="Estado">
                                    <h:outputText value="#{vSeguiDetApr.det_sta}"/>
                                </p:column>



                            </p:dataTable>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabHistoSol" title="Histórico">
                        <p:toolbar>
                            <f:facet name="left">

                                <h:panelGrid columns="5" cellpadding="3">
                                    <h:outputText value="Buscar:" style="font-weight:bold;" />
                                    <p:inputText value="#{manSeguimiento.idbuscar}" size="25" />
                                    <p:selectOneRadio id="console" value="#{manSeguimiento.rbhistoria}">
                                        <f:selectItem itemLabel="Código" itemValue="0" />
                                        <f:selectItem itemLabel="Fecha" itemValue="1" />
                                        <f:selectItem itemLabel="Solicitante" itemValue="2" />
                                    </p:selectOneRadio>
                                    <p:commandButton value="Consultar" style=" width: 100px;"
                                                     actionListener="#{manSeguimiento.llenarMaestroHistoria()}"
                                                     update=":frmSeguimiento"
                                                     icon="ui-icon-search"
                                                     /> 

                                    <p:commandButton value="Cerrar" style=" width: 100px;"
                                                     onclick="PF('wSeguimiento').hide()"
                                                     actionListener="#{manSeguimiento.cerrarventana()}"
                                                     update=":frmSeguimiento"
                                                     icon="ui-icon-close"
                                                     />
                                </h:panelGrid>

                            </f:facet>

                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtHistoricos" var="vHistoricos" 
                                         value="#{manSeguimiento.maestrohistoria}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manSeguimiento.catmaestrohistoria}" 
                                         rowKey="#{vHistoricos.cod_mae}"
                                         editable="false" 
                                         style="width:800px"
                                         scrollable="true"
                                         scrollHeight="100"
                                         >

                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowHistoriaSelect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtHistoricasDet"/>
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowHistoriaUnselect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtHistoricasDet"/>

                                <p:column style="width:30px;" headerText="Código">
                                    <h:outputText value="#{vHistoricos.cod_alt}" />
                                </p:column>
                                <p:column style="width:60px;" headerText="Fecha">
                                    <h:outputText value="#{vHistoricos.fec_sol}" />
                                </p:column>
                                <p:column style="width:90px" headerText="Solicitante">
                                    <h:outputText value="#{vHistoricos.nomusu}" />
                                </p:column>
                                <p:column style="width:90px" headerText="Uso">
                                    <h:outputText value="#{vHistoricos.det_uso}" />
                                </p:column>
                                <p:column style="width:180px" headerText="Observaciones">
                                    <h:outputText value="#{vHistoricos.det_obs}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Estado">
                                    <h:outputText value="#{vHistoricos.det_sta}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>


                        <p:panel>
                            <p:dataTable id="dtHistoricasDet" var="vHistoricasDet" 
                                         value="#{manSeguimiento.detalleshistoria}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manSeguimiento.catdetalleshistoria}" 
                                         rowKey="#{vHistoricasDet.cod_det}"
                                         editable="false" 
                                         style="width:800px"
                                         scrollable="true"
                                         scrollHeight="140"
                                         >

                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowHistoriaDetalleSelect}" 
                                        />
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowHistoriaDetalleUnselect}" 
                                        />

                                <p:column style="width:30px;" headerText="C.Sol.">
                                    <h:outputText value="#{vHistoricasDet.det_can_sol}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Ent.">
                                    <h:outputText value="#{vHistoricasDet.det_can_ent}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="Fecha">
                                    <h:outputText value="#{vHistoricasDet.fec_cie}" />
                                </p:column>
                                <p:column style="width:250px" headerText="Descripción Item">
                                    <h:outputText value="#{vHistoricasDet.des_ite}" />
                                </p:column>
                                <p:column style="width:80px;" headerText="Estado">
                                    <h:outputText value="#{vHistoricasDet.det_sta}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <div align="right">
                                <p:commandButton value="Deshacer" 
                                                 icon="ui-icon-arrowreturnthick-1-w" 
                                                 style="width: 100px;"
                                                 actionListener="#{manSeguimiento.deshacer()}"
                                                 update=":frmSeguimiento"
                                                 disabled="#{manSeguridad.disableOpt('botonDeshacerSol')}"
                                                 />
                            </div>
                        </p:panel>   

                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgCodImp" widgetVar="wCodImp" modal="true" 
                   width="380" height="130" closable="false" resizable="false" 
                   header="Impresión Comprobante" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCodImp"> 
                <p:growl id="msgCodImp" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <h:panelGrid columns="3" cellpadding="3">
                            <p:commandButton value="Guardar" style=" width: 100px;"
                                             icon="ui-icon-disk"
                                             actionListener="#{manSeguimiento.editarcodimp()}"
                                             update=":frmCodImp"
                                             />
                            <h:commandButton value="Imprimir" 
                                             style=" width: 100px; height: 21px; background-color: #dfecf1; "
                                             actionListener="#{manSeguimiento.ejecutarreporte()}"
                                             onclick="this.form.target = '_blank'"/>
                            <p:commandButton value="Cerrar" style=" width: 100px;"
                                             onclick="PF('wCodImp').hide()"
                                             icon="ui-icon-close"
                                             actionListener="#{manSeguimiento.cerrarcodimp()}"
                                             update=":frmSeguimiento"
                                             />
                        </h:panelGrid>
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Código Alternativo:" style="font-weight:bold;" />
                        <p:inputText value="#{manSeguimiento.cod_alt}" size="20" />
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ********************* Pantalla Nueva Requisición ***********************
        *********************************************************************-->

        <p:dialog  id="dlgReq" widgetVar="wReq" modal="true" 
                   width="800" height="480" closable="false" resizable="false" 
                   header="Crear Requisición" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmReq"> 
                <p:growl id="msgReq" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manRequisicionNueva.nuevo()}"
                                         update=":frmReq"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manRequisicionNueva.guardar()}"
                                         update=":frmReq"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Modificar" style=" width: 100px;"
                                         onclick="PF('wSearchReq').show()"
                                         actionListener="#{manRequisicionNueva.iniciarventanasearch()}"
                                         update=":frmSearchReq"
                                         icon="ui-icon-search"
                                         />


                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wReq').hide()"
                                         actionListener="#{manRequisicionNueva.cerrarventana()}"
                                         update=":frmReq"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:tabView activeIndex="#{manRequisicionNueva.tabindex}">
                    <p:ajax event="tabChange" listener="#{manRequisicionNueva.onTabChange}" />
                    <p:tab id="tabgenreq" title="General">
                        <div style=" background-color: #cdfff0;">
                            <p:focus for="fecingreq" />
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Fecha" style="font-weight:bold;"/>
                                <h:outputText value="Solicitante" style="font-weight:bold;"/>
                                <h:outputText value="Almacén" style="font-weight:bold;"/>
                                <h:outputText value="Departamento" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" id="fecingreq"
                                             readonlyInput="true" 
                                             showOn="button" size="16"
                                             value="#{manRequisicionNueva.mfecha}"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manRequisicionNueva.dateSelected}" />
                                </p:calendar> 
                                <p:selectOneMenu value="#{manRequisicionNueva.cod_usu_sol}" 
                                                 style="width:160px;text-align:right;"
                                                 immediate="false"
                                                 disabled="false" 
                                                 >  
                                    <f:selectItem itemLabel="Ninguno" itemValue="0" />  
                                    <f:selectItems value="#{manRequisicionNueva.usuarios}" var="reqususol"
                                                   itemLabel="#{reqususol.det_nom}" itemValue="#{reqususol.cod_usu}"/>
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manRequisicionNueva.cod_pai}" 
                                                 style="width:140px;text-align:right;"
                                                 immediate="false"
                                                 disabled="false" 
                                                 >  
                                    <p:ajax event="change" listener="#{manRequisicionNueva.onChangePais()}" 
                                            update="somdepreq,somequreq"/>
                                    <f:selectItem itemLabel="Ninguno" itemValue="0" />  
                                    <f:selectItems value="#{manRequisicionNueva.paises}" var="reqpai"
                                                   itemLabel="#{reqpai.nom_pai}" itemValue="#{reqpai.cod_pai}"/>
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manRequisicionNueva.cod_dep}" 
                                                 style="width:140px;text-align:right;"
                                                 immediate="false"
                                                 disabled="false" 
                                                 id="somdepreq"
                                                 >  
                                    <f:selectItem itemLabel="Ninguno" itemValue="0" />  
                                    <f:selectItems value="#{manRequisicionNueva.departamentos}" var="movDepreq"
                                                   itemLabel="#{movDepreq.nom_dep}" itemValue="#{movDepreq.cod_dep}"/>
                                </p:selectOneMenu>

                                <h:outputText value="Equipo" style="font-weight:bold;"/>
                                <h:outputText value="Uso" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manRequisicionNueva.cod_maq}" 
                                                 style="width:160px;text-align:right;"
                                                 immediate="false"
                                                 id="somequreq"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >  
                                    <f:selectItem itemLabel="No Aplica" itemValue="0" />  
                                    <f:selectItems value="#{manRequisicionNueva.equipos}" var="reqmaq"
                                                   itemLabel="#{reqmaq.num_ser} - #{reqmaq.nomequ}" itemValue="#{reqmaq.cod_lis_equ}"/>
                                </p:selectOneMenu>

                                <p:inputText size="25"
                                             maxlength="75"
                                             value="#{manRequisicionNueva.det_uso}"
                                             onfocus="this.select()"
                                             />
                            </h:panelGrid>

                            <h:panelGrid columns="1" cellpadding="5">
                                <h:outputText value="Observaciones " style="font-weight:bold;"/>
                                <p:inputTextarea rows="2"
                                                 cols="105"
                                                 maxlength="150"
                                                 value="#{manRequisicionNueva.det_obs}"
                                                 onfocus="this.select()"
                                                 />
                            </h:panelGrid>
                        </div>
                    </p:tab>

                    <p:tab  id="tabdetreq" title="Detalle">
                        <div style=" background-color: #ebf8fe;">

                            <h:panelGrid columns="3" cellpadding="5">
                                <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                <h:outputText value="Código Pieza" style="font-weight:bold;"/>
                                <p:commandButton icon="ui-icon-arrowthick-1-n" 
                                                 title="Remover Detalle" 
                                                 style=" width: 18px; height: 20px;" 
                                                 actionListener="#{manRequisicionNueva.eliminardetalle()}" 
                                                 update=":frmReq:dtReq,:frmReq:msgReq,canitemreq"/>
                                <p:inputText size="9"
                                             maxlength="11"
                                             value="#{manRequisicionNueva.det_det_can_sol}"
                                             onfocus="this.select()"
                                             id="canitemreq"
                                             />
                                <p:selectOneMenu value="#{manRequisicionNueva.det_cod_ite}" 
                                                 style="width:570px;text-align:right;"
                                                 immediate="false"
                                                 id="somitereq"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem  itemLabel="Ninguna" itemValue="0" />
                                    <f:selectItems value="#{manRequisicionNueva.piezas}" var="reqpie"
                                                   itemLabel="#{reqpie.cod_ref} - #{reqpie.nom_pie}" itemValue="#{reqpie.cod_pie}"/>
                                </p:selectOneMenu>
                                <p:commandButton icon="ui-icon-arrowthick-1-s" 
                                                 title="Agregar Detalle" 
                                                 style=" width: 18px; height: 20px;" 
                                                 actionListener="#{manRequisicionNueva.agregardetalle()}"
                                                 update=":frmReq:dtReq,:frmReq:msgReq,canitemreq"
                                                 />
                            </h:panelGrid>
                        </div>
                    </p:tab>
                </p:tabView>
                <p:panel>
                    <p:dataTable id="dtReq" var="vReq" 
                                 value="#{manRequisicionNueva.detalles}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manRequisicionNueva.catdetalles}" 
                                 rowKey="#{vReq.cod_det}"
                                 editable="false" 
                                 style="width:740px"
                                 scrollable="true"
                                 scrollHeight="120"
                                 >
                        <p:ajax event="rowSelect" listener="#{manRequisicionNueva.onRowSelect}" 
                                update=":frmReq"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:90px;" headerText="Almacén">
                            <h:outputText value="#{vReq.nompai}" />
                        </p:column>
                        <p:column style="width:50px;" headerText="Cantidad">
                            <h:outputText value="#{vReq.det_can_sol}" />
                        </p:column>
                        <p:column style="width:230px" headerText="Descripción Item">
                            <h:outputText value="#{vReq.des_ite}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgSearchReq" widgetVar="wSearchReq" modal="true" 
                   width="770" height="300" closable="false" resizable="false" 
                   header="Buscar Requisición" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSearchReq"> 
                <p:growl id="msgSearchReq" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wSearchReq').hide()"
                                         actionListener="#{manRequisicionNueva.cerrarventanasearch()}"
                                         update=":frmSearchReq"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:dataTable id="dtSearchReq" var="vSearchReq" 
                                 value="#{manRequisicionNueva.maestro}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manRequisicionNueva.catmaestro}" 
                                 rowKey="#{vSearchReq.cod_mae}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="200" 
                                 style="width:720px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manRequisicionNueva.onRowSelectsearch}" 
                                update=":frmSearchReq"/>


                        <p:column style="width:60px;" headerText="Fecha">
                            <h:outputText value="#{vSearchReq.fec_sol}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Código">
                            <h:outputText value="#{vSearchReq.cod_mae}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Departamento">
                            <h:outputText value="#{vSearchReq.nomdep}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Equipo">
                            <h:outputText value="#{vSearchReq.nommaq}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Uso">
                            <h:outputText value="#{vSearchReq.det_uso}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ******************* Pantalla Estado Requisición ************************
        *********************************************************************-->

        <p:dialog  id="dlgEstadoReq" widgetVar="wEstadoReq" modal="true" 
                   width="840" height="460" closable="false" resizable="false" 
                   header="Estado Requisición" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmEstadoReq"> 
                <p:growl id="msgEstadoReq" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Actualizar" style=" width: 100px;"
                                         actionListener="#{manRequisicionEstado.iniciarventana()}"
                                         update=":frmEstadoReq"
                                         icon="ui-icon-refresh"
                                         /> 
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manRequisicionEstado.eliminar()}"
                                         update=":frmEstadoReq"
                                         icon="ui-icon-trash"
                                         > 
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea Eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>

                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wEstadoReq').hide()"
                                         actionListener="#{manRequisicionEstado.cerrarventana()}"
                                         update=":frmEstadoReq"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>

                <p:panel>
                    <p:dataTable id="dtEstadoReq" var="vEstadoReq" 
                                 value="#{manRequisicionEstado.maestro}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manRequisicionEstado.catmaestro}" 
                                 rowKey="#{vEstadoReq.cod_mae}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="120"
                                 >

                        <p:ajax event="rowSelect" listener="#{manRequisicionEstado.onRowSelect}" 
                                update=":frmEstadoReq"/>
                        <p:ajax event="rowUnselect" listener="#{manRequisicionEstado.onRowUnselect}" 
                                update=":frmEstadoReq"/>

                        <p:column style="width:40px;" headerText="Código">
                            <h:outputText value="#{vEstadoReq.cod_mae}" />
                        </p:column>
                        <p:column style="width:60px;" headerText="Fecha">
                            <h:outputText value="#{vEstadoReq.fec_sol}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Departamento">
                            <h:outputText value="#{vEstadoReq.nomdep}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Equipo">
                            <h:outputText value="#{vEstadoReq.nommaq}" />
                        </p:column>
                        <p:column style="width:160px;" headerText="Uso">
                            <h:outputText value="#{vEstadoReq.det_uso}" />
                        </p:column>
                        <p:column style="width:130px" headerText="Estado">
                            <h:outputText value="#{vEstadoReq.det_sta}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>


                <p:panel>
                    <p:dataTable id="dtEstadoDetReq" var="vEsDetReq" 
                                 value="#{manRequisicionEstado.detalles}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manRequisicionEstado.catdetalles}" 
                                 rowKey="#{vEsDetReq.cod_det}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="200"
                                 >

                        <p:column style="width:30px;" headerText="Can.Solic.">
                            <h:outputText value="#{vEsDetReq.det_can_sol}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Can.Entreg.">
                            <h:outputText value="#{vEsDetReq.det_can_ent}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Can.Pend.">
                            <h:outputText value="#{vEsDetReq.det_can_pen}" />
                        </p:column>
                        <p:column style="width:250px" headerText="Descripción Item">
                            <h:outputText value="#{vEsDetReq.des_ite}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Estado">
                            <h:outputText value="#{vEsDetReq.det_sta}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>

            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla Seguimiento Requisiciones *******************
        *********************************************************************-->

        <p:dialog  id="dlgSeguimientoReq" widgetVar="wSeguimientoReq" modal="true" 
                   width="900" height="480" closable="false" resizable="false" 
                   header="Seguimiento de Requisición" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSeguimientoReq"> 
                <p:growl id="msgSeguimientoReq" showDetail="true" life="4500"/>
                <p:tabView id="tabseguimientoreq" activeIndex="#{manRequisicionSeguimiento.tabindex}">
                    <p:ajax event="tabChange" listener="#{manRequisicionSeguimiento.onTabChange}" />
                    <p:tab id="tabSegReq" title="Seguimiento">
                        <p:toolbar>
                            <f:facet name="left">
                                <p:commandButton value="Guardar" style=" width: 100px;"
                                                 actionListener="#{manRequisicionSeguimiento.guardar()}"
                                                 update=":frmSeguimientoReq"
                                                 icon="ui-icon-disk"
                                                 > 
                                    <p:confirm header="Guardar Registro" 
                                               message="¿Realmente desea Guardar los cambios realizados?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>

                                <p:commandButton value="Actualizar" style=" width: 100px;"
                                                 actionListener="#{manRequisicionSeguimiento.refrescarventana()}"
                                                 update=":frmSeguimientoReq"
                                                 icon="ui-icon-refresh"
                                                 /> 

                                <p:commandButton value="Cerrar" style=" width: 100px;"
                                                 onclick="PF('wSeguimientoReq').hide()"
                                                 actionListener="#{manRequisicionSeguimiento.cerrarventana()}"
                                                 update=":frmSeguimientoReq"
                                                 icon="ui-icon-close"
                                                 />

                            </f:facet>
                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtSeguiReq" var="vSeguiReq" 
                                         value="#{manRequisicionSeguimiento.maestro}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manRequisicionSeguimiento.catmaestro}" 
                                         rowKey="#{vSeguiReq.cod_mae}"
                                         editable="false" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="110"
                                         >
                                <p:ajax event="rowSelect" listener="#{manRequisicionSeguimiento.onRowSelect}" 
                                        update=":frmSeguimientoReq:tabseguimientoreq:dtSeguiDetReq" />
                                <p:ajax event="rowUnselect" listener="#{manRequisicionSeguimiento.onRowUnselect}" 
                                        update=":frmSeguimientoReq:tabseguimientoreq:dtSeguiDetReq" />

                                <p:column style="width:40px;" headerText="Código">
                                    <h:outputText value="#{vSeguiReq.cod_mae}" />
                                </p:column>
                                <p:column style="width:60px;" headerText="Fecha">
                                    <h:outputText value="#{vSeguiReq.fec_sol}" />
                                </p:column>
                                <p:column style="width:70px;" headerText="Almacén">
                                    <h:outputText value="#{vSeguiReq.nompai}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Solicitante">
                                    <h:outputText value="#{vSeguiReq.nomusu}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Departamento">
                                    <h:outputText value="#{vSeguiReq.nomdep}" />
                                </p:column>
                                <p:column style="width:110px" headerText="Equipo">
                                    <h:outputText value="#{vSeguiReq.nommaq}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Uso">
                                    <h:outputText value="#{vSeguiReq.det_uso}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Estado">
                                    <h:outputText value="#{vSeguiReq.det_sta}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Recibida por:" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manRequisicionSeguimiento.recibidapor}" 
                                                 style="width:220px;text-align:right;"
                                                 immediate="false"
                                                 >
                                    <f:selectItem  itemLabel="Ninguno" itemValue="0" />
                                    <f:selectItems value="#{manRequisicionSeguimiento.recibidores}" var="segrecibiReq"
                                                   itemLabel="#{segrecibiReq.det_nom}" itemValue="#{segrecibiReq.cod_usu}"/>
                                </p:selectOneMenu>
                                <h:outputText value="Fecha:" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" id="fecreciReq"
                                             readonlyInput="true" 
                                             showOn="button" size="16"
                                             value="#{manRequisicionSeguimiento.mfecha}"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manRequisicionSeguimiento.dateCieSelected}" />
                                </p:calendar> 
                            </h:panelGrid>
                        </p:panel>
                        <p:panel>
                            <p:dataTable id="dtSeguiDetReq" var="vSeguiDetReq" 
                                         value="#{manRequisicionSeguimiento.detalles}" 
                                         emptyMessage="No se encontraron resultados" 

                                         rowKey="#{vSeguiDetReq.cod_det}"
                                         editable="true" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="150"
                                         editMode="cell"
                                         >
                                <p:ajax event="rowEdit" listener="#{manRequisicionSeguimiento.onRowEdit}" 
                                        update=":frmSeguimientoReq:msgSeguimientoReq"/>
                                <p:ajax event="rowEditCancel" listener="#{manRequisicionSeguimiento.onRowCancel}" 
                                        update=":frmSeguimientoReq:msgSeguimientoReq" />
                                <p:ajax event="cellEdit" listener="#{manRequisicionSeguimiento.onCellEdit}" 
                                        update=":frmSeguimientoReq:msgSeguimientoReq, :frmSeguimientoReq:tabseguimientoreq:dtSeguiDetReq"/>


                                <p:column style="width:50px;" headerText="Estante">
                                    <h:outputText value="#{vSeguiDetReq.nombod}" />
                                </p:column>
                                <p:column style="width:50px;" headerText="Repisa">
                                    <h:outputText value="#{vSeguiDetReq.nomubi}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Sol.">
                                    <h:outputText value="#{vSeguiDetReq.det_can_sol}" />
                                </p:column>
                                <p:column style="width:30px; background-color: #fcf3a6;" headerText="C.Ent.">
                                    <p:cellEditor>
                                        <f:facet name="output"><h:outputText value="#{vSeguiDetReq.det_can_ent}" /></f:facet>
                                        <f:facet name="input"><h:inputText value="#{vSeguiDetReq.det_can_ent}" style="width: 90%;" /> </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Pen.">
                                    <h:outputText value="#{vSeguiDetReq.det_can_pen}" />
                                </p:column>
                                <p:column style="width:190px" headerText="Descripción Item">
                                    <h:outputText value="#{vSeguiDetReq.des_ite}" />
                                </p:column>
                                <p:column style="width:80px; background-color: #fcf3a6;" headerText="Estado">
                                    <p:cellEditor>
                                        <f:facet name="output"><h:outputText value="#{vSeguiDetReq.det_sta}"/></f:facet>
                                        <f:facet name="input">
                                            <h:selectOneMenu value="#{vSeguiDetReq.det_sta}" style="width:90%">
                                                <f:selectItem itemLabel="PENDIENTE" itemValue="PENDIENTE" />
                                                <f:selectItem itemLabel="ENTREGA PARCIAL" itemValue="ENTREGA PARCIAL" />
                                                <f:selectItem itemLabel="ENTREGADO" itemValue="ENTREGADO" />
                                                <f:selectItem itemLabel="CANCELADO" itemValue="CANCELADO" />
                                            </h:selectOneMenu>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabAproReq" title="Aprobaciones">
                        <p:toolbar>
                            <f:facet name="left">
                                <p:commandButton value="Aprobar" style=" width: 100px;"
                                                 actionListener="#{manRequisicionSeguimiento.aprobar()}"
                                                 update=":frmSeguimientoReq"
                                                 icon="ui-icon-circle-check"
                                                 > 
                                    <p:confirm header="Aprobación de Requisición" 
                                               message="¿Realmente desea Aprobar esta Requisición?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>
                                <p:commandButton value="Denegar" style=" width: 100px;"
                                                 actionListener="#{manRequisicionSeguimiento.rechazar()}"
                                                 update=":frmSeguimientoReq"
                                                 icon="ui-icon-circle-close"
                                                 > 
                                    <p:confirm header="Aprobación de Requisición" 
                                               message="¿Realmente desea Denegar esta Requisición?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>

                                <p:commandButton value="Actualizar" style=" width: 100px;"
                                                 actionListener="#{manRequisicionSeguimiento.refrescarventana()}"
                                                 update=":frmSeguimientoReq"
                                                 icon="ui-icon-refresh"
                                                 />
                                <p:commandButton value="Recodificar" 
                                                 style=" width: 100px;"
                                                 actionListener="#{manRequisicionSeguimiento.limpiar()}"
                                                 update=":frmCodImpReq"
                                                 icon="ui-icon-transferthick-e-w"
                                                 />
                                <p:commandButton value="Cerrar" style=" width: 100px;"
                                                 onclick="PF('wSeguimientoReq').hide()"
                                                 actionListener="#{manRequisicionSeguimiento.cerrarventana()}"
                                                 update=":frmSeguimientoReq"
                                                 icon="ui-icon-close"
                                                 />


                            </f:facet>
                            <f:facet name="right">
                                <h:outputText value="Aprobada por:&nbsp;&nbsp;" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manRequisicionSeguimiento.aprobador}" 
                                                 style="width:180px;text-align:right;"
                                                 immediate="false"
                                                 >
                                    <f:selectItem  itemLabel="Ninguno" itemValue="0" />
                                    <f:selectItems value="#{manRequisicionSeguimiento.aprobadores}" var="segaproReq"
                                                   itemLabel="#{segaproReq.det_nom}" itemValue="#{segaproReq.cod_usu}"/>
                                </p:selectOneMenu>
                            </f:facet>


                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtSeguiAprReq" var="vSeguiAprReq" 
                                         value="#{manRequisicionSeguimiento.maestroaprobar}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manRequisicionSeguimiento.catmaestroaprobar}" 
                                         rowKey="#{vSeguiAprReq.cod_mae}"
                                         editable="false" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="120"
                                         >
                                <p:ajax event="rowSelect" listener="#{manRequisicionSeguimiento.onRowAprobarSelect}" 
                                        update=":frmSeguimientoReq:tabseguimientoreq:dtSeguiDetAprReq"/>
                                <p:ajax event="rowUnselect" listener="#{manRequisicionSeguimiento.onRowAprobarUnselect}" 
                                        update=":frmSeguimientoReq:tabseguimientoreq:dtSeguiDetAprReq"/>

                                <p:column style="width:40px;" headerText="Código">
                                    <h:outputText value="#{vSeguiAprReq.cod_mae}" />
                                </p:column>
                                <p:column style="width:70px;" headerText="Fecha">
                                    <h:outputText value="#{vSeguiAprReq.fec_sol}" />
                                </p:column>
                                <p:column style="width:90px;" headerText="Almacén">
                                    <h:outputText value="#{vSeguiAprReq.nompai}" />
                                </p:column>
                                <p:column style="width:110px" headerText="Solicitante">
                                    <h:outputText value="#{vSeguiAprReq.nomusu}" />
                                </p:column>
                                <p:column style="width:110px" headerText="Departamento">
                                    <h:outputText value="#{vSeguiAprReq.nomdep}" />
                                </p:column>
                                <p:column style="width:120px" headerText="Equipo">
                                    <h:outputText value="#{vSeguiAprReq.nommaq}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Uso">
                                    <h:outputText value="#{vSeguiAprReq.det_uso}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <p:dataTable id="dtSeguiDetAprReq" var="vSeguiDetAprReq" 
                                         value="#{manRequisicionSeguimiento.detallesaprobar}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" 
                                         selection="#{manRequisicionSeguimiento.catdetallesaprobar}" 
                                         rowKey="#{vSeguiDetAprReq.cod_det}"
                                         editable="false" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="180"
                                         >

                                <p:column style="width:50px;" headerText="Estante">
                                    <h:outputText value="#{vSeguiDetAprReq.nombod}" />
                                </p:column>
                                <p:column style="width:50px;" headerText="Repisa">
                                    <h:outputText value="#{vSeguiDetAprReq.nomubi}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Sol.">
                                    <h:outputText value="#{vSeguiDetAprReq.det_can_sol}" />
                                </p:column>
                                <p:column style="width:190px" headerText="Descripción Item">
                                    <h:outputText value="#{vSeguiDetAprReq.des_ite}" />
                                </p:column>
                                <p:column style="width:80px;" headerText="Estado">
                                    <h:outputText value="#{vSeguiDetAprReq.det_sta}"/>
                                </p:column>



                            </p:dataTable>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabHistoReq" title="Historico">
                        <p:toolbar>
                            <f:facet name="left">

                                <h:panelGrid columns="4" cellpadding="3">
                                    <h:outputText value="Código:" style="font-weight:bold;" />
                                    <p:inputText value="#{manRequisicionSeguimiento.idbuscar}" size="25" placeholder="Id's separados por comas." />
                                    <p:commandButton value="Consultar" style=" width: 100px;"
                                                     actionListener="#{manRequisicionSeguimiento.llenarMaestroHistoria()}"
                                                     update=":frmSeguimientoReq"
                                                     icon="ui-icon-search"
                                                     /> 

                                    <p:commandButton value="Cerrar" style=" width: 100px;"
                                                     onclick="PF('wSeguimientoReq').hide()"
                                                     actionListener="#{manRequisicionSeguimiento.cerrarventana()}"
                                                     update=":frmSeguimientoReq"
                                                     icon="ui-icon-close"
                                                     />
                                </h:panelGrid>

                            </f:facet>

                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtHistoricosReq" var="vHistoricosReq" 
                                         value="#{manRequisicionSeguimiento.maestrohistoria}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manRequisicionSeguimiento.catmaestrohistoria}" 
                                         rowKey="#{vHistoricosReq.cod_mae}"
                                         editable="false" 
                                         style="width:800px"
                                         scrollable="true"
                                         scrollHeight="100"
                                         >

                                <p:ajax event="rowSelect" listener="#{manRequisicionSeguimiento.onRowHistoriaSelect}" 
                                        update=":frmSeguimientoReq:tabseguimientoreq:dtHistoricasDetReq"/>
                                <p:ajax event="rowUnselect" listener="#{manRequisicionSeguimiento.onRowHistoriaUnselect}" 
                                        update=":frmSeguimientoReq:tabseguimientoreq:dtHistoricasDetReq"/>

                                <p:column style="width:30px;" headerText="Cod">
                                    <h:outputText value="#{vHistoricosReq.cod_mae}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Alt.">
                                    <h:outputText value="#{vHistoricosReq.cod_alt}" />
                                </p:column>
                                <p:column style="width:60px;" headerText="Fecha">
                                    <h:outputText value="#{vHistoricosReq.fec_sol}" />
                                </p:column>
                                <p:column style="width:70px;" headerText="País">
                                    <h:outputText value="#{vSvHistoricosReq.nompai}" />
                                </p:column>
                                <p:column style="width:90px" headerText="Solicitante">
                                    <h:outputText value="#{vHistoricosReq.nomusu}" />
                                </p:column>
                                <p:column style="width:90px" headerText="Departamento">
                                    <h:outputText value="#{vHistoricosReq.nomdep}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Equipo">
                                    <h:outputText value="#{vHistoricosReq.nommaq}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Uso">
                                    <h:outputText value="#{vHistoricosReq.det_uso}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Estado">
                                    <h:outputText value="#{vHistoricosReq.det_sta}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>


                        <p:panel>
                            <p:dataTable id="dtHistoricasDetReq" var="vHistoricasDetReq" 
                                         value="#{manRequisicionSeguimiento.detalleshistoria}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manRequisicionSeguimiento.catdetalleshistoria}" 
                                         rowKey="#{vHistoricasDetReq.cod_det}"
                                         editable="false" 
                                         style="width:800px"
                                         scrollable="true"
                                         scrollHeight="180"
                                         >

                                <p:column style="width:50px;" headerText="Bodega">
                                    <h:outputText value="#{vHistoricasDetReq.nombod}" />
                                </p:column>
                                <p:column style="width:50px;" headerText="Ubicación">
                                    <h:outputText value="#{vHistoricasDetReq.nomubi}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Sol.">
                                    <h:outputText value="#{vHistoricasDetReq.det_can_sol}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Ent.">
                                    <h:outputText value="#{vHistoricasDetReq.det_can_ent}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="C.Pen.">
                                    <h:outputText value="#{vHistoricasDetReq.det_can_pen}" />
                                </p:column>
                                <p:column style="width:190px" headerText="Descripción Item">
                                    <h:outputText value="#{vHistoricasDetReq.des_ite}" />
                                </p:column>
                                <p:column style="width:80px;" headerText="Estado">
                                    <h:outputText value="#{vHistoricasDetReq.det_sta}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgCodImpReq" widgetVar="wCodImpReq" modal="true" 
                   width="380" height="130" closable="false" resizable="false" 
                   header="Impresión Comprobante" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCodImpReq"> 
                <p:growl id="msgCodImpReq" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <h:panelGrid columns="3" cellpadding="3">
                            <p:commandButton value="Guardar" style=" width: 100px;"
                                             icon="ui-icon-disk"
                                             actionListener="#{manRequisicionSeguimiento.editarcodimp()}"
                                             update=":frmCodImpReq"
                                             />
                            <h:commandButton value="Imprimir" 
                                             style=" width: 100px; height: 21px; background-color: #dfecf1; "
                                             actionListener="#{manRequisicionSeguimiento.ejecutarreporte()}"
                                             onclick="this.form.target = '_blank'"/>
                            <p:commandButton value="Cerrar" style=" width: 100px;"
                                             onclick="PF('wCodImpReq').hide()"
                                             icon="ui-icon-close"
                                             actionListener="#{manRequisicionSeguimiento.cerrarcodimp()}"
                                             update=":frmSeguimientoReq"
                                             />
                        </h:panelGrid>
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Código Alternativo:" style="font-weight:bold;" />
                        <p:inputText value="#{manRequisicionSeguimiento.cod_alt}" size="20" />
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
         ************************* Pantalla Lista Equipos ***********************
         *********************************************************************-->

        <p:dialog  id="dlgListaEquipos" widgetVar="wListaEquipos" modal="true" 
                   width="850" height="500" closable="false" resizable="false" 
                   header="Inventario de Equipos" rendered="true" 
                   dynamic="true" visible="false"  
                   >
            <h:form id="frmListaEquipos">
                <p:growl id="msgListaEquipos" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manListaEquipos.nuevo()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manListaEquipos.guardar()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manListaEquipos.eliminar()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Ficha" icon="ui-icon-print"
                                         style=" width: 100px;"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manListaEquipos.ejecutarreporte()}"
                                         disabled="#{manSeguridad.disableOpt('botonLisEquImprimir')}"
                                         ajax="false"/>
                        <p:commandButton value="FMAN003" icon="ui-icon-print"
                                         style=" width: 100px;"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manListaEquipos.ejecutarFMAN003()}"
                                         disabled="#{manSeguridad.disableOpt('botonLisEquImprimir')}"
                                         ajax="false"/>

                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wListaEquipos').hide()"
                                         actionListener="#{manListaEquipos.cerrarventana()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:tabView id="tvLE" activeIndex="#{manListaEquipos.tabindex}">
                    <p:ajax event="tabChange" listener="#{manListaEquipos.onTabChange}" />
                    <p:tab title="Lista" id="tabLista">
                        <p:dataTable id="dtSLE" var="vSLE" 
                                     value="#{manListaEquipos.lequipos}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{manListaEquipos.catlistaequipos}" 
                                     rowKey="#{vSLE.cod_lis_equ}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="340"
                                     style="width:790px"
                                     widgetVar="wvSLE"
                                     >
                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Filtrar:&nbsp;&nbsp;" />
                                        <p:inputText id="globalFilter" 
                                                     onkeyup="PF('wvSLE').filter()" 
                                                     style="width:200px;" 
                                                     placeholder="Nombre, Serie"/>
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>
                            <p:ajax event="rowSelect" listener="#{manListaEquipos.onRowSelectListaEquipo}" 
                                    update=":frmListaEquipos"/>
                            <p:column style="width:70px" headerText="Nombre Equipo" filterBy="#{vSLE.des_equ}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vSLE.des_equ}" />
                            </p:column>
                            <p:column style="width:30px;" headerText="Tipo Equipo">
                                <h:outputText value="#{vSLE.nomequ}" />
                            </p:column>
                            <p:column style="width:30px;" headerText="Proceso">
                                <h:outputText value="#{vSLE.nompai}" />
                            </p:column>
                            <p:column style="width:70px" headerText="Serie" filterBy="#{vSLE.num_ser}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vSLE.num_ser}" />
                            </p:column>

                        </p:dataTable>
                    </p:tab>
                    <p:tab title="General" id="tabGeneral">
                        <div style=" background-color: #ebf8fe;">
                            <p:focus for="cmbEquipolis" />
                            <p:panel header="Identificación">
                                <h:panelGrid columns="3" cellpadding="5">
                                    <h:outputText value="Nombre de Equipo" style="font-weight:bold;"/>
                                    <h:outputText value="Tipo de Equipo" style="font-weight:bold;"/>
                                    <h:outputText value="Proceso" style="font-weight:bold;"/>
                                    <p:inputText size="40"
                                                 maxlength="50"
                                                 value="#{manListaEquipos.des_equ}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:selectOneMenu id ="cmbEquipolis" value="#{manListaEquipos.cod_equ}" 
                                                     style=" width: 200px;"
                                                     filter="true" filterMatchMode="contains" 
                                                     >
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manListaEquipos.equipos}" var="lstequ"
                                                       itemLabel="#{lstequ.nom_equ}" itemValue="#{lstequ.cod_equ}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{manListaEquipos.cod_pai}" 
                                                     style=" width: 200px;">
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manListaEquipos.paises}" var="lstequpai"
                                                       itemLabel="#{lstequpai.nom_pai}" itemValue="#{lstequpai.cod_pai}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Marca" style="font-weight:bold;"/>
                                    <h:outputText value="Ubicación" style="font-weight:bold;"/>
                                    <h:outputText value="Modelo" style="font-weight:bold;"/>
                                    <p:selectOneMenu  value="#{manListaEquipos.cod_pro}" 
                                                      style=" width: 245px;" id="somproequ">
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manListaEquipos.marcas}" var="lstpro"
                                                       itemLabel="#{lstpro.nom_mar}" itemValue="#{lstpro.id_mar}"/> 
                                    </p:selectOneMenu>
                                    <p:inputText size="33"
                                                 maxlength="150"
                                                 value="#{manListaEquipos.des_ubi}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:inputText size="33"
                                                 maxlength="20"
                                                 value="#{manListaEquipos.num_mod}"
                                                 onfocus="this.select()"
                                                 />
                                    <h:outputText value="Serie" style="font-weight:bold;"/>
                                    <h:outputText value="Potencia" style="font-weight:bold;"/>
                                    <h:outputText value="Voltaje" style="font-weight:bold;"/>
                                    <p:inputText size="40"
                                                 maxlength="30"
                                                 value="#{manListaEquipos.num_ser}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:inputText size="33"
                                                 maxlength="20"
                                                 value="#{manListaEquipos.det_pot}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:inputText size="33"
                                                 maxlength="20"
                                                 value="#{manListaEquipos.det_vol}"
                                                 onfocus="this.select()"
                                                 />
                                    <h:outputText value="Código Interno" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <p:inputText size="40"
                                                 maxlength="30"
                                                 value="#{manListaEquipos.cod_bar}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                                <h:panelGrid columns="1" cellpadding="5">
                                    <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500"
                                                     value="#{manListaEquipos.cod_cli}"
                                                     rows="2"
                                                     cols="110"
                                                     />
                                </h:panelGrid>    

                            </p:panel>

                        </div>
                    </p:tab>
                    <p:tab title="Garantía" id="tabGarantia">
                        <div style=" background-color: #ebf8fe;">
                            <p:panel header="Garantía">
                                <h:panelGrid columns="5" cellpadding="5">
                                    <h:outputText value="Fecha Inicio" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="Fecha Fin" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="Detalle Garantía" style="font-weight:bold;"/>

                                    <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                                 readonlyInput="true" showOn="button" size="10"
                                                 style="width: 10px"
                                                 value="#{manListaEquipos.dfecini}" 
                                                 disabled="#{!manListaEquipos.edfecini}"
                                                 id="ledfecini"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecgarini}" />
                                    </p:calendar> 
                                    <p:selectBooleanCheckbox value="#{manListaEquipos.edfecini}" >
                                        <p:ajax event="change" update="ledfecini"  />
                                    </p:selectBooleanCheckbox>

                                    <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                                 readonlyInput="true" showOn="button" size="10"
                                                 style="width: 10px"
                                                 value="#{manListaEquipos.dfecfin}"
                                                 disabled="#{!manListaEquipos.edfecfin}"
                                                 id="ledfecfin"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecgarfin}" />
                                    </p:calendar> 
                                    <p:selectBooleanCheckbox value="#{manListaEquipos.edfecfin}" >
                                        <p:ajax event="change" update="ledfecfin"  />
                                    </p:selectBooleanCheckbox>
                                    <p:inputText size="70"
                                                 maxlength="200"
                                                 value="#{manListaEquipos.gar_obs}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                            </p:panel>
                        </div>
                    </p:tab>
                    <p:tab title="Historia" id="tabHistoria">
                        <div style=" background-color: #ebf8fe;">
                            <h:panelGrid columns="6" cellpadding="5">
                                <h:outputText value="Fabricación" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Compra" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Adquisición" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecfab}"
                                             disabled="#{!manListaEquipos.edfecfab}"
                                             id="ledfecfab"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecfab}" />
                                </p:calendar> 
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecfab}" >
                                    <p:ajax event="change" update="ledfecfab"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfeccom}"
                                             disabled="#{!manListaEquipos.edfeccom}"
                                             id="ledfeccom"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFeccom}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfeccom}" >
                                    <p:ajax event="change" update="ledfeccom"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecadq}"
                                             disabled="#{!manListaEquipos.edfecadq}"
                                             id="ledfecadq"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecadq}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecadq}" >
                                    <p:ajax event="change" update="ledfecadq"  />
                                </p:selectBooleanCheckbox>
                                <h:outputText value="Puesta en Servicio" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Retiro" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecpueser}"
                                             disabled="#{!manListaEquipos.edfecpueser}"
                                             id="ledfecpueser"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecpueser}" />
                                </p:calendar> 
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecpueser}" >
                                    <p:ajax event="change" update="ledfecpueser"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecret}"
                                             disabled="#{!manListaEquipos.edfecret}"
                                             id="ledfecret"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecret}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecret}" >
                                    <p:ajax event="change" update="ledfecret"  />
                                </p:selectBooleanCheckbox>
                                <p:commandButton value="Detalle" icon="ui-icon-print"
                                                 style=" width: 80px;"
                                                 onclick="this.form.target = '_blank';" 
                                                 action="#{manListaEquipos.ejecutarreporte2()}"
                                                 ajax="false"/>
                            </h:panelGrid>

                        </div>
                        <p:dataTable id="dtEncManH" var="vEncManH" 
                                     value="#{manListaEquipos.mantenimientos}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{manListaEquipos.catmantenimientos}" 
                                     rowKey="#{vEncManH.cod_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="240"
                                     style="width:781px"
                                     >
                            <p:ajax event="rowSelect" listener="#{manListaEquipos.onRowSelectMantenimiento}" 
                                    />

                            <p:column style="width:80px;" headerText="Tipo">
                                <h:outputText value="#{vEncManH.nomtip}" />
                            </p:column>
                            <p:column style="width:80px" headerText="Fecha Inicio">
                                <h:outputText value="#{vEncManH.fec_ini}" />
                            </p:column>
                            <p:column style="width:80px" headerText="Fecha Fin">
                                <h:outputText value="#{vEncManH.fec_fin}" />
                            </p:column>
                            <p:column style="width:150px" headerText="Estado">
                                <h:outputText value="#{vEncManH.status}" />
                            </p:column>
                        </p:dataTable>

                    </p:tab>
                    <p:tab title="Software" id="tabSoftware">
                        <p:toolbar>
                            <f:facet name="right">
                                <p:commandButton title="Agregar" style=" width: 30px;"
                                                 update=":frmListaEquipos"
                                                 icon="ui-icon-plus" 
                                                 actionListener="#{manListaEquipos.agregarsistema()}"
                                                 />
                            </f:facet>
                        </p:toolbar>
                        <p:panel id="panelsoftware">
                            <h:panelGrid columns="5" cellpadding="5">
                                <h:outputText value="Sistema" style="font-weight:bold;"/>
                                <h:outputText value="Versión Anterior" style="font-weight:bold;"/>
                                <h:outputText value="Versión Actual" style="font-weight:bold;"/>
                                <h:outputText value="Fecha Actualización" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="45"
                                             maxlength="200"
                                             value="#{manListaEquipos.s_det_obs}"
                                             onfocus="this.select()"
                                             />
                                <p:inputText size="20"
                                             maxlength="20"
                                             value="#{manListaEquipos.s_ver_ant}"
                                             onfocus="this.select()"
                                             />
                                <p:inputText size="20"
                                             maxlength="20"
                                             value="#{manListaEquipos.s_ver_act}"
                                             onfocus="this.select()"
                                             />
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecact}"
                                             disabled="#{!manListaEquipos.edfecact}"
                                             id="ledfecact"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecact}" />
                                </p:calendar> 
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecact}" >
                                    <p:ajax event="change" update="ledfecact"  />
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                        </p:panel>

                        <p:contextMenu for="dtSys">
                            <p:menuitem value="Eliminar" 
                                        update="panelsoftware,dtSys" 
                                        icon="ui-icon-close" 
                                        actionListener="#{manListaEquipos.eliminarsistema()}"/>
                        </p:contextMenu>

                        <p:dataTable id="dtSys" var="vSys" 
                                     value="#{manListaEquipos.sistemas}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{manListaEquipos.catsistemas}" 
                                     rowKey="#{vSys.cod_sys}"
                                     editable="true"
                                     scrollable="true"
                                     scrollHeight="200"
                                     style="width:780px"
                                     >

                            <p:column style="width:150px;" headerText="Sistema">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vSys.det_obs}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vSys.det_obs}" style="width:100%" required="true"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:90px" headerText="Versión Anterior">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vSys.ver_ant}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vSys.ver_ant}" style="width:100%" required="true" maxlength="20"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:90px" headerText="Versión Actual">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vSys.ver_act}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vSys.ver_act}" style="width:100%" required="true" maxlength="20"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:100px" headerText="Fecha Actualización">
                                <h:outputText value="#{vSys.fec_act}" />
                            </p:column>
                            <p:column style="width:32px">
                                <p:rowEditor />
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Contratos" id="tabContratos">
                        <p:toolbar>
                            <f:facet name="right">
                                <p:commandButton title="Agregar" style=" width: 30px;"
                                                 update=":frmListaEquipos"
                                                 icon="ui-icon-plus" 
                                                 actionListener="#{manListaEquipos.agregarcontrato()}"
                                                 />
                            </f:facet>
                        </p:toolbar>
                        <p:panel id="panelcontratos">
                            <h:panelGrid columns="6" cellpadding="5">
                                <h:outputText value="Número" style="font-weight:bold;"/>
                                <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                <h:outputText value="Fecha Inicio" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Fecha Expiración" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="20"
                                             maxlength="20"
                                             value="#{manListaEquipos.c_cod_ref}"
                                             onfocus="this.select()"
                                             />
                                <p:inputText size="40"
                                             maxlength="200"
                                             value="#{manListaEquipos.c_des_inf}"
                                             onfocus="this.select()"
                                             />
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfeccon}"
                                             disabled="#{!manListaEquipos.edfeccon}"
                                             id="ledfeccon"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFeccon}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfeccon}" >
                                    <p:ajax event="change" update="ledfeccon"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecexp}"
                                             disabled="#{!manListaEquipos.edfecexp}"
                                             id="ledfecexp"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecexp}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecexp}" >
                                    <p:ajax event="change" update="ledfecexp"  />
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                        </p:panel>

                        <p:contextMenu for="dtCon">
                            <p:menuitem value="Eliminar" 
                                        update="panelcontratos,dtCon" 
                                        icon="ui-icon-close" 
                                        actionListener="#{manListaEquipos.eliminarcontrato()}"/>
                        </p:contextMenu>
                        <p:dataTable id="dtCon" var="vCon" 
                                     value="#{manListaEquipos.contratos}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{manListaEquipos.catcontratos}" 
                                     rowKey="#{vCon.cod_con}"
                                     editable="true"
                                     scrollable="true"
                                     scrollHeight="190"
                                     style="width:780px"
                                     >

                            <p:column style="width:50px;" headerText="Número">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vCon.cod_ref}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vCon.cod_ref}" style="width:100%" required="true"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:100px;" headerText="Observaciones">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vCon.des_inf}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vCon.des_inf}" style="width:100%" required="true"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:70px" headerText="Fecha Contrato">
                                <h:outputText value="#{vCon.fec_con}" />
                            </p:column>
                            <p:column style="width:70px" headerText="Fecha Expiración">
                                <h:outputText value="#{vCon.fec_exp}" />
                            </p:column>
                            <p:column style="width:32px">
                                <p:rowEditor />
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************************ Pantalla Almacén Piezas ***********************
        *********************************************************************-->

        <p:dialog  id="dlgListaPiezas" widgetVar="wListaPiezas" modal="true" 
                   width="920" height="500" closable="false" resizable="false" 
                   header="Almacén de Piezas" rendered="true" 
                   dynamic="true" visible="false"  
                   >
            <h:form id="frmListaPiezas">
                <p:growl id="msgListaPiezas" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manTblPiezas.nuevo()}"
                                         update=":frmListaPiezas"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manTblPiezas.guardar()}"
                                         update=":frmListaPiezas"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manTblPiezas.eliminar()}"
                                         update=":frmListaPiezas"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>


                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Modificar" style=" width: 100px;"
                                         onclick="PF('wBuscarListaPiezas').show()"
                                         actionListener="#{manTblPiezas.iniciarventanabuscarid()}"
                                         update=":frmBuscarListaPiezas"
                                         icon="ui-icon-search"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wListaPiezas').hide()"
                                         actionListener="#{manTblPiezas.cerrarventana()}"
                                         update=":frmListaPiezas"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel id="panencabezado">
                    <h:panelGrid columns="5" cellpadding="5">
                        <h:outputText value="" style="font-weight:bold;"/>
                        <h:outputText value="Fecha" style="font-weight:bold;"/>
                        <h:outputText value="Bodega" style="font-weight:bold;"/>
                        <h:outputText value="Proveedor" style="font-weight:bold;"/>
                        <h:outputText value="Movimiento" style="font-weight:bold;"/>
                        <p:inputSwitch offLabel="Entrada" onLabel="Salida" value="#{manTblPiezas.boolinout}" >
                            <p:ajax listener="#{manTblPiezas.inout()}" update=":frmListaPiezas" />
                        </p:inputSwitch>
                        <p:calendar  value="#{manTblPiezas.mfecha}"
                                     pattern="dd/MM/yyyy" 
                                     locale="es" 
                                     readonlyInput="true" 
                                     showOn="button" 
                                     size="10"
                                     style="width: 10px"
                                     >
                            <p:ajax event="dateSelect" listener="#{manTblPiezas.dateSelectedAction}" 
                                    update="detallepiezas,msgListaPiezas"/>
                        </p:calendar> 

                        <p:selectOneMenu value="#{manTblPiezas.cod_pai}" 
                                         style=" width: 160px;">
                            <p:ajax event="change" listener="#{manTblPiezas.seleccionarpais()}" 
                                    update="somprolstpie,detallepiezas" />
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.paises}" var="lstpaipie"
                                           itemLabel="#{lstpaipie.nom_pai}" itemValue="#{lstpaipie.cod_pai}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu id="somprolstpie" value="#{manTblPiezas.cod_pro}" 
                                         style=" width: 160px;"
                                         disabled="#{!manTblPiezas.booleditable}"
                                         >
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.proveedores}" var="lstpropie"
                                           itemLabel="#{lstpropie.nom_pro}" itemValue="#{lstpropie.cod_pro}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manTblPiezas.cod_mov}" 
                                         style=" width: 160px;">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.movimientos}" var="lstmovpie"
                                           itemLabel="#{lstmovpie.nom_mov}" itemValue="#{lstmovpie.id_mov}"/> 
                        </p:selectOneMenu>
                    </h:panelGrid>    

                    <h:panelGrid columns="3" cellpadding="5">
                        <h:outputText value="Código Rel." style="font-weight:bold;"/>
                        <h:outputText value="Doc. Entrada/Salida" style="font-weight:bold;"/>
                        <h:outputText value="Observaciones" style="font-weight:bold;"/>
                        <p:inputText maxlength="12" size="15" value="#{manTblPiezas.por_qbo}" disabled="#{!manTblPiezas.booleditable}"/>
                        <p:inputText maxlength="20" size="15" value="#{manTblPiezas.doc_tra}" />
                        <p:inputText maxlength="200" size="85" value="#{manTblPiezas.det_obs}"/>
                    </h:panelGrid>
                </p:panel>
                <p:panel id="detallepiezas">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Estante" style="font-weight:bold;"/>
                        <h:outputText value="Repisa" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manTblPiezas.cod_bod}" 
                                         style=" width: 250px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         id="sombodip"
                                         >
                            <p:ajax event="change" listener="#{manTblPiezas.seleccionarbodega()}" update="somubiip,solpiealmpie" />
                            <f:selectItem itemLabel="Ninguna" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.bodegas}" var="lstbodtblpie"
                                           itemLabel="#{lstbodtblpie.nom_bod}" itemValue="#{lstbodtblpie.id_bod}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manTblPiezas.cod_ubi}" 
                                         style=" width: 250px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         id="somubiip"
                                         >
                            <p:ajax event="change" listener="#{manTblPiezas.seleccionarubi()}" update="solpiealmpie" />
                            <f:selectItem itemLabel="Ninguna" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.ubicaciones}" var="lstubitblpie"
                                           itemLabel="#{lstubitblpie.nom_ubi}" itemValue="#{lstubitblpie.id_ubi}"/> 
                        </p:selectOneMenu>
                    </h:panelGrid>    
                    <h:panelGrid columns="6" cellpadding="5">
                        <h:outputText value="Pieza" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <h:outputText value="Cantidad" style="font-weight:bold;"/>
                        <h:outputText value="Precio Unitario" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manTblPiezas.catpiezasabreviado}" 
                                         style=" width: 535px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         id="solpiealmpie"
                                         var="p"
                                         converter="codigoproducto"
                                         >
                            <p:ajax event="change" listener="#{manTblPiezas.seleccionarpieza()}" />
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.piezas}" var="lstpiepie1"
                                           itemLabel="#{lstpiepie1.referencia} | #{lstpiepie1.nombre}" itemValue="#{lstpiepie1}"/> 
                            <p:column>
                                <h:outputText value="#{p.referencia}" />
                            </p:column>

                            <p:column>
                                <h:outputText value="#{p.nombre}" />
                            </p:column>
                            <p:column>
                                <h:outputText value="#{p.existencia}" />
                            </p:column>
                            <p:column>
                                <h:outputText value="#{p.pendiente}" />
                            </p:column>
                        </p:selectOneMenu>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <p:inputText maxlength="12" size="12" value="#{manTblPiezas.det_can}"/>
                        <p:inputText maxlength="12" size="12" value="#{manTblPiezas.det_cos}"/>
                        <p:commandButton title="Agregar" 
                                         icon="ui-icon-plus" 
                                         style=" width: 30px;" 
                                         actionListener="#{manTblPiezas.agregardetalle()}" 
                                         update="detallepiezas,dtInv,:frmListaPiezas:msgListaPiezas"
                                         />
                        <p:commandButton title="Eliminar" 
                                         icon="ui-icon-minus" 
                                         style=" width: 30px;" 
                                         actionListener="#{manTblPiezas.eliminardetalle()}" 
                                         update="detallepiezas,dtInv,:frmListaPiezas:msgListaPiezas"
                                         />
                    </h:panelGrid>
                </p:panel>
                <p:dataTable id="dtInv" var="vDetInv" 
                             value="#{manTblPiezas.piezasdetalle}" 
                             emptyMessage="No se encontraron resultados" 
                             selection="#{manTblPiezas.cattblpiezasdetalle}" 
                             selectionMode="single"
                             rowKey="#{vDetInv.cod_det}"
                             editable="#{manTblPiezas.booleditable}"
                             scrollable="true"
                             scrollHeight="140"
                             style="width:895px"
                             >

                    <p:ajax event="rowSelect" listener="#{manTblPiezas.onRowSelect}" 
                            update=":frmListaPiezas:detallepiezas"/>

                    <p:column style="width:2px;" headerText="Id">
                        <h:outputText value="#{vDetInv.cod_det}" />
                    </p:column>
                    <p:column style="width:12px;" headerText="Cantidad">
                        <p:cellEditor>
                            <f:facet name="output"><h:outputText value="#{vDetInv.det_can}" /></f:facet>
                            <f:facet name="input"><p:inputText value="#{vDetInv.det_can}" style="width:100%"/></f:facet>
                        </p:cellEditor>
                    </p:column>
                    <p:column style="width:90px;" headerText="Pieza">
                        <h:outputText value="#{vDetInv.nompie}" />
                    </p:column>
                    <p:column style="width:30px;" headerText="P.Uni">
                        <h:outputText value="#{vDetInv.det_cos}" />
                    </p:column>
                    <p:column style="width:25px">
                        <p:rowEditor />
                    </p:column>

                </p:dataTable>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgBuscarListaPiezas" widgetVar="wBuscarListaPiezas" modal="true" 
                   width="850" height="415" closable="false" resizable="false" 
                   header="Movimientos de Almacén" rendered="true" 
                   dynamic="false" visible="false"  
                   >
            <h:form id="frmBuscarListaPiezas">
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wBuscarListaPiezas').hide()"
                                         actionListener="#{manTblPiezas.cerrarventanaid()}"
                                         update=":frmListaPiezas,:frmBuscarListaPiezas"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="4" cellpadding="5">
                        <h:outputText value="Id Ingreso/Salida" style="font-weight:bold;"/>
                        <h:outputText value="Bodega" style="font-weight:bold;"/>
                        <h:outputText value="Proveedor" style="font-weight:bold;"/>
                        <h:outputText value="Código Rel." style="font-weight:bold;"/>
                        <p:inputText size="20" value="#{manTblPiezas.cod_lis_pie}" />
                        <p:selectOneMenu value="#{manTblPiezas.paibus}" 
                                         style=" width: 160px;">
                            <p:ajax event="change" listener="#{manTblPiezas.seleccionarpais()}" 
                                    update="somprobuslstpie" />
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.paises}" var="lstpaipie2"
                                           itemLabel="#{lstpaipie2.nom_pai}" itemValue="#{lstpaipie2.cod_pai}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu id="somprobuslstpie" value="#{manTblPiezas.probus}" 
                                         style=" width: 160px;">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.proveedores}" var="lstpropie3"
                                           itemLabel="#{lstpropie3.nom_pro}" itemValue="#{lstpropie3.cod_pro}"/> 
                        </p:selectOneMenu>
                        <p:inputText size="20" value="#{manTblPiezas.pobus}" />
                    </h:panelGrid>
                    <h:panelGrid columns="3" cellpadding="5">
                        <h:outputText value="Tipo Movimiento" style="font-weight:bold;"/>
                        <h:outputText value="Fecha" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manTblPiezas.movpus}" 
                                         style=" width: 160px;">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manTblPiezas.movimientostotal}" var="lstmovpie3"
                                           itemLabel="#{lstmovpie3.nom_mov}" itemValue="#{lstmovpie3.id_mov}"/> 
                        </p:selectOneMenu>
                        <p:inputText size="20" value="#{manTblPiezas.fecbus}" /> 

                        <p:commandButton title="Buscar" 
                                         icon="ui-icon-search" 
                                         style=" width: 30px;" 
                                         actionListener="#{manTblPiezas.buscarid()}" 
                                         update="dtIngSal"
                                         />
                    </h:panelGrid>
                </p:panel>
                <p:dataTable id="dtIngSal" var="vIngSal" 
                             value="#{manTblPiezas.piezasencabezado}" 
                             emptyMessage="No se encontraron resultados" 
                             selection="#{manTblPiezas.cattblpiezas}" 
                             selectionMode="single"
                             rowKey="#{vIngSal.cod_lis_pie}"
                             scrollable="true"
                             scrollHeight="180"
                             style="width:823px"
                             >
                    <p:ajax event="rowSelect" listener="#{manTblPiezas.onRowSelectBID}" 
                            update=":frmListaPiezas,:frmBuscarListaPiezas"/>
                    <p:column style="width:30px;" headerText="Fecha">
                        <h:outputText value="#{vIngSal.fec_tra}" />
                    </p:column>
                    <p:column style="width:40px;" headerText="Bodega">
                        <h:outputText value="#{vIngSal.nompai}" />
                    </p:column>
                    <p:column style="width:60px;" headerText="Proveedor">
                        <h:outputText value="#{vIngSal.nompro}" />
                    </p:column>
                    <p:column style="width:40px;" headerText="Movimiento">
                        <h:outputText value="#{vIngSal.nommov}" />
                    </p:column>
                    <p:column style="width:10px;" headerText="Id">
                        <h:outputText value="#{vIngSal.cod_lis_pie}" />
                    </p:column>

                </p:dataTable>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************************* Pantalla Maestra *****************************
        *********************************************************************-->

        <p:dialog  id="dlgMaestraMan" widgetVar="wMaestra" modal="true" 
                   width="1110" height="490" closable="false" resizable="false" 
                   header="Mantenimientos" rendered="true" 
                   dynamic="false" visible="false" 
                   >
            <h:form id="frmMaestra" >
                <p:growl id="msgMaestra" showDetail="true" life="4500"/>

                <p:layout style="width:1075px;height:480px;" id="luman">
                    <p:layoutUnit position="west" size="200">
                        <h:panelGrid columns="1" styleClass="noBorders">
                            <h:outputText value="Equipo" style="font-weight:bold;"/>
                            <p:selectOneMenu id="txtbusns" style=" width: 160px;" value="#{manMaestroMan.buscar_serie}"
                                             filter="true" filterMatchMode="contains" 
                                             >
                                <p:ajax event="change" listener="#{manMaestroMan.onclickbuscar()}" update=":frmMaestra" />
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{manMaestroMan.lequipos}" var="lequman"
                                               itemLabel="#{lequman.des_equ}" itemValue="#{lequman.cod_lis_equ}"/> 
                            </p:selectOneMenu>


                        </h:panelGrid>

                    </p:layoutUnit>
                    <p:layoutUnit position="center" id="lumanc">
                        <p:toolbar>
                            <f:facet name="left">

                                <p:commandButton value="Guardar" style=" width: 90px;"
                                                 actionListener="#{manMaestroMan.guardarmantenimiento()}"
                                                 update=":frmMaestra"
                                                 icon="ui-icon-disk"
                                                 > 
                                    <p:confirm header="Guardar Mantenimiento" 
                                               message="¿Realmente desea Guardar Todos Los Cambios de este Mantenimiento?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>



                            </f:facet>
                            <f:facet name="right">
                                <p:commandButton value="Actualizar" style=" width: 90px;"
                                                 update=":frmMaestra"
                                                 icon="ui-icon-refresh"
                                                 />


                                <p:commandButton value="Cerrar" style=" width: 90px;"
                                                 onclick="PF('wMaestra').hide()"
                                                 actionListener="#{manMaestroMan.cerrarventana()}"
                                                 update=":frmMaestra"
                                                 icon="ui-icon-close"
                                                 />
                            </f:facet>

                        </p:toolbar>
                        <p:dataTable id="dtEncMan" var="vEncMan" 
                                     value="#{manMaestroMan.mantenimientos}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selection="#{manMaestroMan.catmantenimientos}" 
                                     selectionMode="single"
                                     rowKey="#{vEncMan.cod_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="80"
                                     style="width:840px;"
                                     widgetVar="wvEncMan"
                                     >

                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Filtrar:&nbsp;&nbsp;" />
                                        <p:inputText id="globalFilter" 
                                                     onkeyup="PF('wvEncMan').filter()" 
                                                     style="width:80px;" 
                                                     placeholder="Id"/>
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>

                            <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectEnc}" update=":frmMaestra"/>

                            <p:column style="width:10px" headerText="Id" filterBy="#{vEncMan.cod_alt}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vEncMan.cod_alt}" />
                            </p:column>
                            <p:column style="width:30px" headerText="Fecha">
                                <h:outputText value="#{vEncMan.fec_ini}" />
                            </p:column>
                            <p:column style="width:30px;" headerText="Tipo">
                                <h:outputText value="#{vEncMan.nomtip}" />
                            </p:column>
                            <p:column style="width:200px" headerText="Observaciones">
                                <h:outputText value="#{vEncMan.det_obs}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Estado">
                                <h:outputText value="#{vEncMan.status}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Retraso">
                                <h:panelGrid columns="2">
                                    <h:outputText value="#{vEncMan.datraso}" />
                                    <h:outputText value="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" style=" background-color: #{vEncMan.color};"/>
                                </h:panelGrid>
                            </p:column>
                            <p:column style="width:40px" headerText="Ciclo">
                                <h:outputText value="#{vEncMan.periodo}" />
                            </p:column>

                        </p:dataTable>

                        <p:tabView id="tvDetMan2" activeIndex="#{manMaestroMan.tabindex}" >
                            <p:ajax event="tabChange" listener="#{manMaestroMan.onTabChange}" />
                            <p:tab id="tabGEN" title="Detalle Técnico">
                                <p:panel>
                                    <h:panelGrid columns="3" cellpadding="5">
                                        <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                                        <h:outputText value="Acción" style="font-weight:bold;"/>
                                        <h:outputText value="Realizó" style="font-weight:bold;"/>
                                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                                     readonlyInput="true" 
                                                     showOn="button" size="16"
                                                     value="#{manMaestroMan.dfecha1}"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedGeneral}" />
                                        </p:calendar> 
                                        <p:selectOneMenu style=" width: 325px;" value="#{manMaestroMan.gen_cod_ope}"
                                                         filter="true" filterMatchMode="contains" 
                                                         >
                                            <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.operaciones}" var="tipope"
                                                           itemLabel="#{tipope.nom_ope}" itemValue="#{tipope.cod_ope}"/> 
                                        </p:selectOneMenu>
                                        <p:selectOneMenu style=" width: 210px;" value="#{manMaestroMan.gen_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="usudet"
                                                           itemLabel="#{usudet.det_nom}" itemValue="#{usudet.cod_usu}"/> 
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                    <h:panelGrid columns="3" cellpadding="3">
                                        <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:inputText maxlength="200" size="108" value="#{manMaestroMan.gen_det_obs}" />
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregargeneral()}"
                                                         update=":frmMaestra"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminargeneral()}"
                                                         update=":frmMaestra"
                                                         />
                                    </h:panelGrid>
                                </p:panel>
                                <p:dataTable id="dtDetTec" var="vDetTec" 
                                             value="#{manMaestroMan.general}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientosgen}" 
                                             selectionMode="single"
                                             rowKey="#{vDetTec.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="80"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectGen}" update=":frmMaestra"/>
                                    <p:column style="width:12px;" headerText="Fecha y Hora">
                                        <h:outputText value="#{vDetTec.fec_man}" />
                                    </p:column>
                                    <p:column style="width:80px" headerText="Acción">
                                        <h:outputText value="#{vDetTec.nomope}" />
                                    </p:column>
                                    <p:column style="width:80px" headerText="Observaciones">
                                        <h:outputText value="#{vDetTec.det_obs}" />
                                    </p:column>
                                    <p:column style="width:50px" headerText="Realizó">
                                        <h:outputText value="#{vDetTec.nomusu}" />
                                    </p:column>
                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabPIE" title="Piezas">
                                <p:panel>
                                    <h:panelGrid columns="3" cellpadding="5">
                                        <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                                        <h:outputText value="Responsable" style="font-weight:bold;"/>
                                        <h:outputText value="Almacén" style="font-weight:bold;"/>

                                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                                     readonlyInput="true" showOn="button" size="16"
                                                     value="#{manMaestroMan.dfecha2}"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedPiezas}" />
                                        </p:calendar>  

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.pie_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="usumanpie"
                                                           itemLabel="#{usumanpie.det_nom}" itemValue="#{usumanpie.cod_usu}"/> 
                                        </p:selectOneMenu>

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.pie_cod_pai}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.paises}" var="paimanpie"
                                                           itemLabel="#{paimanpie.nom_pai}" itemValue="#{paimanpie.cod_pai}"/> 
                                        </p:selectOneMenu>

                                    </h:panelGrid>

                                    <h:panelGrid columns="5" cellpadding="5">
                                        <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                        <h:outputText value="Pieza Entrante" style="font-weight:bold;"/>
                                        <h:outputText value="Números de Serie" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:inputText maxlength="12" size="10" value="#{manMaestroMan.pie_det_can}" />
                                        <p:selectOneMenu id="sompiemanpie" style=" width: 270px;" 
                                                         filter="true" filterMatchMode="contains" 
                                                         value="#{manMaestroMan.pie_cod_pie}">
                                            <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.existenciareal}" var="lpiemanpie"
                                                           itemLabel="#{lpiemanpie.cod_ref} - #{lpiemanpie.nom_pie}" itemValue="#{lpiemanpie.cod_pie}"/> 
                                        </p:selectOneMenu>
                                        <p:inputText maxlength="200" size="40" value="#{manMaestroMan.pie_num_ser}" />
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregarpiezas()}"
                                                         update=":frmMaestra"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminarpiezas()}"
                                                         update=":frmMaestra"
                                                         />
                                    </h:panelGrid>
                                </p:panel>
                                <p:dataTable id="dtDetPie2" var="vDetPie" 
                                             value="#{manMaestroMan.piezas}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientospie}" 
                                             selectionMode="single"
                                             rowKey="#{vDetPie.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="80"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectPie}" update=":frmMaestra"/>


                                    <p:column style="width:30px;" headerText="Fecha">
                                        <h:outputText value="#{vDetPie.fec_man}" />
                                    </p:column>
                                    <p:column style="width:30px;" headerText="Almacén">
                                        <h:outputText value="#{vDetPie.nompai}" />
                                    </p:column>
                                    <p:column style="width:10px" headerText="Cant">
                                        <h:outputText value="#{vDetPie.det_can}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Pieza">
                                        <h:outputText value="#{vDetPie.nompie}" />
                                    </p:column>
                                    <p:column style="width:60px" headerText="Series">
                                        <h:outputText value="#{vDetPie.num_ser}" />
                                    </p:column>
                                    <p:column style="width:70px" headerText="Responsable">
                                        <h:outputText value="#{vDetPie.nomusu}" />
                                    </p:column>

                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabACC" title="Accesorios">
                                <p:panel>
                                    <h:panelGrid columns="3" cellpadding="5">
                                        <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                                        <h:outputText value="Responsable" style="font-weight:bold;"/>
                                        <h:outputText value="Almacén" style="font-weight:bold;"/>

                                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                                     readonlyInput="true" showOn="button" size="16"
                                                     value="#{manMaestroMan.dfecha3}"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedAccesorios}" />
                                        </p:calendar>  

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.acc_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="usumanacc"
                                                           itemLabel="#{usumanacc.det_nom}" itemValue="#{usumanacc.cod_usu}"/> 
                                        </p:selectOneMenu>

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.acc_cod_pai}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.paises}" var="paimanacc"
                                                           itemLabel="#{paimanacc.nom_pai}" itemValue="#{paimanacc.cod_pai}"/> 
                                        </p:selectOneMenu>

                                    </h:panelGrid>

                                    <h:panelGrid columns="4" cellpadding="5">
                                        <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                        <h:outputText value="Item" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:inputText maxlength="12" size="10" value="#{manMaestroMan.acc_det_can}" />
                                        <p:inputText maxlength="200" size="90" value="#{manMaestroMan.acc_des_ite}" />
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregaraccesorios()}"
                                                         update=":frmMaestra"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminarAccesorio()}"
                                                         update=":frmMaestra"
                                                         />
                                    </h:panelGrid>
                                </p:panel>
                                <p:dataTable id="dtDetAcc" var="vDetAcc" 
                                             value="#{manMaestroMan.accesorios}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientosacc}" 
                                             selectionMode="single"
                                             rowKey="#{vDetAcc.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="80"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectAcc}" update=":frmMaestra"/>


                                    <p:column style="width:110px;" headerText="Fecha">
                                        <h:outputText value="#{vDetAcc.fec_man}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Almacén">
                                        <h:outputText value="#{vDetAcc.nompai}" />
                                    </p:column>
                                    <p:column style="width:50px" headerText="Cantidad">
                                        <h:outputText value="#{vDetAcc.det_can}" />
                                    </p:column>
                                    <p:column style="width:400px" headerText="Descripción">
                                        <h:outputText value="#{vDetAcc.des_ite}" />
                                    </p:column>

                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabANE" title="Anexos">
                                <p:panel>
                                    <h:panelGrid columns="5" cellpadding="5" >
                                        <h:outputText value="Tipo" style="font-weight:bold;"/>
                                        <h:outputText value="Compartido por" style="font-weight:bold;"/>
                                        <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:selectOneMenu style=" width: 120px;" value="#{manMaestroMan.ane_tip_ane}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItem itemLabel="PDF" itemValue="1"/>
                                            <f:selectItem itemLabel="IMAGEN" itemValue="2"/>
                                            <f:selectItem itemLabel="OTRO" itemValue="3"/>
                                        </p:selectOneMenu>
                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.ane_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="usumanane"
                                                           itemLabel="#{usumanane.det_nom}" itemValue="#{usumanane.cod_usu}"/> 
                                        </p:selectOneMenu>
                                        <p:inputText value="#{manMaestroMan.ane_det_obs}" style="font-weight:bold;" size="50" maxlength="200"/>
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregaranexo()}"
                                                         update=":frmMaestra"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminarAnexos()}"
                                                         update=":frmMaestra"
                                                         />
                                    </h:panelGrid>
                                    <p:fileUpload id="fupman2" 
                                                  fileUploadListener="#{manMaestroMan.upload}" 
                                                  mode="advanced" dragDropSupport="true"
                                                  fileLimit="1" 
                                                  label="Seleccionar" cancelLabel="Cancelar" uploadLabel="Subir" 
                                                  value="#{manMaestroMan.file}"
                                                  />
                                </p:panel>
                                <p:dataTable id="dtDetAne2" var="vDetAne" 
                                             value="#{manMaestroMan.anexos}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientosane}" 
                                             selectionMode="single"
                                             rowKey="#{vDetAne.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="90"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectAne}" update=":frmMaestra"/>

                                    <p:column style="width:10px;" headerText="Tipo">
                                        <p:link href="#{vDetAne.rut_ane}" value="#{vDetAne.nomtip}" target="_blank"/>
                                    </p:column>
                                    <p:column style="width:150px" headerText="Observaciones">
                                        <h:outputText value="#{vDetAne.det_obs}" />
                                    </p:column>
                                    <p:column style="width:60px" headerText="Compartido por">
                                        <h:outputText value="#{vDetAne.nomusu}" />
                                    </p:column>
                                </p:dataTable>
                            </p:tab>
                        </p:tabView>
                    </p:layoutUnit>
                </p:layout>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgMaestraNew" widgetVar="wMaestraNew" modal="true" 
                   width="760" height="545" closable="false" resizable="false" 
                   header="ORDEN DE TRABAJO PARA MANTENIMIENTO F-MAN-004" rendered="true" 
                   dynamic="false" visible="false" 
                   >
            <h:form id="frmMaestraNew" >
                <p:growl id="msgMaestraNew" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         update=":frmMaestra"
                                         icon="ui-icon-disk" 
                                         actionListener="#{manMaestroMan.guardarencabezado()}"
                                         />                       
                        <p:commandButton value="Imprimir" icon="ui-icon-print"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manMaestroMan.imprimir_f_man_004}" 
                                         ajax="false">
                        </p:commandButton>

                        <p:commandButton value="Cancelar" style=" width: 100px;"
                                         icon="ui-icon-close" 
                                         actionListener="#{manMaestroMan.cerrarventananew()}"
                                         onclick="PF('wMaestraNew').hide()"
                                         update=":frmMaestra"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="5" cellpadding="5">
                        <h:outputText value="Código" style="font-weight:bold;"/>
                        <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                        <h:outputText value="Departamento" style="font-weight:bold;"/>
                        <h:outputText value="Externo" style="font-weight:bold;"/>
                        <h:outputText value="Tipo" style="font-weight:bold;"/>
                        <p:inputText value="#{manMaestroMan.cod_alt}" size="7" maxlength="11"/>
                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                     readonlyInput="true" showOn="button" 
                                     size="16"
                                     value="#{manMaestroMan.dfecini}"
                                     >
                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedFencabezado}" />
                        </p:calendar>
                        <p:selectOneMenu value="#{manMaestroMan.cod_dep}" 
                                         style=" width: 160px;">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manMaestroMan.departamentos}" var="depmaeman"
                                           itemLabel="#{depmaeman.nom_dep}" itemValue="#{depmaeman.cod_dep}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manMaestroMan.flg_ext}" 
                                         style=" width: 100px;">
                            <f:selectItem itemLabel="No" itemValue="0"/>
                            <f:selectItem itemLabel="Sí" itemValue="1"/>

                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manMaestroMan.cod_tip}" 
                                         style=" width: 120px;">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manMaestroMan.tipos}" var="tipmanman"
                                           itemLabel="#{tipmanman.nom_tip}" itemValue="#{tipmanman.cod_tip}"/> 
                        </p:selectOneMenu>

                    </h:panelGrid>
                    <h:panelGrid columns="4" cellpadding="5">
                        <h:outputText value="Supervisor" style="font-weight:bold;"/>
                        <h:outputText value="Periodicidad" style="font-weight:bold;"/>
                        <h:outputText value="Turno" style="font-weight:bold;"/>
                        <h:outputText value="Prioridad" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manMaestroMan.cod_sup}" 
                                         style=" width: 200px;">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manMaestroMan.supervisores}" var="supmanman"
                                           itemLabel="#{supmanman.det_nom}" itemValue="#{supmanman.cod_usu}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manMaestroMan.cod_per}" 
                                         style=" width: 120px;">
                            <f:selectItem itemLabel="Ninguna" itemValue="0"/>
                            <f:selectItems value="#{manMaestroMan.periodos}" var="permanman"
                                           itemLabel="#{permanman.nom_per}" itemValue="#{permanman.cod_per}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manMaestroMan.turno}" 
                                         style=" width: 120px;">
                            <f:selectItem itemLabel="Diurno" itemValue="0"/>
                            <f:selectItem itemLabel="Nocturno" itemValue="1"/>
                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manMaestroMan.cod_pri}" 
                                         style=" width: 120px;">
                            <f:selectItem itemLabel="Normal" itemValue="B"/>
                            <f:selectItem itemLabel="Urgente" itemValue="A"/>
                        </p:selectOneMenu>
                    </h:panelGrid>
                    <h:panelGrid columns="1" cellpadding="5">
                        <h:outputText value="Detalle de falla" style="font-weight:bold;"/>
                        <p:inputTextarea cols="100" rows="2"
                                         maxlength="180"
                                         value="#{manMaestroMan.det_obs}"
                                         onfocus="this.select()"
                                         />
                    </h:panelGrid>
                    <p:separator />
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="ESPACIO RESERVADO PARA MANTENIMIENTO &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; Fecha entrega" style="font-weight:bold;"/>
                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                     readonlyInput="true" showOn="button" 
                                     size="16"
                                     value="#{manMaestroMan.dfecfinF}"
                                     >
                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedFencabezadoFin}" />
                        </p:calendar>
                    </h:panelGrid>
                    <p:tabView tabindex="#{manMaestroMan.panindex}">
                        <p:ajax event="tabChange" listener="#{manMaestroMan.onTabPanChange}" />
                        <p:tab id="tabOBSTEC" title="Observaciones Técnicas">
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Responsable" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.cod_usu}" 
                                                 style=" width: 210px;">
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.usuarios}" var="usumanman"
                                                   itemLabel="#{usumanman.det_nom}" itemValue="#{usumanman.cod_usu}"/> 
                                </p:selectOneMenu>
                                <h:outputText value="Otro Personal" style="font-weight:bold;"/>
                                <p:inputText value="#{manMaestroMan.otr_per}" maxlength="300" size="38" />
                            </h:panelGrid>
                            <h:panelGrid columns="2" cellpadding="5">
                                <h:outputText value="Diagnóstico" style="font-weight:bold;"/>
                                <p:inputTextarea cols="87" rows="2" value="#{manMaestroMan.obs_tec}" maxlength="300"/>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab id="tabFALL" title="Fallas">
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Grupo Falla" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.cod_gru_fal}" 
                                                 style=" width: 140px;">
                                    <p:ajax event="change" listener="#{manMaestroMan.llenarListaFallas()}" update="somfallasnewman" />
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.grupofallas}" var="somgrufalnewman"
                                                   itemLabel="#{somgrufalnewman.nom_gru_fal}" itemValue="#{somgrufalnewman.cod_gru_fal}"/> 
                                </p:selectOneMenu>

                                <h:outputText value="Diagnóstico Falla" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.cod_fal}" 
                                                 style=" width: 200px;"
                                                 id="somfallasnewman"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Otra" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.listafallas}" var="somfalnewman"
                                                   itemLabel="#{somfalnewman.nom_fal}" itemValue="#{somfalnewman.cod_fal}"/> 
                                </p:selectOneMenu>
                            </h:panelGrid>
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Otra Falla" style="font-weight:bold;"/>
                                <p:inputText value="#{manMaestroMan.otr_fal}" size="78" maxlength="300"/>
                                <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                 actionListener="#{manMaestroMan.agregarfalla()}"
                                                 update=":frmMaestraNew"
                                                 />
                                <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                 actionListener="#{manMaestroMan.eliminarfalla()}"
                                                 update=":frmMaestraNew"
                                                 />
                            </h:panelGrid>

                            <p:dataTable id="dtFallMan" var="vFallMan" 
                                         value="#{manMaestroMan.fallas}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selection="#{manMaestroMan.catmantenimientosfal}" 
                                         selectionMode="single"
                                         rowKey="#{vFallMan.det_man}"
                                         editable="false"
                                         scrollable="true"
                                         scrollHeight="80"
                                         style="width:670px;"
                                         >

                                <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectFal}" 
                                        update=":frmMaestraNew"/>

                                <p:column style="width:50px;" headerText="Item">
                                    <h:outputText value="#{vFallMan.det_man}" />
                                </p:column>
                                <p:column style="width:100px;" headerText="Grupo">
                                    <h:outputText value="#{vFallMan.nomgrup}" />
                                </p:column>
                                <p:column style="width:200px;" headerText="Falla">
                                    <h:outputText value="#{vFallMan.nomfal}" />
                                </p:column>
                                <p:column style="width:200px;" headerText="Personalizada">
                                    <h:outputText value="#{vFallMan.det_obs}" />
                                </p:column>

                            </p:dataTable>
                        </p:tab>
                    </p:tabView>


                </p:panel>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgMaestraFin" widgetVar="wMaestraFin" modal="true" 
                   width="460" height="140" closable="false" resizable="false" 
                   header="Finalizar Mantenimiento" rendered="true" 
                   dynamic="false" visible="false" 
                   >
            <h:form id="frmMaestraFin" >
                <p:growl id="msgMaestraNew" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Aceptar" style=" width: 100px;"
                                         actionListener="#{manMaestroMan.finalizarmantenimiento()}"
                                         update=":frmMaestra,:frmIntegralIni,:frmMaestraFin"
                                         icon="ui-icon-disk"
                                         onclick="PF('wMaestraFin').hide()"
                                         >
                            <p:confirm header="Finalizar Mantenimiento" 
                                       message="¿Realmente desea Finalizar este Mantenimiento?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cancelar" style=" width: 100px;"
                                         update=":frmMaestra,:frmIntegralIni"
                                         icon="ui-icon-close" 
                                         onclick="PF('wMaestraFin').hide()"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:panel>

                    <h:panelGrid columns="1" cellpadding="5" style=" text-align: center;">
                        <h:outputText value="Al FINALIZAR EL MANTENIMIENTO, se removerá toda la información de la lista de Trabajo y no podrán realizarse más cambios en él." 
                                      style="font-weight:bold; color: red;"/>
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgExistenciasMan" widgetVar="wExistenciasMan" modal="true" 
                   width="850" height="360" closable="false" resizable="false" 
                   header="Existencias" rendered="true" 
                   dynamic="false" visible="false"  
                   >
            <h:form id="frmExistenciasMan">
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wExistenciasMan').hide()"
                                         actionListener="#{manMaestroMan.cerrarventanaexistencia()}"
                                         update=":frmMaestra,:frmExistenciasMan"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="5" cellpadding="5">

                        <h:outputText value="País" style="font-weight:bold;"/>
                        <h:outputText value="Bodega" style="font-weight:bold;"/>
                        <h:outputText value="Ubicación" style="font-weight:bold;"/>
                        <h:outputText value="Pieza" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>

                        <p:inputText size="20" value="#{manMaestroMan.nompai}" readonly="true"/>
                        <p:inputText size="20" value="#{manMaestroMan.nombod}" readonly="true"/>
                        <p:inputText size="20" value="#{manMaestroMan.nomubi}" readonly="true"/>


                        <p:selectOneMenu value="#{manMaestroMan.pie_cod_pie}" 
                                         style=" width: 200px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         >
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manMaestroMan.existenciareal}" var="lstpiemanpie"
                                           itemLabel="#{lstpiemanpie.cod_ref} | #{lstpiemanpie.nom_pie}" itemValue="#{lstpiemanpie.cod_pie}"/> 
                        </p:selectOneMenu>


                        <p:commandButton title="Buscar" 
                                         icon="ui-icon-search" 
                                         style=" width: 30px;" 
                                         actionListener="#{manMaestroMan.buscarexistencia()}" 
                                         update="dtExistenciasMan"
                                         />
                    </h:panelGrid>
                </p:panel>
                <p:dataTable id="dtExistenciasMan" var="vExistenciasMan" 
                             value="#{manMaestroMan.existencias}" 
                             emptyMessage="No se encontraron resultados" 
                             selection="#{manMaestroMan.catpiezasconexistencia}" 
                             selectionMode="single"
                             rowKey="#{vExistenciasMan.cod_pie}"
                             scrollable="true"
                             scrollHeight="180"
                             style="width:823px"
                             >



                    <p:column style="width:50px;" headerText="Bodega">
                        <h:outputText value="#{vExistenciasMan.nombod}" />
                    </p:column>
                    <p:column style="width:50px;" headerText="Ubicación">
                        <h:outputText value="#{vExistenciasMan.nomubi}" />
                    </p:column>
                    <p:column style="width:50px;" headerText="Pieza">
                        <h:outputText value="#{vExistenciasMan.nompie}" />
                    </p:column>
                    <p:column style="width:50px;" headerText="Stock">
                        <h:outputText value="#{vExistenciasMan.can_sto}" />
                    </p:column>
                    <p:column style="width:50px;" headerText="Reserva">
                        <h:outputText value="#{vExistenciasMan.can_res}" />
                    </p:column>
                    <p:column style="width:50px;" headerText="Disponible">
                        <h:outputText value="#{vExistenciasMan.can_sto - vExistenciasMan.can_res}" />
                    </p:column>

                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgSolReqMan" widgetVar="wSolReqMan" modal="true" 
                   width="840" height="460" closable="false" resizable="false" 
                   header="Solicitud del Mantenimiento" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSolReqMan"> 
                <p:growl id="msgSolReqMan" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Actualizar" style=" width: 100px;"
                                         actionListener="#{manMaestroMan.iniciarventanaSolicitudes()}"
                                         update=":frmSolReqMan"
                                         icon="ui-icon-refresh"
                                         /> 
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wSolReqMan').hide()"
                                         actionListener="#{manMaestroMan.cerrarventanaSolicitudes()}"
                                         update=":frmSolReqMan"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>

                <p:panel>
                    <p:dataTable id="dtEstadoSolReq" var="vEstadoSolReq" 
                                 value="#{manMaestroMan.maestro}" 
                                 emptyMessage="Este Mantenimiento no ha Generado Solicitudes ni Requisiciones." 
                                 selectionMode="single" 
                                 selection="#{manMaestroMan.catmaestro}" 
                                 rowKey="#{vEstadoSolReq.cod_mae}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="120"
                                 >

                        <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelect}" 
                                update=":frmSolReqMan"/>
                        <p:ajax event="rowUnselect" listener="#{manMaestroMan.onRowUnselect}" 
                                update=":frmSolReqMan"/>

                        <p:column style="width:70px;" headerText="Sol/Req">
                            <h:outputText value="#{vEstadoSolReq.cod_usu_sol}" />
                        </p:column>
                        <p:column style="width:40px;" headerText="Código">
                            <h:outputText value="#{vEstadoSolReq.cod_mae}" />
                        </p:column>
                        <p:column style="width:60px;" headerText="Fecha">
                            <h:outputText value="#{vEstadoSolReq.fec_sol}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Departamento">
                            <h:outputText value="#{vEstadoSolReq.nomdep}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Equipo">
                            <h:outputText value="#{vEstadoSolReq.nommaq}" />
                        </p:column>
                        <p:column style="width:130px" headerText="Estado">
                            <h:outputText value="#{vEstadoSolReq.det_sta}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>


                <p:panel>
                    <p:dataTable id="dtEstadoDetSolReq" var="vEsDetSolReq" 
                                 value="#{manMaestroMan.detalles}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manMaestroMan.catdetalles}" 
                                 rowKey="#{vEsDetSolReq.cod_det}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="200"
                                 >
                        <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelect}" 
                                update=":frmSolReqMan"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px;" headerText="Can.Solic.">
                            <h:outputText value="#{vEsDetSolReq.det_can_sol}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Can.Entreg.">
                            <h:outputText value="#{vEsDetSolReq.det_can_ent}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Can.Pend.">
                            <h:outputText value="#{vEsDetSolReq.det_can_pen}" />
                        </p:column>
                        <p:column style="width:250px" headerText="Descripción Item">
                            <h:outputText value="#{vEsDetSolReq.des_ite}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Estado">
                            <h:outputText value="#{vEsDetSolReq.det_sta}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgAutoSolReq" widgetVar="wAutoSolReq" modal="true" 
                   width="300" height="130" closable="false" resizable="false" 
                   header="Items sin Solicitar" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmAutoSolReq"> 
                <p:panel>
                    <h:panelGrid columns="1" style=" text-align: center;">
                        <h:outputText value="#{manMaestroMan.mmensaje}" style="font-weight:bold;"/>
                    </h:panelGrid>

                </p:panel>
                <br></br>
                <div align="center">
                    <h:panelGrid columns="2" style=" text-align: center;">
                        <p:commandButton value="SÃ" style=" width: 100px;"
                                         actionListener="#{manMaestroMan.generarsolicitudes()}"
                                         onclick="PF('wAutoSolReq').hide()"
                                         update=":frmMaestra"
                                         icon="ui-icon-check"
                                         /> 
                        <p:commandButton value="NO" style=" width: 100px;"
                                         onclick="PF('wAutoSolReq').hide()"
                                         actionListener="#{manMaestroMan.limpiarventana()}"
                                         icon="ui-icon-close"
                                         />
                    </h:panelGrid>
                </div>
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ************************** Pantalla Fátima *****************************
        *********************************************************************-->

        <p:dialog  id="dlgIntegralIni" widgetVar="wIntegralIni" modal="true" 
                   width="920" height="545" closable="false" resizable="false" 
                   header="INGRESO ORDEN DE TRABAJO Y DETALLE TÃCNICO" rendered="true" 
                   dynamic="false" visible="false" 
                   >
            <h:form id="frmIntegralIni" >
                <p:growl id="msgIntegralIni" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         update=":frmIntegralIni"
                                         icon="ui-icon-document" 
                                         actionListener="#{manMaestroMan.iniciarventanaintegral()}"
                                         /> 
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         update=":frmIntegralIni"
                                         icon="ui-icon-disk" 
                                         actionListener="#{manMaestroMan.guardarintegral()}"
                                         >
                            <p:confirm header="Guardar Mantenimiento" 
                                       message="¿Realmente desea Guardar Todos Los Cambios de este Mantenimiento?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton> 
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         update=":frmIntegralIni"
                                         icon="ui-icon-trash" 
                                         actionListener="#{manMaestroMan.eliminarencabezadoInt()}"
                                         >
                            <p:confirm header="Eliminar Mantenimiento" 
                                       message="¿Realmente desea Eliminar este Mantenimiento?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton> 
                        <p:commandButton value="Finalizar" style=" width: 100px;"
                                         onclick="PF('wMaestraFin').show()"
                                         update=":frmMaestraFin"
                                         icon="ui-icon-check"
                                         />  
                        <p:commandButton value="Orden" icon="ui-icon-print"
                                         style=" width: 100px;"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manMaestroMan.imprimir_f_man_004}" 
                                         ajax="false"/>
                        <p:commandButton value="Detalle" icon="ui-icon-print"
                                         style=" width: 100px;"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manMaestroMan.ejecutarreporte2()}" 
                                         ajax="false"/>
                        <p:commandButton value="F-MAN005" icon="ui-icon-print"
                                         style=" width: 100px;"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manMaestroMan.ejecutarreporteFMAN005()}" 
                                         ajax="false"/>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         icon="ui-icon-close" 
                                         actionListener="#{manMaestroMan.cerrarventanaintegral()}"
                                         onclick="PF('wIntegralIni').hide()"
                                         update=":frmIntegralIni"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:tabView activeIndex="#{manMaestroMan.tabindex}" >
                    <p:ajax event="tabChange" listener="#{manMaestroMan.onTabChangeIni}" />
                    <p:tab id="listagenini" title="Listado" >
                        <p:dataTable id="dtEncManInit" var="vEncManInit" 
                                     value="#{manMaestroMan.mantenimientos}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selection="#{manMaestroMan.catmantenimientos}" 
                                     selectionMode="single"
                                     rowKey="#{vEncManInit.cod_lis_equ},#{vEncManInit.cod_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="320"
                                     style="width:840px;"
                                     widgetVar="wvEncManIni"
                                     >

                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Filtrar:&nbsp;&nbsp;" />
                                        <p:inputText id="globalFilter" 
                                                     onkeyup="PF('wvEncManIni').filter()" 
                                                     style="width:100px;" 
                                                     placeholder="Id, Equipo"/>
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>

                            <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectEncInt}" update=":frmIntegralIni"/>

                            <p:column style="width:10px" headerText="Id" filterBy="#{vEncManInit.cod_alt}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vEncManInit.cod_alt}" />
                            </p:column>
                            <p:column style="width:30px" headerText="Fecha">
                                <h:outputText value="#{vEncManInit.fec_ini}" />
                            </p:column>
                            <p:column style="width:70px;" headerText="Tipo">
                                <h:outputText value="#{vEncManInit.nomtip}" />
                            </p:column>
                            <p:column style="width:140px" headerText="Equipo" filterBy="#{vEncManInit.nomequ}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vEncManInit.nomequ}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Estado">
                                <h:outputText value="#{vEncManInit.status}" />
                            </p:column>


                        </p:dataTable>
                        <h:panelGrid columns="3" cellpadding="5" style=" text-align: right;">
                            <h:outputText value="Año Solicitado (yyyy)" style="font-weight:bold;"/>
                            <p:inputText id="cmdlimit" value="#{manMaestroMan.vlimit}" size="7" maxlength="11"/>
                            <p:commandButton value="Cargar" actionListener="#{manMaestroMan.llenarMantenimientosintegral()}" update="dtEncManInit,cmdlimit"/>
                        </h:panelGrid>
                    </p:tab>
                    <p:tab id="genini" title="General" >

                        <p:panel>
                            <h:panelGrid columns="6" cellpadding="5">
                                <h:outputText value="Código" style="font-weight:bold;"/>
                                <h:outputText value="Equipo" style="font-weight:bold;"/>
                                <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                                <h:outputText value="Departamento" style="font-weight:bold;"/>
                                <h:outputText value="Externo" style="font-weight:bold;"/>
                                <h:outputText value="Tipo" style="font-weight:bold;"/>
                                <p:inputText value="#{manMaestroMan.cod_alt}" size="7" maxlength="11"/>
                                <p:selectOneMenu style=" width: 160px;" value="#{manMaestroMan.cod_lis_equ}"
                                                 filter="true" filterMatchMode="contains" 
                                                 >
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.lequipos}" var="lequmanini"
                                                   itemLabel="#{lequmanini.des_equ}" itemValue="#{lequmanini.cod_lis_equ}"/> 
                                </p:selectOneMenu>
                                <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                             readonlyInput="true" showOn="button" 
                                             size="16"
                                             value="#{manMaestroMan.dfecini}"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedFencabezado}" />
                                </p:calendar>
                                <p:selectOneMenu value="#{manMaestroMan.cod_dep}" 
                                                 style=" width: 140px;">
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.departamentos}" var="intedep"
                                                   itemLabel="#{intedep.nom_dep}" itemValue="#{intedep.cod_dep}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.flg_ext}" 
                                                 style=" width: 50px;">
                                    <f:selectItem itemLabel="No" itemValue="0"/>
                                    <f:selectItem itemLabel="Sí" itemValue="1"/>

                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.cod_tip}" 
                                                 style=" width: 120px;">
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.tipos}" var="inttipman"
                                                   itemLabel="#{inttipman.nom_tip}" itemValue="#{inttipman.cod_tip}"/> 
                                </p:selectOneMenu>

                            </h:panelGrid>
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Supervisor" style="font-weight:bold;"/>
                                <h:outputText value="Periodicidad" style="font-weight:bold;"/>
                                <h:outputText value="Turno" style="font-weight:bold;"/>
                                <h:outputText value="Prioridad" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.cod_sup}" 
                                                 style=" width: 200px;">
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.supervisores}" var="intsupervm"
                                                   itemLabel="#{intsupervm.det_nom}" itemValue="#{intsupervm.cod_usu}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.cod_per}" 
                                                 style=" width: 120px;">
                                    <f:selectItem itemLabel="Ninguna" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.periodos}" var="intperman"
                                                   itemLabel="#{intperman.nom_per}" itemValue="#{intperman.cod_per}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.turno}" 
                                                 style=" width: 120px;">
                                    <f:selectItem itemLabel="Diurno" itemValue="0"/>
                                    <f:selectItem itemLabel="Nocturno" itemValue="1"/>
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.cod_pri}" 
                                                 style=" width: 120px;">
                                    <f:selectItem itemLabel="Normal" itemValue="B"/>
                                    <f:selectItem itemLabel="Urgente" itemValue="A"/>
                                </p:selectOneMenu>
                            </h:panelGrid>
                            <h:panelGrid columns="1" cellpadding="5">
                                <h:outputText value="Detalle de falla" style="font-weight:bold;"/>
                                <p:inputTextarea cols="100" rows="2"
                                                 maxlength="180"
                                                 value="#{manMaestroMan.det_obs}"
                                                 onfocus="this.select()"
                                                 />
                            </h:panelGrid>
                            <p:separator />
                            <h:panelGrid columns="2" cellpadding="5">
                                <h:outputText value="ESPACIO RESERVADO PARA MANTENIMIENTO &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; Fecha entrega" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                             readonlyInput="true" showOn="button" 
                                             size="16"
                                             value="#{manMaestroMan.dfecfinF}"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedFencabezadoFin}" />
                                </p:calendar>
                            </h:panelGrid>
                            <p:tabView tabindex="#{manMaestroMan.panindex}">
                                <p:ajax event="tabChange" listener="#{manMaestroMan.onTabPanChange}" />
                                <p:tab id="tabOBSTECini" title="Observaciones Técnicas">
                                    <h:panelGrid columns="4" cellpadding="5">
                                        <h:outputText value="Responsable" style="font-weight:bold;"/>
                                        <p:selectOneMenu value="#{manMaestroMan.cod_usu}" 
                                                         style=" width: 210px;">
                                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="intusuman"
                                                           itemLabel="#{intusuman.det_nom}" itemValue="#{intusuman.cod_usu}"/> 
                                        </p:selectOneMenu>
                                        <h:outputText value="Otro Personal" style="font-weight:bold;"/>
                                        <p:inputText value="#{manMaestroMan.otr_per}" maxlength="300" size="38" />
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="5">
                                        <h:outputText value="Diagnóstico" style="font-weight:bold;"/>
                                        <p:inputTextarea cols="87" rows="2" value="#{manMaestroMan.obs_tec}" maxlength="300"/>
                                    </h:panelGrid>
                                </p:tab>
                                <p:tab id="tabFALLini" title="Fallas">
                                    <h:panelGrid columns="4" cellpadding="5">
                                        <h:outputText value="Grupo Falla" style="font-weight:bold;"/>
                                        <p:selectOneMenu value="#{manMaestroMan.cod_gru_fal}" 
                                                         style=" width: 140px;">
                                            <p:ajax event="change" listener="#{manMaestroMan.llenarListaFallas()}"  />
                                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.grupofallas}" var="somgrufalint"
                                                           itemLabel="#{somgrufalint.nom_gru_fal}" itemValue="#{somgrufalint.cod_gru_fal}"/> 
                                        </p:selectOneMenu>

                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregarfalla()}"
                                                         update=":frmIntegralIni"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminarfalla()}"
                                                         update=":frmIntegralIni"
                                                         />
                                    </h:panelGrid>

                                    <p:dataTable id="dtFallInt" var="vFallInt" 
                                                 value="#{manMaestroMan.fallas}" 
                                                 emptyMessage="No se encontraron resultados" 
                                                 selection="#{manMaestroMan.catmantenimientosfal}" 
                                                 selectionMode="single"
                                                 rowKey="#{vFallInt.det_man}"
                                                 editable="false"
                                                 scrollable="true"
                                                 scrollHeight="80"
                                                 style="width:670px;"
                                                 >

                                        <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectFal}" 
                                                update=":frmIntegralIni"/>

                                        <p:column style="width:50px;" headerText="Item">
                                            <h:outputText value="#{vFallInt.det_man}" />
                                        </p:column>
                                        <p:column style="width:100px;" headerText="Grupo">
                                            <h:outputText value="#{vFallInt.nomgrup}" />
                                        </p:column>


                                    </p:dataTable>
                                </p:tab>
                            </p:tabView>


                        </p:panel>


                    </p:tab>
                    <p:tab id="detintini" title="Detalle">
                        <p:tabView id="tvDetMan2ini" activeIndex="#{manMaestroMan.tabindex2}" >
                            <p:ajax event="tabChange" listener="#{manMaestroMan.onTab2Change}" />
                            <p:tab id="tabGENini" title="Detalle Técnico">
                                <p:panel>
                                    <h:panelGrid columns="3" cellpadding="5">
                                        <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                                        <h:outputText value="Acción" style="font-weight:bold;"/>
                                        <h:outputText value="Realizó" style="font-weight:bold;"/>
                                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                                     readonlyInput="true" 
                                                     showOn="button" size="16"
                                                     value="#{manMaestroMan.dfecha1}"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedGeneral}" />
                                        </p:calendar> 
                                        <p:selectOneMenu style=" width: 325px;" value="#{manMaestroMan.gen_cod_ope}"
                                                         filter="true" filterMatchMode="contains" 
                                                         >
                                            <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.operaciones}" var="inttipope"
                                                           itemLabel="#{inttipope.nom_ope}" itemValue="#{inttipope.cod_ope}"/> 
                                        </p:selectOneMenu>
                                        <p:selectOneMenu style=" width: 210px;" value="#{manMaestroMan.gen_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="intusudet"
                                                           itemLabel="#{intusudet.det_nom}" itemValue="#{intusudet.cod_usu}"/> 
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                    <h:panelGrid columns="3" cellpadding="3">
                                        <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:inputText maxlength="200" size="108" value="#{manMaestroMan.gen_det_obs}" />
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregargeneral()}"
                                                         update=":frmIntegralIni"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminargeneral()}"
                                                         update=":frmIntegralIni"
                                                         />
                                    </h:panelGrid>
                                </p:panel>
                                <p:dataTable id="dtDetTecIni" var="vDetTecIni" 
                                             value="#{manMaestroMan.general}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientosgen}" 
                                             selectionMode="single"
                                             rowKey="#{vDetTecIni.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="80"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectGen}" update=":frmIntegralIni"/>
                                    <p:column style="width:12px;" headerText="Fecha y Hora">
                                        <h:outputText value="#{vDetTecIni.fec_man}" />
                                    </p:column>
                                    <p:column style="width:80px" headerText="Acción">
                                        <h:outputText value="#{vDetTecIni.nomope}" />
                                    </p:column>
                                    <p:column style="width:80px" headerText="Observaciones">
                                        <h:outputText value="#{vDetTecIni.det_obs}" />
                                    </p:column>
                                    <p:column style="width:50px" headerText="Realizó">
                                        <h:outputText value="#{vDetTecIni.nomusu}" />
                                    </p:column>
                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabPIEini" title="Piezas">
                                <p:panel>
                                    <h:panelGrid columns="3" cellpadding="5">
                                        <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                                        <h:outputText value="Responsable" style="font-weight:bold;"/>
                                        <h:outputText value="Almacén" style="font-weight:bold;"/>

                                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                                     readonlyInput="true" showOn="button" size="16"
                                                     value="#{manMaestroMan.dfecha2}"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedPiezas}" />
                                        </p:calendar>  

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.pie_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="iniusumanpie"
                                                           itemLabel="#{iniusumanpie.det_nom}" itemValue="#{iniusumanpie.cod_usu}"/> 
                                        </p:selectOneMenu>

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.pie_cod_pai}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.paises}" var="inipaimanpie"
                                                           itemLabel="#{inipaimanpie.nom_pai}" itemValue="#{inipaimanpie.cod_pai}"/> 
                                        </p:selectOneMenu>

                                    </h:panelGrid>

                                    <h:panelGrid columns="5" cellpadding="5">
                                        <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                        <h:outputText value="Pieza Entrante" style="font-weight:bold;"/>
                                        <h:outputText value="Números de Serie" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:inputText maxlength="12" size="10" value="#{manMaestroMan.pie_det_can}" />
                                        <p:selectOneMenu id="sompiemanpieini" style=" width: 270px;" 
                                                         filter="true" filterMatchMode="contains" 
                                                         value="#{manMaestroMan.pie_cod_pie}">
                                            <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.existenciareal}" var="lpiemanpieini"
                                                           itemLabel="#{lpiemanpieini.cod_ref} - #{lpiemanpieini.nom_pie}" itemValue="#{lpiemanpieini.cod_pie}"/> 
                                        </p:selectOneMenu>
                                        <p:inputText maxlength="200" size="40" value="#{manMaestroMan.pie_num_ser}" />
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregarpiezas()}"
                                                         update=":frmIntegralIni"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminarpiezas()}"
                                                         update=":frmIntegralIni"
                                                         />
                                    </h:panelGrid>
                                </p:panel>
                                <p:dataTable id="dtDetPie2ini" var="vDetPieini" 
                                             value="#{manMaestroMan.piezas}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientospie}" 
                                             selectionMode="single"
                                             rowKey="#{vDetPieini.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="80"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectPie}" update=":frmIntegralIni"/>


                                    <p:column style="width:30px;" headerText="Fecha">
                                        <h:outputText value="#{vDetPieini.fec_man}" />
                                    </p:column>
                                    <p:column style="width:30px;" headerText="Almacén">
                                        <h:outputText value="#{vDetPieini.nompai}" />
                                    </p:column>
                                    <p:column style="width:10px" headerText="Cant">
                                        <h:outputText value="#{vDetPieini.det_can}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Pieza">
                                        <h:outputText value="#{vDetPieini.nompie}" />
                                    </p:column>
                                    <p:column style="width:60px" headerText="Series">
                                        <h:outputText value="#{vDetPieini.num_ser}" />
                                    </p:column>
                                    <p:column style="width:70px" headerText="Responsable">
                                        <h:outputText value="#{vDetPieini.nomusu}" />
                                    </p:column>

                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabACCini" title="Accesorios">
                                <p:panel>
                                    <h:panelGrid columns="3" cellpadding="5">
                                        <h:outputText value="Fecha y hora" style="font-weight:bold;"/>
                                        <h:outputText value="Responsable" style="font-weight:bold;"/>
                                        <h:outputText value="Almacén" style="font-weight:bold;"/>

                                        <p:calendar  pattern="dd/MM/yyyy HH:mm" locale="es" 
                                                     readonlyInput="true" showOn="button" size="16"
                                                     value="#{manMaestroMan.dfecha3}"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedAccesorios}" />
                                        </p:calendar>  

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.acc_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="iniusumanacc"
                                                           itemLabel="#{iniusumanacc.det_nom}" itemValue="#{iniusumanacc.cod_usu}"/> 
                                        </p:selectOneMenu>

                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.acc_cod_pai}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.paises}" var="inipaimanacc"
                                                           itemLabel="#{inipaimanacc.nom_pai}" itemValue="#{inipaimanacc.cod_pai}"/> 
                                        </p:selectOneMenu>

                                    </h:panelGrid>

                                    <h:panelGrid columns="4" cellpadding="5">
                                        <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                        <h:outputText value="Item" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:inputText maxlength="12" size="10" value="#{manMaestroMan.acc_det_can}" />
                                        <p:inputText maxlength="200" size="90" value="#{manMaestroMan.acc_des_ite}" />
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregaraccesorios()}"
                                                         update=":frmIntegralIni"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminarAccesorio()}"
                                                         update=":frmIntegralIni"
                                                         />
                                    </h:panelGrid>
                                </p:panel>
                                <p:dataTable id="dtDetAccIni" var="vDetAccIni" 
                                             value="#{manMaestroMan.accesorios}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientosacc}" 
                                             selectionMode="single"
                                             rowKey="#{vDetAccIni.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="80"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectAcc}" update=":frmIntegralIni"/>


                                    <p:column style="width:110px;" headerText="Fecha">
                                        <h:outputText value="#{vDetAccIni.fec_man}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Almacén">
                                        <h:outputText value="#{vDetAccIni.nompai}" />
                                    </p:column>
                                    <p:column style="width:50px" headerText="Cantidad">
                                        <h:outputText value="#{vDetAccIni.det_can}" />
                                    </p:column>
                                    <p:column style="width:400px" headerText="Descripción">
                                        <h:outputText value="#{vDetAccIni.des_ite}" />
                                    </p:column>

                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabANEini" title="Anexos">
                                <p:panel>
                                    <h:panelGrid columns="5" cellpadding="5" >
                                        <h:outputText value="Tipo" style="font-weight:bold;"/>
                                        <h:outputText value="Compartido por" style="font-weight:bold;"/>
                                        <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:selectOneMenu style=" width: 120px;" value="#{manMaestroMan.ane_tip_ane}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItem itemLabel="PDF" itemValue="1"/>
                                            <f:selectItem itemLabel="IMAGEN" itemValue="2"/>
                                            <f:selectItem itemLabel="OTRO" itemValue="3"/>
                                        </p:selectOneMenu>
                                        <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.ane_cod_usu}">
                                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="usumananeini"
                                                           itemLabel="#{usumananeini.det_nom}" itemValue="#{usumananeini.cod_usu}"/> 
                                        </p:selectOneMenu>
                                        <p:inputText value="#{manMaestroMan.ane_det_obs}" style="font-weight:bold;" size="50" maxlength="200"/>
                                        <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregaranexo()}"
                                                         update=":frmIntegralIni"
                                                         />
                                        <p:commandButton title="Eliminar" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminarAnexos()}"
                                                         update=":frmIntegralIni"
                                                         />
                                    </h:panelGrid>
                                    <p:fileUpload id="fupman2ini" 
                                                  fileUploadListener="#{manMaestroMan.upload}" 
                                                  mode="advanced" dragDropSupport="true"
                                                  fileLimit="1" 
                                                  label="Seleccionar" cancelLabel="Cancelar" uploadLabel="Subir" 
                                                  value="#{manMaestroMan.file}"
                                                  />
                                </p:panel>
                                <p:dataTable id="dtDetAne2ini" var="vDetAneIni" 
                                             value="#{manMaestroMan.anexos}" 
                                             emptyMessage="No se encontraron resultados" 
                                             selection="#{manMaestroMan.catmantenimientosane}" 
                                             selectionMode="single"
                                             rowKey="#{vDetAneIni.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="90"
                                             style="width:800px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectAne}" update=":frmIntegralIni"/>

                                    <p:column style="width:10px;" headerText="Tipo">
                                        <p:link href="#{vDetAneIni.rut_ane}" value="#{vDetAneIni.nomtip}" target="_blank"/>
                                    </p:column>
                                    <p:column style="width:150px" headerText="Observaciones">
                                        <h:outputText value="#{vDetAneIni.det_obs}" />
                                    </p:column>
                                    <p:column style="width:60px" headerText="Compartido por">
                                        <h:outputText value="#{vDetAneIni.nomusu}" />
                                    </p:column>
                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tab001rec" title="M-001-Rec" titleStyleClass=" ">

                                <h:panelGrid columns="2" cellpadding="5" >
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <p:commandButton value="Imprimir" icon="ui-icon-print"
                                                     style=" width: 100px;"
                                                     onclick="this.form.target = '_blank';" 
                                                     action="#{manMaestroMan.ejecutarreporteFMAN001(1)}" 
                                                     ajax="false"/>
                                    <h:outputText value="Sistema Neumático" style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_001}"/>
                                    <h:outputText value="Sistema Eléctrico, Tableros, Tomas, Acometidas, Sensores, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_002}"/>
                                    <h:outputText value="Sistema de Lubricación: Chumaceras, Graseras, Rodamientos, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_003}"/>
                                    <h:outputText value="Sistema de Enfriamiento: Mangueras, Válvulas, Adaptadores, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_004}"/>
                                    <h:outputText value="Transmisión de Potencia: Motor, Fajas, Poleas, Reductores, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_005}"/>
                                    <h:outputText value="Unidad de Tratamiento: Rodillos, Fundas, Rodamientos, Etc. " style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_006}"/>
                                    <h:outputText value="Sistema Embobinador, Desembobinador." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_007}"/>
                                    <h:outputText value="Calandra." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_008}"/>
                                    <h:outputText value="Cabezal y Tornillo Extrusor." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_009}"/>
                                    <h:outputText value="Mesa de Bandas, Fajas, Rodillos, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_010}"/>
                                    <h:outputText value="Sellador: Soportes, Termocuplas, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_011}"/>
                                    <h:outputText value="Conjunto Alineador: Pistón, Mangueras, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_012}"/>
                                    <h:outputText value="Conjunto de Unidades Impresoras." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_013}"/>
                                    <h:outputText value="Brazos Portabobinas Refilador: Rachet, Mangueras, Rodamientos." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_014}"/>
                                    <h:outputText value="Sistema Visualizador de Producción: Displa, Contómetro, Monitor, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_015}"/>
                                    <h:outputText value="Sistema de Calefacción, Mangueras, Blower, Horno, Etc." style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_016}"/>
                                    <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                    <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_rec_obs_017}"/>
                                    <h:outputText value="Responsable Producción" style="font-weight:bold;"/>
                                    <p:selectOneMenu value="#{manMaestroMan.fm1_rec_usu_pro}" 
                                                     style=" width: 320px;">
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manMaestroMan.supervisores}" var="suppro001rec"
                                                       itemLabel="#{suppro001rec.det_nom}" itemValue="#{suppro001rec.cod_usu}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Responsable Mantenimiento" style="font-weight:bold;"/>
                                    <p:selectOneMenu style=" width: 320px;" 
                                                     value="#{manMaestroMan.fm1_rec_usu_man}">
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manMaestroMan.usuarios}" var="tecman001rec"
                                                       itemLabel="#{tecman001rec.det_nom}" itemValue="#{tecman001rec.cod_usu}"/> 
                                    </p:selectOneMenu>

                                </h:panelGrid>

                            </p:tab>
                            <p:tab id="tab001ent" title="M-001-Ent">
                                <div style=" background-color: #d3f2ff;">
                                    <h:panelGrid columns="2" cellpadding="5" >
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:commandButton value="Imprimir" icon="ui-icon-print"
                                                         style=" width: 100px;"
                                                         onclick="this.form.target = '_blank';" 
                                                         action="#{manMaestroMan.ejecutarreporteFMAN001(2)}" 
                                                         ajax="false"/>
                                        <h:outputText value="Sistema Neumático" style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_001}"/>
                                        <h:outputText value="Sistema Eléctrico, Tableros, Tomas, Acometidas, Sensores, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_002}"/>
                                        <h:outputText value="Sistema de Lubricación: Chumaceras, Graseras, Rodamientos, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_003}"/>
                                        <h:outputText value="Sistema de Enfriamiento: Mangueras, Válvulas, Adaptadores, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_004}"/>
                                        <h:outputText value="Transmisión de Potencia: Motor, Fajas, Poleas, Reductores, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_005}"/>
                                        <h:outputText value="Unidad de Tratamiento: Rodillos, Fundas, Rodamientos, Etc. " style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_006}"/>
                                        <h:outputText value="Sistema Embobinador, Desembobinador." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_007}"/>
                                        <h:outputText value="Calandra." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_008}"/>
                                        <h:outputText value="Cabezal y Tornillo Extrusor." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_009}"/>
                                        <h:outputText value="Mesa de Bandas, Fajas, Rodillos, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_010}"/>
                                        <h:outputText value="Sellador: Soportes, Termocuplas, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_011}"/>
                                        <h:outputText value="Conjunto Alineador: Pistón, Mangueras, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_012}"/>
                                        <h:outputText value="Conjunto de Unidades Impresoras." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_013}"/>
                                        <h:outputText value="Brazos Portabobinas Refilador: Rachet, Mangueras, Rodamientos." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_014}"/>
                                        <h:outputText value="Sistema Visualizador de Producción: Displa, Contómetro, Monitor, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_015}"/>
                                        <h:outputText value="Sistema de Calefacción, Mangueras, Blower, Horno, Etc." style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_016}"/>
                                        <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="500" cols="50" rows="2" value="#{manMaestroMan.fm1_ent_obs_017}"/>
                                        <h:outputText value="Responsable Producción" style="font-weight:bold;"/>
                                        <p:selectOneMenu value="#{manMaestroMan.fm1_ent_usu_pro}" 
                                                         style=" width: 320px;">
                                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.supervisores}" var="suppro001ent"
                                                           itemLabel="#{suppro001ent.det_nom}" itemValue="#{suppro001ent.cod_usu}"/> 
                                        </p:selectOneMenu>
                                        <h:outputText value="Responsable Mantenimiento" style="font-weight:bold;"/>
                                        <p:selectOneMenu style=" width: 320px;" 
                                                         value="#{manMaestroMan.fm1_ent_usu_man}">
                                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="tecman001ent"
                                                           itemLabel="#{tecman001ent.det_nom}" itemValue="#{tecman001ent.cod_usu}"/> 
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                </div>
                            </p:tab>
                        </p:tabView>
                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *********************** Plantillas Mantenimiento ***********************
        *********************************************************************-->

        <p:dialog  id="dlgPlantillas" widgetVar="wPlantillas" modal="true" 
                   width="850" height="500" closable="false" resizable="false" 
                   header="Plantillas de Mantenimiento" rendered="true" 
                   dynamic="true" visible="false"  
                   >
            <h:form id="frmPlantillas">
                <p:growl id="msgPlantillas" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manPlantillas.nuevo()}"
                                         update=":frmPlantillas"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manPlantillas.guardar()}"
                                         update=":frmPlantillas"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manPlantillas.eliminar()}"
                                         update=":frmPlantillas"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>


                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPlantillas').hide()"
                                         actionListener="#{manPlantillas.cerrarventana()}"
                                         update=":frmPlantillas"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel >
                    <h:panelGrid columns="4" cellpadding="5">
                        <h:outputText value="Equipo" style="font-weight:bold;"/>
                        <h:outputText value="Tipo de Mantenimiento" style="font-weight:bold;"/>
                        <h:outputText value="Duración Estimada (Horas)" style="font-weight:bold;"/>
                        <h:outputText value="Técnico Sugerido" style="font-weight:bold;"/>

                        <p:selectOneMenu value="#{manPlantillas.cod_equ}" 
                                         style=" width: 180px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         >
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manPlantillas.equipos}" var="somequplan"
                                           itemLabel="#{somequplan.nom_equ}" itemValue="#{somequplan.cod_equ}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu value="#{manPlantillas.tip_man}" 
                                         style=" width: 180px;"
                                         >
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manPlantillas.tipos}" var="somtipplan"
                                           itemLabel="#{somtipplan.nom_tip}" itemValue="#{somtipplan.cod_tip}"/> 
                        </p:selectOneMenu>
                        <p:inputText size="10" value="#{manPlantillas.det_hor}" />
                        <p:selectOneMenu value="#{manPlantillas.usuarios}" 
                                         style=" width: 180px;"
                                         >
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manPlantillas.usuarios}" var="somusuplan"
                                           itemLabel="#{somusuplan.det_nom}" itemValue="#{somusuplan.cod_usu}"/> 
                        </p:selectOneMenu>

                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ********* Pantalla mantenimiento de Grupos de Seguridad ****************
        *********************************************************************-->

        <p:dialog  id="dlgGrupo" widgetVar="wGrupo" modal="true" 
                   width="440" height="290" closable="false" resizable="false" 
                   header="Mantenimiento de Grupos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmGrupo"> 
                <p:growl id="msgGrupo" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manGrupos.nuevo()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manGrupos.guardar()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manGrupos.eliminar()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wGrupo').hide()"
                                         actionListener="#{manGrupos.cerrarventana()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #666666;">
                        <p:focus for="txtdescripciongrupo" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtdescripciongrupo" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manGrupos.des_grp}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtGrupo" var="vGrupo" 
                                 value="#{manGrupos.grupos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manGrupos.catgrupos}" 
                                 rowKey="#{vGrupo.id_grp}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:380px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manGrupos.onRowSelect}" 
                                update=":frmGrupo"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vGrupo.id_grp}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vGrupo.des_grp}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****** Pantalla mantenimiento de Controles de aplicacion ***************
        *********************************************************************-->

        <p:dialog  id="dlgControl" widgetVar="wControl" modal="true" 
                   width="540" height="390" closable="false" resizable="false" 
                   header="Mantenimiento de Controles" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmControl"> 
                <p:growl id="msgControl" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manControles.nuevo()}"
                                         update=":frmControl"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manControles.guardar()}"
                                         update=":frmControl"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manControles.eliminar()}"
                                         update=":frmControl"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wControl').hide()"
                                         actionListener="#{manControles.cerrarventana()}"
                                         update=":frmControl"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #d3f2ff;">
                        <p:focus for="ommodulocontrol" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Modulo" style="font-weight:bold;" />
                            <p:selectOneMenu id="ommodulocontrol" value="#{manControles.id_mod}" style=" width: 150px;">
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manControles.modulos}" var="modusu"
                                               itemLabel="#{modusu.des_mod}" itemValue="#{modusu.id_mod}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Identificador" style="font-weight:bold;"/>
                            <p:inputText id="txtsidcontrol" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manControles.sid_ctrl}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Descripción" style="font-weight:bold;"/>
                            <p:inputText id="txtdescripcioncontrol" 
                                         size="50"
                                         maxlength="150"
                                         value="#{manControles.ctrl_desc}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtControl" var="vControl" 
                                 value="#{manControles.controles}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manControles.catcontroles}" 
                                 rowKey="#{vControl.cod_ctrl}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="160"
                                 style="width:480px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manControles.onRowSelect}" 
                                update=":frmControl"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vControl.cod_ctrl}" />
                        </p:column>
                        <p:column style="width:50px" headerText="Modulo">
                            <h:outputText value="#{vControl.modulo}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Nombre">
                            <h:outputText value="#{vControl.sid_ctrl}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Descripción">
                            <h:outputText value="#{vControl.ctrl_desc}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****** Pantalla de Asignación de usuarios a grupos *********
        *********************************************************************-->

        <p:dialog  id="dlgUsrGrp" widgetVar="wUsrGrp" modal="true" 
                   width="540" height="390" closable="false" resizable="false" 
                   header="Asignación de Usuarios a Grupos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmUsrGrp"> 
                <p:growl id="msgUsrGrp" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manUserGroup.nuevo()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manUserGroup.guardar()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manUserGroup.eliminar()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wUsrGrp').hide()"
                                         actionListener="#{manUserGroup.cerrarventana()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #666666;">
                        <p:focus for="omgrupousrgrp" />
                        <h:panelGrid columns="4" cellpadding="5">
                            <h:outputText value="Grupo" style="font-weight:bold;" />
                            <p:selectOneMenu id="omgrupousrgrp" value="#{manUserGroup.id_grp}" style=" width: 200px;">
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manUserGroup.grupos}" var="manusrgrpgroup"
                                               itemLabel="#{manusrgrpgroup.des_grp}" itemValue="#{manusrgrpgroup.id_grp}"/> 
                            </p:selectOneMenu>

                            <h:outputText value="Usuario" style="font-weight:bold;" />
                            <p:selectOneMenu id="omusuariousrgrp" value="#{manUserGroup.cod_usu}" style=" width: 125px;">
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manUserGroup.usuarios}" var="manusrgrpuser"
                                               itemLabel="#{manusrgrpuser.nom_usu}" itemValue="#{manusrgrpuser.cod_usu}"/> 
                            </p:selectOneMenu>

                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtUsrGrp" var="vUsrGrp" 
                                 value="#{manUserGroup.usergroup}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manUserGroup.catusergroup}" 
                                 rowKey="#{vUsrGrp.id_usr_grp}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:485px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manUserGroup.onRowSelect}" 
                                update=":frmUsrGrp"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vUsrGrp.id_usr_grp}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Grupo">
                            <h:outputText value="#{vUsrGrp.grupo}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Usuario">
                            <h:outputText value="#{vUsrGrp.usuario}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **********   Pantalla de Registro de derechos de seguridad  ************
        *********************************************************************-->

        <p:dialog  id="dlgSecurity" widgetVar="wSecurity" modal="true" 
                   width="640" height="450" closable="false" resizable="false" 
                   header="Asignación de Permisos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSecurity"> 
                <p:growl id="msgSecurity" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manSeguridad.nuevo()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manSeguridad.guardar()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manSeguridad.eliminar()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wSecurity').hide()"
                                         actionListener="#{manSeguridad.cerrarventana()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #666666;">
                        <p:focus for="ommodsecurity" />
                        <h:panelGrid columns="4" cellpadding="5">
                            <h:outputText value="Modulo" style="font-weight:bold;" />
                            <p:selectOneMenu id="ommodsecurity" value="#{manSeguridad.id_mod}" style=" width: 150px;">
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manSeguridad.modulos}" var="manmodsecurity"
                                               itemLabel="#{manmodsecurity.des_mod}" itemValue="#{manmodsecurity.id_mod}"/> 
                            </p:selectOneMenu>

                            <h:outputText value="Control" style="font-weight:bold;" />
                            <p:selectOneMenu id="omctrlsecurity" value="#{manSeguridad.cod_ctrl}" style=" width: 250px;">
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manSeguridad.controles}" var="manctrlsecurity"
                                               itemLabel="#{manctrlsecurity.ctrl_desc}" itemValue="#{manctrlsecurity.cod_ctrl}"/> 
                            </p:selectOneMenu>

                            <h:outputText value="Grupo" style="font-weight:bold;" />
                            <p:selectOneMenu id="omgrpsecurity" value="#{manSeguridad.id_grp}" style=" width: 150px;">
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manSeguridad.grupos}" var="mangrpsecurity"
                                               itemLabel="#{mangrpsecurity.des_grp}" itemValue="#{mangrpsecurity.id_grp}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Usuario" style="font-weight:bold;" />
                            <h:panelGroup>
                                <p:selectOneMenu id="omususecurity" value="#{manSeguridad.cod_usu}" style=" width: 150px;">
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manSeguridad.usuarios}" var="manususecurity"
                                                   itemLabel="#{manususecurity.nom_usu}" itemValue="#{manususecurity.cod_usu}"/> 
                                </p:selectOneMenu>
                                <p:spacer width="20"/>
                                <h:outputLabel value="Activo: " style="font-weight:bold;" />
                                <p:spacer width="10"/>
                                <p:selectBooleanButton value="#{manSeguridad.activo}" onLabel="Si" offLabel="No" style="width:30px" />
                            </h:panelGroup>

                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtSecurity" var="vSecurity" 
                                 value="#{manSeguridad.seguridad}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manSeguridad.catseguridad}" 
                                 rowKey="#{vSecurity.cod_sec}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:560px; height:280px "
                                 >
                        <p:ajax event="rowSelect" listener="#{manSeguridad.onRowSelect}" 
                                update=":frmSecurity"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vSecurity.cod_sec}" />
                        </p:column>
                        <p:column style="width:150px" headerText="Control">
                            <h:outputText value="#{vSecurity.control}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Grupo">
                            <h:outputText value="#{vSecurity.grupo}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Usuario">
                            <h:outputText value="#{vSecurity.usuario}" />
                        </p:column>
                        <p:column style="width:70px; text-align:center;" headerText="Activo">
                            <p:selectBooleanCheckbox value="#{vSecurity.activo}" />
                        </p:column>                        
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla mantenimiento de Personal     ***************
        *********************************************************************-->

        <p:dialog  id="dlgPersonal" widgetVar="wPersonal" modal="true" 
                   width="625" height="560" closable="false" resizable="false" 
                   header="Control de Personal" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmPersonal"> 
                <p:growl id="msgPersonal" showDetail="true" life="6500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manPersonas.nuevo()}"
                                         update=":frmPersonal"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manPersonas.guardar()}"
                                         update=":frmPersonal"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manPersonas.eliminar()}"
                                         update=":frmPersonal"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPersonal').hide()"
                                         actionListener="#{manPersonas.cerrarventana()}"
                                         update=":frmPersonal"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #D4DEDF;">
                        <p:focus for="txtnombreper" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombres" style="font-weight:bold;"/>
                            <h:panelGroup>
                                <p:inputText id="txtnombreper" 
                                             size="28"
                                             maxlength="30"
                                             value="#{manPersonas.nombres}"
                                             onfocus="this.select()"
                                             />
                                <p:spacer width="20"/>
                                <h:outputText value="Apellidos" style="font-weight:bold;"/>
                                <p:spacer width="10"/>
                                <p:inputText id="txtapellidosper" 
                                             size="28"
                                             maxlength="30"
                                             value="#{manPersonas.apellidos}"
                                             onfocus="this.select()"
                                             />
                            </h:panelGroup>
                            <h:outputText value="Dirección" style="font-weight:bold;"/>
                            <p:inputText id="txtdireccionper" 
                                         size="70"
                                         maxlength="150"
                                         value="#{manPersonas.direccion}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Teléfono" style="font-weight:bold;"/>
                            <h:panelGroup>
                                <p:inputText id="txttelefonoper" 
                                             size="10"
                                             maxlength="8"
                                             value="#{manPersonas.telefono}"
                                             onfocus="this.select()"
                                             />
                                <p:spacer width="10"/>
                                <h:outputText value="Celular" style="font-weight:bold;"/>
                                <p:spacer width="10"/>
                                <p:inputText id="txtcelularper" 
                                             size="10"
                                             maxlength="8"
                                             value="#{manPersonas.celular}"
                                             onfocus="this.select()"
                                             />
                                <p:spacer width="10"/>
                                <h:outputText value="E-Mail" style="font-weight:bold;"/>
                                <p:spacer width="10"/>
                                <p:inputText id="txtemailper" 
                                             size="30"
                                             maxlength="50"
                                             value="#{manPersonas.email}"
                                             onfocus="this.select()"
                                             />
                            </h:panelGroup>
                            <h:outputText value="Dui" style="font-weight:bold;"/>
                            <h:panelGroup>
                                <p:inputText id="txtduiper" 
                                             size="12"
                                             maxlength="10"
                                             value="#{manPersonas.dui}"
                                             onfocus="this.select()"
                                             />
                                <p:spacer width="10"/>
                                <h:outputText value="Nit" style="font-weight:bold;"/>
                                <p:spacer width="10"/>
                                <p:inputText id="txtnitper" 
                                             size="20"
                                             maxlength="14"
                                             value="#{manPersonas.nit}"
                                             onfocus="this.select()"
                                             />
                                <p:spacer width="10"/>
                                <h:outputText value="ISSS" style="font-weight:bold;"/>
                                <p:spacer width="12"/>
                                <p:inputText id="txtisssper" 
                                             size="22"
                                             maxlength="20"
                                             value="#{manPersonas.isss}"
                                             onfocus="this.select()"
                                             />
                            </h:panelGroup>
                            <h:outputText value="Area" style="font-weight:bold;"/>
                            <h:panelGroup>
                                <p:selectOneMenu value="#{manPersonas.cod_dep}" 
                                                 style=" width: 160px;">
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manPersonas.departamentos}" var="depmanper"
                                                   itemLabel="#{depmanper.nom_dep}" itemValue="#{depmanper.cod_dep}"/> 
                                </p:selectOneMenu>
                                <p:spacer width="20"/>
                                <h:outputText value="Codigo" style="font-weight:bold;"/>
                                <p:spacer width="10"/>
                                <p:inputText id="txtcodigoper" 
                                             size="28"
                                             maxlength="30"
                                             value="#{manPersonas.codigo}"
                                             onfocus="this.select()"
                                             />
                            </h:panelGroup>
                            <h:outputText value="Jefe Inmediato" style="font-weight:bold;"/>
                            <h:panelGroup>
                                <p:selectOneMenu value="#{manPersonas.id_jef}" 
                                                 id="txtjefeper" 
                                                 style="width:225px;text-align:right;"
                                                 immediate="false">

                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                    <f:selectItems value="#{manPersonas.jefes}" var="mjefeper"
                                                   itemLabel="#{mjefeper.nombres} #{mjefeper.apellidos}" itemValue="#{mjefeper.id_per}"/>
                                </p:selectOneMenu>
                                <p:spacer width="20"/>
                                <h:outputText value="Fecha Ingreso" style="font-weight:bold;"/>
                                <p:spacer width="10"/>
                                <p:calendar  pattern="dd/MM/yyyy " locale="es" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 20px"
                                             value="#{manPersonas.dfingreso}" 
                                             >
                                    <p:ajax event="dateSelect" listener="#{manPersonas.dateSelectedFingreso}" />
                                </p:calendar> 
                            </h:panelGroup> 
                            <h:outputText value="Cargo" style="font-weight:bold;"/>
                            <h:panelGroup>
                                <p:selectOneMenu value="#{manPersonas.id_car}" 
                                                 style="width:180px;text-align:right;"
                                                 immediate="false"
                                                 >  
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                    <f:selectItems value="#{manPersonas.cargos}" var="mpercar"
                                                   itemLabel="#{mpercar.des_car}" itemValue="#{mpercar.id_car}"/>
                                </p:selectOneMenu>
                                <p:spacer width="20"/>
                                <h:outputText value="Usuario" style="font-weight:bold;"/>
                                <p:spacer width="10"/>
                                <p:selectOneMenu value="#{manPersonas.usuario}" 
                                                 style="width:150px;text-align:right;"
                                                 immediate="false"
                                                 >  
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                    <f:selectItems value="#{manPersonas.usuarios}" var="mperusu"
                                                   itemLabel="#{mperusu.nom_usu}" itemValue="#{mperusu.cod_usu}"/>
                                </p:selectOneMenu>                           
                            </h:panelGroup>
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtPersonal" var="vPersonal" 
                                 value="#{manPersonas.personas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manPersonas.catpersonas}" 
                                 rowKey="#{vPersonal.id_per}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:565px"
                                 paginator="true"
                                 rows ="5"
                                 paginatorPosition="top"
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 >
                        <p:ajax event="rowSelect" listener="#{manPersonas.onRowSelect}" 
                                update=":frmPersonal"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:110px" headerText="Nombres" sortBy="#{vPersonal.nombres}" filterBy="#{vPersonal.nombres}">
                            <h:outputText value="#{vPersonal.nombres}" />
                        </p:column>
                        <p:column style="width:110px" headerText="Apellidos" sortBy="#{vPersonal.apellidos}" filterBy="#{vPersonal.apellidos}">
                            <h:outputText value="#{vPersonal.apellidos}" />
                        </p:column>
                        <p:column style="width:60px" headerText="Teléfono">
                            <h:outputText value="#{vPersonal.telefono}" />
                        </p:column>
                        <p:column style="width:150px" headerText="E-Mail">
                            <h:outputText value="#{vPersonal.email}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **************** Pantalla mantenimiento de Cargos **********************
        *********************************************************************-->

        <p:dialog  id="dlgCargo" widgetVar="wCargo" modal="true" 
                   width="460" height="290" closable="false" resizable="false" 
                   header="Mantenimiento de Cargos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCargo"> 
                <p:growl id="msgCargo" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manCargos.nuevo()}"
                                         update=":frmCargo"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manCargos.guardar()}"
                                         update=":frmCargo"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manCargos.eliminar()}"
                                         update=":frmCargo"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wCargo').hide()"
                                         actionListener="#{manCargos.cerrarventana()}"
                                         update=":frmCargo"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="txtnombrecargo" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrecargo" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manCargos.des_car}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtCargo" var="vCargo" 
                                 value="#{manCargos.cargos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manCargos.catcargos}" 
                                 rowKey="#{vCargo.id_car}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:400px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manCargos.onRowSelect}" 
                                update=":frmCargo"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vCargo.id_car}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vCargo.des_car}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **************** Pantalla Calendarización de mantenimientos ************
        *********************************************************************-->

        <p:dialog  id="dlgCalend" widgetVar="wCalend" modal="true" 
                   width="800" height="540" closable="true" resizable="false" 
                   header="Calendario de Mantenimientos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCalend">
                <p:growl id="messages" showDetail="true" />
                <p:schedule id="schedule" value="#{manMaestroMan.mttoModel}" widgetVar="myschedule" timeZone="GMT+2" locale="es" aspectRatio="1.7">
                    <p:ajax event="eventSelect" listener="#{manMaestroMan.onEventSelect}" update="frmMaestra" oncomplete="PF('wMaestra').show();" />
                    <p:ajax event="eventMove" listener="#{manMaestroMan.onEventMove}" update="messages" />
                    <p:ajax event="eventResize" listener="#{manMaestroMan.onEventResize}" update="messages" />
                </p:schedule>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
       **************** Pantalla Pronostico de mantenimientos ************
       *********************************************************************-->

        <p:dialog  id="dlgPronosticoMtto" widgetVar="wPronosticoMtto" modal="true" 
                   width="570" height="400" closable="false" resizable="false" 
                   header="Pronostico de Calendario de Mantenimientos" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmPronosticoMtto"> 
                <p:growl id="messProMtto" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manPronosticoMtto.nuevo()}"
                                         update=":frmPronosticoMtto"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manPronosticoMtto.guardar()}"
                                         update=":frmPronosticoMtto"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manPronosticoMtto.eliminar()}"
                                         update=":frmPronosticoMtto"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Autorizar" style=" width: 100px;"
                                         actionListener="#{manPronosticoMtto.autorizar()}"
                                         update=":frmPronosticoMtto"
                                         icon="ui-icon-check"
                                         >
                            <p:confirm header="Autorizar Registro" 
                                       message="NOTA IMPORTANTE: Este proceso no se podrá revertir ¿Realmente desea Autorizar este Pronostico?" 
                                       icon="ui-icon-alert"
                                       />
                        </p:commandButton>
                        <f:facet name="right">
                            <p:commandButton value="Cerrar" style=" width: 100px;"
                                             onclick="PF('wPronosticoMtto').hide()"
                                             action="#{manPronosticoMtto.cerrarventana()}" 
                                             update=":frmPronosticoMtto"
                                             icon="ui-icon-close"
                                             />
                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                <p:commandButton value="Sí" type="button" 
                                                 styleClass="ui-confirmdialog-yes" 
                                                 icon="ui-icon-check" />
                                <p:commandButton value="No" type="button" 
                                                 styleClass="ui-confirmdialog-no" 
                                                 icon="ui-icon-close" />
                            </p:confirmDialog>
                        </f:facet>
                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Nombre de Pronostico" style="font-weight:bold;"/>
                        <p:inputText maxlength="250" size="60" value="#{manPronosticoMtto.nom_pro_mtto}" 
                                     onfocus="this.select()"/>

                        <h:outputText value="Fecha de pronostico" style="font-weight:bold;"/>
                        <h:panelGroup>
                            <p:calendar  pattern="dd/MM/yyyy" locale="es" id="fecing"
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{manPronosticoMtto.mfecha}"
                                         >
                                <p:ajax event="dateSelect" listener="#{manPronosticoMtto.dateSelected}" />
                            </p:calendar>
                            <p:spacer width="10"/>   
                            <h:outputText value="Año a pronosticar" style="font-weight:bold;"/>
                            <p:spacer width="10"/>
                            <p:inputText maxlength="15" size="17" value="#{manPronosticoMtto.anho_pro_mtto}" 
                                         onfocus="this.select()" onkeypress="return valida(event)"/>
                        </h:panelGroup>
                        <h:outputText value="Pronostico origen" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manPronosticoMtto.anho_origen}" 
                                         style="width:350px;text-align:right;"
                                         immediate="false"
                                         >  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manPronosticoMtto.pronosticomtto}" var="mpromtto"
                                           itemLabel="#{mpromtto.nom_pro_mtto}" itemValue="#{mpromtto.id_pro_mtto}"/>
                        </p:selectOneMenu>  


                    </h:panelGrid>
                    <p:dataTable id="dtProMtto" var="vProMtto" 
                                 value="#{manPronosticoMtto.pronosticomtto}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manPronosticoMtto.catpronosticomtto}" 
                                 rowKey="#{vProMtto.id_pro_mtto}"
                                 editable="false" 
                                 style="width:540px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 widgetVar="proMttoCabecera"
                                 rowIndexVar="proIndex"
                                 >
                        <p:ajax event="rowSelect" listener="#{manPronosticoMtto.onRowSelect}" 
                                update=":frmPronosticoMtto" />
                        <p:column style="width:20px" headerText="ID">
                            <h:outputText value="#{vProMtto.id_pro_mtto}" />
                        </p:column>                    
                        <p:column style="width:80px" headerText="Nombre">
                            <h:outputText value="#{vProMtto.nom_pro_mtto}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Fecha Evaluacion">
                            <h:outputText value="#{vProMtto.fecha_pro_mtto}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Año Destino">
                            <h:outputText value="#{vProMtto.anho_pro_mtto}" />
                        </p:column>
                        <p:column style="width:32px;text-align: center" headerText="Aplicado">
                            <pe:triStateCheckbox value="#{vProMtto.aprobado}" disabled="true" />
                        </p:column>
                        <p:column style="width:32px;text-align: center">
                            <p:commandButton update=":dlgDetalleProMtto" oncomplete="PF('wDetalleProMtto').show()" onclick="PF('proMttoCabecera').selectRow(#{proIndex})" icon="ui-icon-search" title="View" action="#{manPronosticoMtto.llenarDetallePronosticoMtto}">
                                <f:setPropertyActionListener value="#{vProMtto}" target="#{manPronosticoMtto.catpronosticomtto}" />
                            </p:commandButton>
                        </p:column>

                    </p:dataTable>
                </div>
            </h:form>
        </p:dialog> 


        <p:dialog  id="dlgDetalleProMtto" widgetVar="wDetalleProMtto" modal="true" 
                   width="900" height="540" closable="false" resizable="false" 
                   header="Detalle Pronostico de Calendario de Mantenimientos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmDetalleProMtto">
                <p:growl id="messDetalleProMtto" showDetail="true" />
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Imprimir" icon="ui-icon-print"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manPronosticoMtto.imprimir()}" 
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wDetalleProMtto').hide()"
                                         update=":frmDetalleProMtto"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <pe:timeline id="PronosticoTimeline" value="#{manPronosticoMtto.modelTimeLine}" height="500px" 
                             zoomable="true"  
                             selectable="true"
                             editable="true"                                               
                             moveable="true"  
                             stackEvents="true"  
                             axisOnTop="false"
                             eventStyle="dot"
                             showCurrentTime="true"  
                             showNavigation="true"
                             timeChangeable="true"
                             locale="es"
                             widgetVar="pronoTL"
                             var="timelinepro">
                    <p:ajax  event="edit" listener="#{manPronosticoMtto.onEdit}" process="@form" update=":frmMttoDialog" oncomplete="PF('mttoDialog').show();" /> 
                    <p:ajax  event="changed" listener="#{manPronosticoMtto.onChange}" process="@form"/> 
                    <p:ajax  event="add" update=":frmMttoDialog"  listener="#{manPronosticoMtto.onAdd}" oncomplete="PF('mttoDialog').show()"/>  
                    <p:ajax  event="delete" update=":frmMttoDelete:deleteMttoInner"  listener="#{manPronosticoMtto.onDelete}"  
                             onstart="PF('pronoTL').cancelDelete()" oncomplete="PF('deleteMttoWdgt').show()"/>  
                    <h:panelGrid columns="1">  
                        <h:outputText value="#{timelinepro.des_equ}" style="font-size:8px"/>  
                    </h:panelGrid>  
                </pe:timeline>  
            </h:form>
        </p:dialog>


        <p:dialog widgetVar="mttoDialog" header="Observaciones" showEffect="clip" hideEffect="clip" modal="true" closable="false">
            <h:form id="frmMttoDialog">
                <h:panelGrid id="grdMttoDialog" columns="2">
                    <p:outputLabel for="equlist" value="Equipo:" />
                    <p:selectOneMenu value="#{manPronosticoMtto.tlevent.data.cod_lis_equ}" 
                                     style="width:180px;text-align:right;"
                                     immediate="false"
                                     id ="equlist"
                                     >  
                        <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                        <f:selectItems value="#{manPronosticoMtto.lequipos}" var="mlequ"
                                       itemLabel="#{mlequ.des_equ}" itemValue="#{mlequ.cod_lis_equ}"/>
                    </p:selectOneMenu>
                    <p:outputLabel value="Desde:" />
                    <p:calendar value="#{manPronosticoMtto.tlevent.startDate}"  pattern="dd/MM/yyyy"/>

                    <p:outputLabel value="Hasta:" />
                    <p:calendar value="#{manPronosticoMtto.tlevent.data.fec_fin}" pattern="dd/MM/yyyy" mindate="#{manPronosticoMtto.tlevent.startDate}"/>

                    <p:outputLabel for="obs" value="Observacion:" />
                    <p:inputTextarea rows="6" cols="33" autoResize="false" id="obs" value="#{manPronosticoMtto.tlevent.data.det_obs}" required="true"/>

                    <p:commandButton type="reset" value="Cerrar" onclick="PF('mttoDialog').hide();"/>
                    <p:commandButton id="addButton" value="Guardar" actionListener="#{manPronosticoMtto.guardarMtto()}" oncomplete="PF('mttoDialog').hide();" update=":frmDetalleProMtto" />
                </h:panelGrid>
            </h:form>
        </p:dialog> 

        <p:dialog id="deleteMttoDlg" header="Detalle de mantenimiento" widgetVar="deleteMttoWdgt"  
                  showEffect="clip" hideEffect="clip" dynamic="true" modal="true"> 
            <h:form id="frmMttoDelete">
                <h:panelGroup id="deleteMttoInner" layout="block" style="margin:10px;">  
                    <h:outputText value="#{manPronosticoMtto.deleteMessage}"/>  
                </h:panelGroup>  

                <h:panelGroup layout="block" style="text-align:right; padding:2px; white-space:nowrap;">  
                    <p:commandButton value="Borrar" process="deleteMttoDlg" update=":frmDetalleProMtto"  
                                     action="#{manPronosticoMtto.deleteMtto}"  
                                     oncomplete="PF('deleteMttoWdgt').hide()"/> 
                    <p:spacer width="10"/>
                    <p:commandButton type="button" value="Cerrar" onclick="PF('deleteMttoWdgt').hide()"/>  
                </h:panelGroup>  
            </h:form>
        </p:dialog> 

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Almacenes *******************
        *********************************************************************-->

        <p:dialog  id="dlgAlmacenes" widgetVar="wAlmacenes" modal="true" 
                   width="500" height="300" closable="false" resizable="false" 
                   header="Mantenimiento de Almacenes" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmAlmacenes"> 
                <p:growl id="msgAlmacenes" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manAlmacenes.nuevo()}"
                                         update=":frmAlmacenes"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manAlmacenes.guardar()}"
                                         update=":frmAlmacenes"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manAlmacenes.eliminar()}"
                                         update=":frmAlmacenes"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wAlmacenes').hide()"
                                         action="#{manAlmacenes.cerrarventana()}" 
                                         update=":frmAlmacenes"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Bodega" style="font-weight:bold;" />
                        <p:inputText maxlength="20" size="60" value="#{manAlmacenes.nom_alm}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtAlmacenes" var="vAlm" 
                                 value="#{manAlmacenes.almacenes}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manAlmacenes.catalmacenes}" 
                                 rowKey="#{vAlm.cod_alm}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{manAlmacenes.onRowSelect}" 
                                update=":frmAlmacenes" />

                        <p:column style="width:50px" headerText="Nombre Bodega">
                            <h:outputText value="#{vAlm.nom_alm}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Grupos piezas  **************
        *********************************************************************-->

        <p:dialog  id="dlgGruPie" widgetVar="wGruPie" modal="true" 
                   width="500" height="300" closable="false" resizable="false" 
                   header="Mantenimiento de Grupos Piezas" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmGruPie"> 
                <p:growl id="msgGruPie" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manGruposPiezas.nuevo()}"
                                         update=":frmGruPie"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manGruposPiezas.guardar()}"
                                         update=":frmGruPie"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manGruposPiezas.eliminar()}"
                                         update=":frmGruPie"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wGruPie').hide()"
                                         action="#{manGruposPiezas.cerrarventana()}" 
                                         update=":frmGruPie"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Grupo" style="font-weight:bold;" />
                        <p:inputText maxlength="20" size="60" value="#{manGruposPiezas.nom_gru}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtGruPie" var="vGru" 
                                 value="#{manGruposPiezas.grupospiezas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manGruposPiezas.catgrupospiezas}" 
                                 rowKey="#{vGru.cod_gru}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{manGruposPiezas.onRowSelect}" 
                                update=":frmGruPie" />

                        <p:column style="width:50px" headerText="Nombre Grupo">
                            <h:outputText value="#{vGru.nom_gru}" />
                        </p:column>
                    </p:dataTable>
                </div>
            </h:form>
        </p:dialog> 

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Evaluaciones ****************
        *********************************************************************-->

        <p:dialog  id="dlgEval" widgetVar="wEval" modal="true" 
                   width="500" height="300" closable="false" resizable="false" 
                   header="Mantenimiento de Evaluaciones" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmEval"> 
                <p:growl id="msgEval" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manEvaluaciones.nuevo()}"
                                         update=":frmEval"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manEvaluaciones.guardar()}"
                                         update=":frmEval"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manEvaluaciones.eliminar()}"
                                         update=":frmEval"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wEval').hide()"
                                         action="#{manEvaluaciones.cerrarventana()}" 
                                         update=":frmEval"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Evaluacion" style="font-weight:bold;" />
                        <p:inputText maxlength="200" size="60" value="#{manEvaluaciones.nom_eva}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtEval" var="vEva" 
                                 value="#{manEvaluaciones.evaluaciones}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manEvaluaciones.catevaluaciones}" 
                                 rowKey="#{vEva.id_eva}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{manEvaluaciones.onRowSelect}" 
                                update=":frmEval" />

                        <p:column style="width:50px" headerText="Nombre Evaluacion">
                            <h:outputText value="#{vEva.nom_eva}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog> 

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Factores Evaluacion *********
        *********************************************************************-->

        <p:dialog  id="dlgFacEval" widgetVar="wFacEval" modal="true" 
                   width="500" height="350" closable="false" resizable="false" 
                   header="Mantenimiento de Factores de Evaluacion" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmFacEval"> 
                <p:growl id="msgFacEval" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manFactores.nuevo()}"
                                         update=":frmFacEval"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manFactores.guardar()}"
                                         update=":frmFacEval"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manFactores.eliminar()}"
                                         update=":frmFacEval"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wFacEval').hide()"
                                         action="#{manFactores.cerrarventana()}" 
                                         update=":frmFacEval"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Factor" style="font-weight:bold;" />
                        <p:inputText maxlength="200" size="60" value="#{manFactores.nom_fac}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtFacEval" var="vFacEva" 
                                 value="#{manFactores.factores}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manFactores.catfactores}" 
                                 rowKey="#{vFacEva.id_fac}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{manFactores.onRowSelect}" 
                                update=":frmFacEval" />

                        <p:column style="width:50px" headerText="Nombre Factor">
                            <h:outputText value="#{vFacEva.nom_fac}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog> 

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Criterios Evaluacion ********
        *********************************************************************-->

        <p:dialog  id="dlgCriEval" widgetVar="wCriEval" modal="true" 
                   width="580" height="400" closable="false" resizable="false" 
                   header="Mantenimiento de Criterios de Evaluacion" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmCriEval"> 
                <p:growl id="msgCriEval" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manCriterios.nuevo()}"
                                         update=":frmCriEval"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manCriterios.guardar()}"
                                         update=":frmCriEval"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manCriterios.eliminar()}"
                                         update=":frmCriEval"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wCriEval').hide()"
                                         action="#{manCriterios.cerrarventana()}" 
                                         update=":frmCriEval"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Factor" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manCriterios.id_fac}" 
                                         style="width:455px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manCriterios.factores}" var="mfaccri"
                                           itemLabel="#{mfaccri.nom_fac}" itemValue="#{mfaccri.id_fac}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Criterio" style="font-weight:bold;" />
                        <p:inputText maxlength="200" size="73" value="#{manCriterios.nom_cri}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtCriEval" var="vCriEva" 
                                 value="#{manCriterios.criterios}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manCriterios.catcriterios}" 
                                 rowKey="#{vCriEva.id_cri}"
                                 editable="false" 
                                 style="width:540px"
                                 scrollable="true"
                                 scrollHeight="200"
                                 paginator="true"
                                 rows ="5"
                                 paginatorPosition="top"
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 >
                        <p:ajax event="rowSelect" listener="#{manCriterios.onRowSelect}" 
                                update=":frmCriEval" />
                        <p:column style="width:30px" headerText="Factor" filterStyle="width: 180px;" sortBy="#{vCriEva.nomfac}" filterBy="#{vCriEva.nomfac}">
                            <h:outputText value="#{vCriEva.nomfac}" />
                        </p:column>                    
                        <p:column style="width:80px" headerText="Nombre Criterio" filterStyle="width: 180px;" sortBy="#{vCriEva.nom_cri}" filterBy="#{vCriEva.nom_cri}">
                            <h:outputText value="#{vCriEva.nom_cri}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog> 

        <!--******************************************************************** 
        **************** Pantalla mantenimiento de Grupos Fallas  *****************
        *********************************************************************-->

        <p:dialog  id="dlgGruFal" widgetVar="wGruFal" modal="true" 
                   width="460" height="290" closable="false" resizable="false" 
                   header="Mantenimiento de Grupos de Fallas" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmGruFal"> 
                <p:growl id="msgGruFal" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manGruposFallas.nuevo()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manGruposFallas.guardar()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manGruposFallas.eliminar()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wGruFal').hide()"
                                         actionListener="#{manGruposFallas.cerrarventana()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="txtnombregrufal" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombregrufal" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manGruposFallas.nom_gru_fal}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtGruFal" var="vGruFal" 
                                 value="#{manGruposFallas.grupofallas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manGruposFallas.catgrupofallas}" 
                                 rowKey="#{vGruFal.cod_gru_fal}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:400px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manGruposFallas.onRowSelect}" 
                                update=":frmGruFal"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vGruFal.cod_gru_fal}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vGruFal.nom_gru_fal}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Fallas              ********
        *********************************************************************-->

        <p:dialog  id="dlgFallas" widgetVar="wFallas" modal="true" 
                   width="580" height="350" closable="false" resizable="false" 
                   header="Mantenimiento de Fallas" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmFallas"> 
                <p:growl id="msgFallas" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manFallas.nuevo()}"
                                         update=":frmFallas"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manFallas.guardar()}"
                                         update=":frmFallas"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manFallas.eliminar()}"
                                         update=":frmFallas"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wFallas').hide()"
                                         action="#{manFallas.cerrarventana()}" 
                                         update=":frmFallas"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Grupo Falla" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manFallas.cod_gru_fal}" 
                                         style="width:450px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manFallas.grupofallas}" var="mgrufal"
                                           itemLabel="#{mgrufal.nom_gru_fal}" itemValue="#{mgrufal.cod_gru_fal}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Falla" style="font-weight:bold;" />
                        <p:inputText maxlength="200" size="72" value="#{manFallas.nom_fal}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtFallas" var="vFallas" 
                                 value="#{manFallas.fallas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manFallas.catfallas}" 
                                 rowKey="#{vFallas.cod_fal}"
                                 editable="false" 
                                 style="width:540px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{manFallas.onRowSelect}" 
                                update=":frmFallas" />
                        <p:column style="width:30px" headerText="Grupo Falla">
                            <h:outputText value="#{vFallas.nomgrupo}" />
                        </p:column>                    
                        <p:column style="width:80px" headerText="Nombre Falla">
                            <h:outputText value="#{vFallas.nom_fal}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        **************** Pantalla Detalle de evaluacion             ********
        *********************************************************************-->

        <p:dialog  id="dlgDetEva" widgetVar="wDetEva" modal="true" 
                   width="580" height="400" closable="false" resizable="false" 
                   header="Registro de detalle de evaluaciones" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmDetEva"> 
                <p:growl id="msgDetEva" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manEvaluacionDetalle.nuevo()}"
                                         update=":frmDetEva"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manEvaluacionDetalle.guardar()}"
                                         update=":frmDetEva"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manEvaluacionDetalle.eliminar()}"
                                         update=":frmDetEva"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wDetEva').hide()"
                                         action="#{manEvaluacionDetalle.cerrarventana()}" 
                                         update=":frmDetEva"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Evaluacion" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manEvaluacionDetalle.id_eva}" 
                                         style="width:440px;text-align:right;"
                                         immediate="false">  
                            <p:ajax event="change" listener="#{manEvaluacionDetalle.llenarFactores()}" update="somFacDetEva" />
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manEvaluacionDetalle.evaluaciones}" var="mevadet"
                                           itemLabel="#{mevadet.nom_eva}" itemValue="#{mevadet.id_eva}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Numero pregunta" style="font-weight:bold;" />
                        <p:inputText maxlength="5" size="5" value="#{manEvaluacionDetalle.num_preg}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="Factor" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manEvaluacionDetalle.id_fac}" 
                                         style="width:440px;text-align:right;"
                                         id="somFacDetEva"
                                         immediate="false">  
                            <p:ajax event="change" listener="#{manEvaluacionDetalle.llenarCriterios()}" update="somCritDetEva" />
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manEvaluacionDetalle.factores}" var="mfacdet"
                                           itemLabel="#{mfacdet.nom_fac}" itemValue="#{mfacdet.id_fac}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Criterio" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manEvaluacionDetalle.id_cri}" 
                                         style="width:440px;text-align:right;"
                                         id="somCritDetEva"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manEvaluacionDetalle.criterios}" var="mcridet"
                                           itemLabel="#{mcridet.nom_cri}" itemValue="#{mcridet.id_cri}"/>
                        </p:selectOneMenu>

                    </h:panelGrid>
                    <p:dataTable id="dtDetEva" var="vDetEva" 
                                 value="#{manEvaluacionDetalle.evaluaciondetalle}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manEvaluacionDetalle.catevaluaciondetalle}" 
                                 rowKey="#{vDetEva.id_eva_det}"
                                 editable="false" 
                                 style="width:540px"
                                 scrollable="true"
                                 scrollHeight="180"
                                 >
                        <p:ajax event="rowSelect" listener="#{manEvaluacionDetalle.onRowSelect}" 
                                update=":frmDetEva" />
                        <p:column style="width:10px" headerText="ID">
                            <h:outputText value="#{vDetEva.id_eva_det}" />
                        </p:column>
                        <p:column style="width:10px" headerText="No. Pregunta">
                            <h:outputText value="#{vDetEva.num_preg}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Factor">
                            <h:outputText value="#{vDetEva.nomfac}" />
                        </p:column>  
                        <p:column style="width:150px" headerText="Criterio">
                            <h:outputText value="#{vDetEva.nomcri}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        **************** Pantalla de Evaluacion de personas ********
        *********************************************************************-->

        <p:dialog  id="dlgEvaPer" widgetVar="wEvaPer" modal="true" 
                   width="600" height="450" closable="false" resizable="false" 
                   header="Evaluaciones al personal" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmEvaPer"> 
                <p:growl id="msgEvaPer" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manEvaluacionPersonas.nuevo()}"
                                         update=":frmEvaPer"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manEvaluacionPersonas.guardar()}"
                                         update=":frmEvaPer"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manEvaluacionPersonas.eliminar()}"
                                         update=":frmEvaPer"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wEvaPer').hide()"
                                         action="#{manEvaluacionPersonas.cerrarventana()}" 
                                         update=":frmEvaPer"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Persona a Evaluar" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manEvaluacionPersonas.id_per}" 
                                         style="width:400px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manEvaluacionPersonas.personas}" var="mpereva"
                                           itemLabel="#{mpereva.nombres} #{mpereva.apellidos}" itemValue="#{mpereva.id_per}"/>
                        </p:selectOneMenu>

                        <h:outputText value="Persona que evalua" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manEvaluacionPersonas.per_eva}" 
                                         style="width:400px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manEvaluacionPersonas.personas}" var="mpereva"
                                           itemLabel="#{mpereva.nombres} #{mpereva.apellidos}" itemValue="#{mpereva.id_per}"/>
                        </p:selectOneMenu>

                        <h:outputText value="Evaluacion" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manEvaluacionPersonas.id_eva}" 
                                         style="width:400px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manEvaluacionPersonas.evaluaciones}" var="mevaeva"
                                           itemLabel="#{mevaeva.nom_eva}" itemValue="#{mevaeva.id_eva}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Fecha de evaluacion" style="font-weight:bold;" />
                        <p:calendar  pattern="dd/MM/yyyy" locale="es" id="fdeeva"
                                     readonlyInput="true" 
                                     showOn="button" size="16"
                                     value="#{manEvaluacionPersonas.dfevaluacion}"
                                     >
                            <p:ajax event="dateSelect" listener="#{manEvaluacionPersonas.dateSelected}" />
                        </p:calendar> 

                    </h:panelGrid>
                    <p:dataTable id="dtEvaPer" var="vEvaPer" 
                                 value="#{manEvaluacionPersonas.evaluacionpersonas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manEvaluacionPersonas.catevaluacionpersonas}" 
                                 rowKey="#{vEvaPer.id_eva_per}"
                                 editable="false" 
                                 style="width:540px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 widgetVar="evaCabecera"
                                 rowIndexVar="eindex"
                                 >
                        <p:ajax event="rowSelect" listener="#{manEvaluacionPersonas.onRowSelect}" 
                                update=":frmEvaPer" />
                        <p:column style="width:40px" headerText="Persona Evaluada">
                            <h:outputText value="#{vEvaPer.nom_per}" />
                        </p:column>                    
                        <p:column style="width:80px" headerText="Evaluacion">
                            <h:outputText value="#{vEvaPer.nom_eva}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Fecha Evaluacion">
                            <h:outputText value="#{vEvaPer.f_eva}" />
                        </p:column>
                        <p:column style="width:32px;text-align: center">
                            <p:commandButton update=":pDetEvaPer" oncomplete="PF('wDetEvaPer').show()" onclick="PF('evaCabecera').selectRow(#{eindex})" icon="ui-icon-search" title="View" action="#{manEvaluacionPersonas.llenarDetalleEvaluacionPersonas}">
                                <f:setPropertyActionListener value="#{vEvaPer}" target="#{manEvaluacionPersonas.catevaluacionpersonas}" />
                            </p:commandButton>
                        </p:column>
                    </p:dataTable>
                </div>
            </h:form>
        </p:dialog>          

        <p:dialog  id="dlgDetEvaPer" widgetVar="wDetEvaPer" modal="true" showEffect="fade" hideEffect="fade" 
                   width="800" height="550" closable="false" resizable="false" 
                   header="Evaluaciones al personal" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="pDetEvaPer"> 
                <p:growl id="msgEvaPer" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">   
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wDetEvaPer').hide()"
                                         action="#{manEvaluacionPersonas.cerrardetalle()}" 
                                         update=":frmEvaPer"
                                         icon="ui-icon-close"
                                         />
                        <p:commandButton value="Imprimir" icon="ui-icon-print"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manEvaluacionPersonas.imprimir()}" 
                                         ajax="false"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:dataTable id="dtDetEvaPer" var="vDetEvaPer" 
                             value="#{manEvaluacionPersonas.detalleevaluacionpersonas}" 
                             emptyMessage="No se encontraron resultados" 
                             selectionMode="single" selection="#{manEvaluacionPersonas.catdetalleevaluacionpersonas}" 
                             rowKey="#{vDetEvaPer.id_det_eva_per}"
                             editable="false" 
                             style="width:780px"
                             scrollable="true"
                             scrollHeight="400"
                             widgetVar="evaDetalle"
                             rowIndexVar="findex"
                             >
                    <p:ajax event="rowSelect" listener="#{manEvaluacionPersonas.onRowDetalle}" 
                            update=":frmEvaPer" />
                    <f:facet name="header">
                        <h:outputText value="#{vDetEvaPer.nom_eva}" />
                    </f:facet>
                    <p:column style="width:10px" headerText="No." >
                        <h:outputText value="#{vDetEvaPer.num_preg}" />
                    </p:column>                     
                    <p:column style="width:80px" headerText="Factor" >
                        <h:outputText value="#{vDetEvaPer.nom_fac}" />
                    </p:column>
                    <p:column style="width:100px" headerText="Criterio">
                        <h:outputText value="#{vDetEvaPer.nom_cri}" />
                    </p:column>
                    <p:column style="width:300px" headerText="Calificación">  
                        <p:selectOneRadio onclick="PF('evaDetalle').selectRow(#{findex})" value="#{vDetEvaPer.calif}">
                            <f:selectItem itemLabel="Malo" itemValue="1" />
                            <f:selectItem itemLabel="Regular" itemValue="2" />
                            <f:selectItem itemLabel="Bueno" itemValue="3" />
                            <f:selectItem itemLabel="Excelente" itemValue="4" />
                        </p:selectOneRadio>  
                    </p:column> 
                </p:dataTable>
                <h:outputText value="Observaciones:" style="font-weight:bold;"/>
                <p:inputTextarea rows="3" cols="105" value="#{manEvaluacionPersonas.obs_eva}" counter="display" maxlength="500" counterTemplate="{0} caracteres disponibles." autoResize="false" />
                <h:outputText id="display" />
            </h:form>
        </p:dialog>

        <!-- *******************************************************************
        *********************** Pantalla Lista Específica **********************
        *********************************************************************-->

        <p:dialog  id="dlgLisEsp" widgetVar="wLisEsp" modal="true" 
                   width="580" height="400" closable="false" resizable="false" 
                   header="Listados Específicos" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmLisEsp"> 
                <p:growl id="msgLisEsp" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manListaEspecifica.nuevo()}"
                                         update=":frmLisEsp"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manListaEspecifica.guardar()}"
                                         update=":frmLisEsp"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manListaEspecifica.eliminar()}"
                                         update=":frmLisEsp"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wLisEsp').hide()"
                                         action="#{manListaEspecifica.cerrarventana()}" 
                                         update=":frmLisEsp"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Lista" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manListaEspecifica.cod_lis}" 
                                         style="width:440px;text-align:right;"
                                         immediate="false">  
                            <p:ajax event="change" listener="#{manListaEspecifica.llenarLista()}" update=":frmLisEsp" />
                            <f:selectItem itemLabel="Seleccione Una" itemValue="0" />
                            <f:selectItem itemLabel="Supervisores Producción" itemValue="1" />
                            <f:selectItem itemLabel="Técnicos Mantenimiento" itemValue="2" />
                            <f:selectItem itemLabel="Aprobaciones Compras" itemValue="3" />
                            <f:selectItem itemLabel="Aprobaciones Bodega" itemValue="4" />
                        </p:selectOneMenu>
                        <h:outputText value="Usuario" style="font-weight:bold;" />
                        <p:selectOneMenu value="#{manListaEspecifica.cod_usu}" 
                                         style="width:440px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manListaEspecifica.usuarios}" var="vusulisesp"
                                           itemLabel="#{vusulisesp.det_nom}" itemValue="#{vusulisesp.cod_usu}"/>
                        </p:selectOneMenu>

                    </h:panelGrid>
                    <p:dataTable id="dtDetLisEsp" var="vDetLisEsp" 
                                 value="#{manListaEspecifica.lista}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manListaEspecifica.catlistaespecifica}" 
                                 rowKey="#{vDetLisEsp.cod_lis},#{vDetLisEsp.cod_usu}"
                                 editable="false" 
                                 style="width:540px"
                                 scrollable="true"
                                 scrollHeight="220"
                                 >
                        <p:ajax event="rowSelect" listener="#{manListaEspecifica.onRowSelect}" 
                                update=":frmLisEsp" />
                        <p:column style="width:10px" headerText="Usuario">
                            <h:outputText value="#{vDetLisEsp.nom_usu}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        **************** Pantalla mantenimiento de Alertas          ********
        *********************************************************************-->

        <p:dialog  id="dlgAlertas" widgetVar="wAlertas" modal="true" 
                   width="650" height="500" closable="false" resizable="false" 
                   header="Mantenimiento de Alertas" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmAlertas" > 
                <p:growl id="msgAlertas" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manAlertas.nuevo()}"
                                         update=":frmAlertas"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manAlertas.guardar()}"
                                         update=":frmAlertas"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manAlertas.eliminar()}"
                                         update=":frmAlertas"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wAlertas').hide()"
                                         action="#{manAlertas.cerrarventana()}" 
                                         update=":frmAlertas"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Departamento" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manAlertas.cod_dep}" 
                                         style="width:200px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manAlertas.departamentos}" var="mdepale"
                                           itemLabel="#{mdepale.nom_dep}" itemValue="#{mdepale.cod_dep}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Tipo de alerta" style="font-weight:bold;" />
                        <p:selectOneMenu value="#{manAlertas.id_tip_ale}" 
                                         style="width:300px;text-align:right;"
                                         immediate="false">  
                            <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                            <f:selectItems value="#{manAlertas.tiposalertas}" var="mtipale"
                                           itemLabel="#{mtipale.nom_tip_ale}" itemValue="#{mtipale.id_tip_ale}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Dias antes para aviso" style="font-weight:bold;" />
                        <h:panelGroup>
                            <p:inputText maxlength="3" size="10" value="#{manAlertas.aviso}"
                                         onfocus="this.select()" onkeypress="return valida(event)"/>
                            <p:spacer width="10"/>
                            <h:outputText value="Dias para recordatorio" style="font-weight:bold;" />
                            <p:spacer width="10"/>
                            <p:inputText maxlength="3" size="10" value="#{manAlertas.recordatorio}"
                                         onfocus="this.select()" onkeypress="return valida(event)"/>
                        </h:panelGroup>             
                    </h:panelGrid>

                    <h:panelGrid columns="2" cellpadding="5">
                        <p:fieldset id="usudis" legend="Usuarios Disponibles" style="width:270px">
                            <p:dataTable id="usuariosDisponibles" var="usudis" value="#{manAlertas.usuarios}" style="width:260px" scrollHeight="150">
                                <p:column style="width:20px">
                                    <h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
                                    <p:draggable for="dragIcon" revert="true" helper="clone"/>
                                </p:column>

                                <p:column headerText="Id">
                                    <h:outputText value="#{usudis.cod_usu}" />
                                </p:column>

                                <p:column headerText="Usuario">
                                    <h:outputText value="#{usudis.nom_usu}" />
                                </p:column>
                            </p:dataTable>                        
                        </p:fieldset>

                        <p:fieldset id="ususel" legend="Usuarios Seleccionados" style="width:270px ">
                            <p:outputPanel id="dropArea">
                                <h:outputText value="Area de asignación." rendered="#{empty manAlertas.usuariosel}" style="font-size:24px;" />
                                <p:dataTable id="usuariosSeleccionados" var="ususel" value="#{manAlertas.usuariosel}" 
                                             rendered="#{not empty manAlertas.usuariosel}" style="width:260px" scrollHeight="150">
                                    <p:column style="width:20px">
                                        <h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
                                        <p:draggable for="dragIcon" revert="true" helper="clone"/>
                                    </p:column>
                                    <p:column headerText="Id">
                                        <h:outputText value="#{ususel.cod_usu}" />
                                    </p:column>

                                    <p:column headerText="Usuario">
                                        <h:outputText value="#{ususel.nom_usu}" />
                                    </p:column>
                                </p:dataTable>
                            </p:outputPanel>                    
                        </p:fieldset>
                    </h:panelGrid>

                    <p:droppable for="ususel" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="usuariosDisponibles">
                        <p:ajax listener="#{manAlertas.onUsuDrop}" update="dropArea usuariosDisponibles" />
                    </p:droppable>

                    <p:droppable for="usudis" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="usuariosSeleccionados">
                        <p:ajax listener="#{manAlertas.onUsuDropRet}" update="dropArea usuariosDisponibles" />
                    </p:droppable>
 
                    <p:dataTable id="dtAlertas" var="vAlertas" 
                                 value="#{manAlertas.alertas}" 
                                 rows ="3"
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manAlertas.catalertas}" 
                                 rowKey="#{vAlertas.id_ale}"
                                 editable="false" 
                                 style="width:600px"
                                 scrollable="true"
                                 paginator="true"
                                 paginatorPosition="top"
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 scrollHeight="75"
                                 >
                        <p:ajax event="rowSelect" listener="#{manAlertas.onRowSelect}" 
                                update=":frmAlertas" />
                        <p:column style="width:80px" headerText="Departamento">
                            <h:outputText value="#{vAlertas.nom_dep}" />
                        </p:column>                    
                        <p:column style="width:160px" headerText="Tipo Alerta">
                            <h:outputText value="#{vAlertas.nom_tip_ale}" />
                        </p:column>         
                        <p:column style="width:40px" headerText="Aviso">
                            <h:outputText value="#{vAlertas.aviso}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Recordar">
                            <h:outputText value="#{vAlertas.recordatorio}" />
                        </p:column>
                    </p:dataTable>
                </div>
     
            </h:form>
        </p:dialog>

        <!-- *******************************************************************
        **************** Pantalla Registro de Activo Fijo              ********
        *********************************************************************-->

        <p:dialog  id="dlgActivoFijo" widgetVar="wActivoFijo" modal="true" 
                   width="650" height="520" closable="false" resizable="false" 
                   header="Registro de Activo Fijo" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmActivoFijo"> 
                <p:growl id="msgActivoFijo" showDetail="true" life="4500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manActivoFijo.nuevo()}"
                                         update=":frmActivoFijo"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manActivoFijo.guardar()}"
                                         update=":frmActivoFijo"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manActivoFijo.eliminar()}"
                                         update=":frmActivoFijo"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wActivoFijo').hide()"
                                         action="#{manActivoFijo.cerrarventana()}" 
                                         update=":frmActivoFijo"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5" style="vertical-align:button;">
                        <h:outputText value="Tipo de Activo" style="font-weight:bold;"/>
                        <h:panelGroup>
                            <p:selectOneMenu value="#{manActivoFijo.id_tip_act}" 
                                             style="width:200px;text-align:right;"
                                             immediate="false">  
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                <f:selectItems value="#{manActivoFijo.tipoactivo}" var="mtipact"
                                               itemLabel="#{mtipact.des_tip_act}" itemValue="#{mtipact.id_tip_act}"/>
                            </p:selectOneMenu>
                            <p:spacer width="20"/>
                            <h:outputText value="Fecha Adquisicion" style="font-weight:bold;" />
                            <p:spacer width="20"/>	
                                <p:calendar  pattern="dd/MM/yyyy" locale="es" id="fdeeva"
                                             readonlyInput="true" 
                                             showOn="button" size="10"
                                             value="#{manActivoFijo.dfadqu}"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manActivoFijo.dateSelected}" />
                                </p:calendar> 
                        </h:panelGroup>
                        <h:outputText value="Descripcion" style="font-weight:bold;" />
                        <p:inputText maxlength="250" size="70" value="#{manActivoFijo.desc_equ}" 
                                     onfocus="this.select()"/>
                        
                        <h:outputText value="Valor de Adquisicion" style="font-weight:bold;"/>
                        <h:panelGroup>    
                            <p:inputText maxlength="20" size="20" value="#{manActivoFijo.valor_adqui}" 
                                         onfocus="this.select()" onkeypress="return valida(event)"/>
                            <p:spacer width="20" height="0"/>	
                            <h:outputText value="Departamento" style="font-weight:bold;" />
                            <p:spacer width="30" height="0"/>
                            <p:selectOneMenu value="#{manActivoFijo.id_depto}" 
                                         style="width:170px;text-align:right;"
                                         immediate="false">  
                                        <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                        <f:selectItems value="#{manActivoFijo.departamentos}" var="mdepact"
                                               itemLabel="#{mdepact.nom_dep}" itemValue="#{mdepact.cod_dep}"/>
                            </p:selectOneMenu>   
                        </h:panelGroup>
                        <h:outputText value="Seccion" style="font-weight:bold;" />
                        <p:inputText maxlength="200" size="70" value="#{manActivoFijo.seccion}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="Distribucion de gastos por porcentaje" style="font-weight:bold;" />
                        <h:panelGroup>
                            <p:selectBooleanCheckbox  value="#{manActivoFijo.dist_gast_porc}">
                                <p:ajax update="porDed porNoDed" event="change"/> 
                            </p:selectBooleanCheckbox>                                
                            <p:spacer width="25" height="0"/>
                            <h:outputText value="Tiempo depreciacion" style="font-weight:bold;" />
                            <p:spacer width="10" height="0"/>
                            <p:inputText maxlength="200" size="4" value="#{manActivoFijo.tiempo_deprecia}" 
                                         onfocus="this.select()" onkeypress="return valida(event)"/>
                            <p:spacer width="10" height="0"/>
                            <h:outputText value="Meses" style="font-weight:bold; width: 50px;" />
                            <p:spacer width="30" height="0"/>
                            <h:outputText value="Estado" style="font-weight:bold;" />
                            <p:spacer width="20" height="0"/>
                            <p:selectOneMenu value="#{manActivoFijo.id_estado}" 
                                             style="width:110px;text-align:right;"
                                             immediate="false">  
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0" />
                                <f:selectItem itemLabel="Nuevo" itemValue="1" />
                                <f:selectItem itemLabel="Usado" itemValue="2" />
                            </p:selectOneMenu>                            
                        </h:panelGroup>
                       <h:outputText value="Porcentaje deducible" style="font-weight:bold;" />
                        <h:panelGroup>
                            <h:panelGroup id="pnlprc">                              
                                <p:inputText id= "porDed" maxlength="3" size="3" value="#{manActivoFijo.porcentaje_deduc}" 
                                             onfocus="this.select()" onkeypress="return valida(event)" disabled="#{!manActivoFijo.dist_gast_porc}">
                                    <p:ajax event="change" listener="#{manActivoFijo.evaluaCuota()}" update="porNoDed cuoDepre" />   
                                </p:inputText>
                                <p:spacer width="10" height="0"/>
                                <h:outputText value="%" style="font-weight:bold;" />
                                <p:spacer width="15" height="0"/>
                                <h:outputText value="Porcentaje no deducible" style="font-weight:bold;"/>
                                <p:spacer width="10" height="0"/>
                                <p:inputText id= "porNoDed" maxlength="3" size="3" value="#{manActivoFijo.porcentaje_no_deduc}" disabled="#{!manActivoFijo.dist_gast_porc}"
                                             onfocus="this.select()" onkeypress="return valida(event)"/>
                                <p:spacer width="5" height="0"/>
                                <h:outputText value="%" style="font-weight:bold;" />
                                <p:spacer width="15" height="0"/>
                                <h:outputText value="Cuota Depreciación" style="font-weight:bold;" />
                                <p:spacer width="15" height="0"/>
                                <p:inputText id="cuoDepre" maxlength="12" size="12" value="#{manActivoFijo.cuota_mes_deprecia}" 
                                             onfocus="this.select()" onkeypress="return valida(event)"/>
                            </h:panelGroup>
                        </h:panelGroup>
                         <h:outputText value="Serie de equipo" style="font-weight:bold;" />
                         <h:panelGroup>
                            <p:inputText maxlength="150" size="24" value="#{manActivoFijo.serie_equ}" 
                                         onfocus="this.select()"/>
                            <p:spacer width="20" height="0"/>
                             <h:outputText value="Modelo de equipo" style="font-weight:bold;" />
                             <p:spacer width="20" height="0"/>
                            <p:inputText maxlength="150" size="24" value="#{manActivoFijo.modelo_equ}" 
                                         onfocus="this.select()"/>
                        </h:panelGroup>
                         <h:outputText value="Numero de inventario" style="font-weight:bold;" />
                         <h:panelGroup>
                            <p:inputText maxlength="200" size="24" value="#{manActivoFijo.no_inventario}" 
                                         onfocus="this.select()"/>
                             <p:spacer width="20" height="0"/>
                             <h:outputText value="Codigo de Equipo" style="font-weight:bold;" />
                             <p:spacer width="20" height="0"/>
                            <p:inputText maxlength="200" size="24" value="#{manActivoFijo.codigo_equ}" 
                                         onfocus="this.select()"/>
                         </h:panelGroup>
                         <h:outputText value="Observación" style="font-weight:bold;" />
                         <p:inputTextarea rows="2" cols="68"  value="#{manActivoFijo.observacion}" 
                                         onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtActivoFijo" var="vActivoFijo" 
                                 value="#{manActivoFijo.activofijo}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manActivoFijo.catactivofijo}" 
                                 rowKey="#{vActivoFijo.id_act_fij}"
                                 editable="false" 
                                 style="width:605px"
                                 scrollable="true"
                                 scrollHeight="95"
                                 widgetVar="activoFijoDT"
                                 rowIndexVar="afIndex"   
                                 >
                        <p:ajax event="rowSelect" listener="#{manActivoFijo.onRowSelect}" 
                                update=":frmActivoFijo" />
                        <p:column style="width:20px" headerText="Codigo">
                            <h:outputText value="#{vActivoFijo.codigo_equ}" />
                        </p:column>                    
                        <p:column style="width:80px" headerText="Descripción">
                            <h:outputText value="#{vActivoFijo.desc_equ}" />
                        </p:column>
                         <p:column style="width:40px" headerText="Serie">
                             <h:outputText value="#{vActivoFijo.serie_equ}" />
                        </p:column>
                         <p:column style="width:30px" headerText="Fecha Adquisición">
                             <h:outputText value="#{vActivoFijo.fecha_adquisicion}" />
                        </p:column>
                        <p:column style="width:32px;text-align: center">
                            <p:commandButton update=":dlgPeriodoActivoFijo" oncomplete="PF('wPeriodoActivoFijo').show()" onclick="PF('activoFijoDT').selectRow(#{afIndex})" icon="ui-icon-print" title="Ficha Activo Fijo" action="#{manActivoFijo.llenarFichaActivoFijo}">
                                <f:setPropertyActionListener value="#{vActivoFijo}" target="#{manActivoFijo.catactivofijo}" />
                            </p:commandButton>
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  
        <p:dialog  id="dlgPeriodoActivoFijo" widgetVar="wPeriodoActivoFijo" modal="true" 
                   width="250" height="120" closable="false" resizable="false" 
                   header="Periodo a calcular ficha de Activo Fijo" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmPeriodoActivoFijo">
                <p:growl id="messPeriodoActivoFijo" showDetail="true" />
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Imprimir" icon="ui-icon-print"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manPronosticoMtto.imprimir()}" 
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPeriodoActivoFijo').hide()"
                                         update=":frmActivoFijo"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                    <h:panelGrid columns="1">  
                        <h:outputText value="#{timelinepro.des_equ}" style="font-size:8px"/>  
                    </h:panelGrid>  
            </h:form>
        </p:dialog>


    </h:body>

</html>
